{
  "version": 3,
  "sources": ["src/app/features/controls/form/input.component.ts"],
  "sourcesContent": ["import {\n  AfterViewInit,\n  Component,\n  computed,\n  contentChildren,\n  ElementRef,\n  forwardRef,\n  HostBinding,\n  input,\n  output,\n  signal,\n  ViewChild\n} from '@angular/core';\nimport {ControlValueAccessor, FormsModule, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {ControlExtraTemplateDirective} from './control-extra-template.directive';\nimport {NgTemplateOutlet} from '@angular/common';\n\n@Component({\n  selector: 'lg-input',\n  standalone: true,\n  template: `\n    <div [class.contrast]=\"theme() === 'contrast'\"\n         class=\"lg-input\">\n      @if (beforeExtraTpl()?.templateRef) {\n        <div class=\"lg-input__before\">\n          <ng-container *ngTemplateOutlet=\"beforeExtraTpl()!.templateRef\"></ng-container>\n        </div>\n      }\n      <input #input\n             (blur)=\"focused.set(false)\"\n             (change)=\"onInputChanged.emit(value)\"\n             (focus)=\"focused.set(true)\"\n             (input)=\"onChangeInput($event)\"\n             (keydown.enter)=\"onEnter.emit(value)\"\n             [disabled]=\"disable()\"\n             [placeholder]=\"placeholder()\"\n             [value]=\"value\"\n             class=\"input\"\n             [type]=\"inputType()\">\n\n      @if (value && !disable()) {\n       <button class=\"lg-input__clear\"\n               (click)=\"clear()\"\n               type=\"button\">\n         Ã—\n       </button>\n      }\n\n      @if (afterExtraTpl()?.templateRef) {\n        <div class=\"lg-input__after\">\n          <ng-container *ngTemplateOutlet=\"afterExtraTpl()!.templateRef\"></ng-container>\n        </div>\n      }\n    </div>\n  `,\n  styles: [\n    `\n      :host {\n        display: flex;\n        flex: 1;\n\n        &.focused {\n          box-shadow: var(--focus-shadow);\n          border-radius: 12px;\n        }\n      }\n\n      .lg-input {\n        display: flex;\n        flex: 1;\n        background-color: var(--control-bg);\n        border-radius: 12px;\n        gap: 16px;\n      }\n\n      .lg-input__after {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n        padding: 0 16px;\n        white-space: nowrap;\n        flex: 0 0 auto;\n      }\n\n      .lg-input__before {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n        padding: 0 16px;\n        white-space: nowrap;\n        flex: 0 0 auto;\n      }\n\n      .lg-input__clear {\n        color: #999;\n        font-size: 18px;\n        line-height: 1;\n        font-family: inherit;\n        padding: 0;\n        border: none;\n        appearance: none;\n        background-color: transparent;\n        margin-right: 16px;\n      }\n\n      .input {\n        flex: 1;\n        border: none;\n        padding: 16px;\n        border-radius: 12px;\n        font-family: inherit;\n        font-size: inherit;\n        background-color: transparent;\n        width: 100%;\n      }\n\n      .input::placeholder {\n        color: var(--placeholder);\n      }\n\n      .input:focus {\n        outline: none;\n      }\n    `\n  ],\n  imports: [\n    FormsModule,\n    NgTemplateOutlet,\n  ],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => InputComponent),\n      multi: true\n    }\n  ]\n})\n\nexport class InputComponent\n  implements ControlValueAccessor, AfterViewInit {\n  constructor() {\n  }\n\n  @ViewChild('input', {static: true}) input: ElementRef<HTMLInputElement> | undefined;\n  value: string = '';\n  focused = signal<boolean>(false);\n  placeholder = input('Enter text here');\n  autoFocus = input(false);\n  inputType = input<string>('text');\n  disable = input(false);\n  onInputChanged = output<string>();\n  onEnter = output<string>();\n  theme = input<\n    'default' | 'contrast'\n  >('default');\n  noAfter = signal(false);\n  extraTpl = contentChildren(ControlExtraTemplateDirective, {descendants: true});\n  afterExtraTpl = computed(() => {\n    return this.extraTpl().find(tpl => tpl.place() === 'after');\n  });\n  beforeExtraTpl = computed(() => {\n    return this.extraTpl().find(tpl => tpl.place() === 'before');\n  });\n\n  @HostBinding('class.focused') get focusedClass() {\n    return this.focused();\n  }\n\n  onChange: (value: string) => void = () => {\n  };\n\n  onTouched: () => void = () => {\n  };\n\n  writeValue(value: string): void {\n    this._change(value);\n  }\n\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  onChangeInput(\n    event: Event\n  ) {\n    this._change((event.target as HTMLInputElement).value);\n  }\n\n  focus() {\n    this.input?.nativeElement.focus();\n  }\n\n\n  ngAfterViewInit() {\n    if (this.autoFocus()) {\n      this.focus();\n    }\n  }\n\n  private _change(value: string) {\n    this.value = String(value || '').trim();\n    this.onChange(this.value);\n  }\n\n  clear() {\n    this._change('');\n    this.focus();\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
