{
  "version": 3,
  "sources": ["src/app/features/home/view/last-edited-products/last-edited-products.component.ts"],
  "sourcesContent": ["import {ChangeDetectionStrategy, Component, inject, signal} from '@angular/core';\nimport {FlexColumnComponent} from '../../../../shared/view/layout/flex-column.component';\nimport {RouterLink} from '@angular/router';\n\nimport {TitleComponent} from '../../../../shared/view/layout/title.component';\nimport {TimeAgoPipe} from '../../../../shared/view/pipes/time-ago.pipe';\nimport {ProductsRepository} from '../../../products/service/products.repository';\nimport {Product} from '../../../products/service/Product';\nimport {FlexRowComponent} from '../../../../shared/view/layout/flex-row.component';\nimport {PullDirective} from '../../../../shared/view/directives/pull.directive';\nimport {TranslatePipe} from '@ngx-translate/core';\nimport {productLabelFactoryProvider} from '../../../../shared/factories/entity-labels/product.label.factory';\nimport {errorHandler} from '../../../../shared/helpers';\nimport {NotificationsService} from '../../../../shared/service/services';\n\n@Component({\n  selector: 'lg-last-edited-products',\n  template: `\n    <lg-flex-column size=\"medium\">\n      <lg-title [level]=\"4\">{{ 'main.last-products'|translate }}</lg-title>\n\n      <div class=\"last-edited-recipes\">\n        <lg-flex-column [size]=\"'medium'\">\n          @for (item of products(); track item.product.uuid) {\n            <lg-flex-row [size]=\"'medium'\" [mobileMode]=\"true\">\n              <a [routerLink]=\"['/products/edit/', item.product.uuid]\"\n                 class=\"last-edited-product\">\n                {{ productLabelFactory(item.product) }}\n              </a>\n\n              <small class=\"text-muted text-right text-cursive\" lgPull>\n                {{ (item?.updatedAt) | timeAgo }}\n              </small>\n            </lg-flex-row>\n          } @empty {\n            <div class=\"last-edited-recipe-name\">\n              {{ 'no-products'|translate }}\n            </div>\n          }\n        </lg-flex-column>\n      </div>\n    </lg-flex-column>\n  `,\n  styles: [\n    `\n      :host {\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n      }\n    `,\n  ],\n  imports: [\n    FlexColumnComponent,\n    RouterLink,\n    TitleComponent,\n    TimeAgoPipe,\n    FlexRowComponent,\n    PullDirective,\n    TranslatePipe\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LastEditedProductsComponent {\n  constructor(\n    private _productsRepository: ProductsRepository,\n  ) {\n  }\n\n  products = signal<{\n    product: Product\n    updatedAt: number\n    count: number\n  }[]>([]);\n  protected readonly productLabelFactory = inject(productLabelFactoryProvider);\n  private readonly _notificationsService = inject(NotificationsService);\n\n  ngOnInit() {\n    this._productsRepository.getLastProducts()\n      .then(products => {\n        this.products.set(products);\n      })\n      .catch(error => {\n        this._notificationsService.error(errorHandler(error));\n      });\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
