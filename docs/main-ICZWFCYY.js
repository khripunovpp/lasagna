import{a as $i,b as Zi}from"./chunk-37YENXMF.js";import{a as ie}from"./chunk-MQURMJGL.js";import{a as ot}from"./chunk-LB3TUETV.js";import{a as on}from"./chunk-PRC2TUST.js";import{a as Qi}from"./chunk-BR4H3P2L.js";import{a as sn}from"./chunk-5MCIXAOV.js";import{a as Ut,b as an}from"./chunk-AXQKNJQU.js";import{c as st}from"./chunk-QRIF72IR.js";import{a as at}from"./chunk-ZG5DSIBK.js";import"./chunk-BBWM53XJ.js";import{a as Ft,f as Ji,i as en,l as tn,r as nn,s as rn}from"./chunk-SVQANG7A.js";import"./chunk-IPKCCBOY.js";import{f as qi}from"./chunk-LT4T7YA7.js";import{A as lt,b as Ui,f as Li,k as Hi,l as Gi,n as Bi,o as ji,q as Vi,r as Wi,t as Yi,u as it,v as nt,w as rt,x as Xi,y as zi,z as Ki}from"./chunk-UAPQ4Z4N.js";import{$ as _i,A as Nt,Ab as f,Ba as Ei,Bb as A,Da as Je,F as mi,Fb as tt,H as me,Ib as $,Ic as Fi,Jb as F,P as J,R as gi,Ra as kt,S as vi,Sa as m,Sb as Ii,Tb as xi,U as le,Va as bi,Vb as S,X as qe,Xa as j,Xb as ue,Y as q,Ya as Si,Z as v,_ as $e,ab as V,ac as wi,bc as Z,c as Xe,cb as Pi,cc as xe,ea as Ze,f as ze,fa as Ke,gc as Oi,ha as Qe,hc as Ai,jb as et,k as fi,l as Mt,la as ce,lb as Dt,ma as Ci,mc as Mi,nb as I,pb as Ri,pc as Ni,q as Ie,sa as yi,tb as k,ub as D,wb as ge,wc as ki,xa as Ti,xb as ee,yb as te,z as fe,zb as g,zc as Di}from"./chunk-SYQBEC7E.js";import"./chunk-DELOOZDJ.js";import{a as hi,d as nr,e as rr,f as C}from"./chunk-2WH2EVR6.js";var vn=nr((xo,ct)=>{"use strict";(function(r,o,n,s){"use strict";var l=["","webkit","Moz","MS","ms","o"],p=o.createElement("div"),d="function",_=Math.round,b=Math.abs,w=Date.now;function K(e,t,i){return setTimeout(Ct(e,i),t)}function pe(e,t,i){return Array.isArray(e)?(W(e,i[t],i),!0):!1}function W(e,t,i){var a;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==s)for(a=0;a<e.length;)t.call(i,e[a],a,e),a++;else for(a in e)e.hasOwnProperty(a)&&t.call(i,e[a],a,e)}function Bt(e,t,i){var a="DEPRECATED METHOD: "+t+`
`+i+` AT 
`;return function(){var c=new Error("get-stack-trace"),u=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",h=r.console&&(r.console.warn||r.console.log);return h&&h.call(r.console,a,u),e.apply(this,arguments)}}var L;typeof Object.assign!="function"?L=function(t){if(t===s||t===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),a=1;a<arguments.length;a++){var c=arguments[a];if(c!==s&&c!==null)for(var u in c)c.hasOwnProperty(u)&&(i[u]=c[u])}return i}:L=Object.assign;var jt=Bt(function(t,i,a){for(var c=Object.keys(i),u=0;u<c.length;)(!a||a&&t[c[u]]===s)&&(t[c[u]]=i[c[u]]),u++;return t},"extend","Use `assign`."),Tn=Bt(function(t,i){return jt(t,i,!0)},"merge","Use `assign`.");function O(e,t,i){var a=t.prototype,c;c=e.prototype=Object.create(a),c.constructor=e,c._super=a,i&&L(c,i)}function Ct(e,t){return function(){return e.apply(t,arguments)}}function yt(e,t){return typeof e==d?e.apply(t&&t[0]||s,t):e}function Vt(e,t){return e===s?t:e}function Ae(e,t,i){W(Ne(t),function(a){e.addEventListener(a,i,!1)})}function Me(e,t,i){W(Ne(t),function(a){e.removeEventListener(a,i,!1)})}function Wt(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function re(e,t){return e.indexOf(t)>-1}function Ne(e){return e.trim().split(/\s+/g)}function de(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var a=0;a<e.length;){if(i&&e[a][i]==t||!i&&e[a]===t)return a;a++}return-1}function ke(e){return Array.prototype.slice.call(e,0)}function Yt(e,t,i){for(var a=[],c=[],u=0;u<e.length;){var h=t?e[u][t]:e[u];de(c,h)<0&&a.push(e[u]),c[u]=h,u++}return i&&(t?a=a.sort(function(E,R){return E[t]>R[t]}):a=a.sort()),a}function De(e,t){for(var i,a,c=t[0].toUpperCase()+t.slice(1),u=0;u<l.length;){if(i=l[u],a=i?i+c:t,a in e)return a;u++}return s}var En=1;function bn(){return En++}function Xt(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var Sn=/mobile|tablet|ip(ad|hone|od)|android/i,zt="ontouchstart"in r,Pn=De(r,"PointerEvent")!==s,Rn=zt&&Sn.test(navigator.userAgent),Ce="touch",In="pen",Tt="mouse",xn="kinect",wn=25,P=1,oe=2,y=4,x=8,Fe=1,ye=2,Te=4,Ee=8,be=16,H=ye|Te,ae=Ee|be,qt=H|ae,$t=["x","y"],Ue=["clientX","clientY"];function M(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){yt(e.options.enable,[e])&&i.handler(a)},this.init()}M.prototype={handler:function(){},init:function(){this.evEl&&Ae(this.element,this.evEl,this.domHandler),this.evTarget&&Ae(this.target,this.evTarget,this.domHandler),this.evWin&&Ae(Xt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Me(this.element,this.evEl,this.domHandler),this.evTarget&&Me(this.target,this.evTarget,this.domHandler),this.evWin&&Me(Xt(this.element),this.evWin,this.domHandler)}};function On(e){var t,i=e.options.inputClass;return i?t=i:Pn?t=bt:Rn?t=Ge:zt?t=St:t=He,new t(e,An)}function An(e,t,i){var a=i.pointers.length,c=i.changedPointers.length,u=t&P&&a-c===0,h=t&(y|x)&&a-c===0;i.isFirst=!!u,i.isFinal=!!h,u&&(e.session={}),i.eventType=t,Mn(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function Mn(e,t){var i=e.session,a=t.pointers,c=a.length;i.firstInput||(i.firstInput=Zt(t)),c>1&&!i.firstMultiple?i.firstMultiple=Zt(t):c===1&&(i.firstMultiple=!1);var u=i.firstInput,h=i.firstMultiple,T=h?h.center:u.center,E=t.center=Kt(a);t.timeStamp=w(),t.deltaTime=t.timeStamp-u.timeStamp,t.angle=Et(T,E),t.distance=Le(T,E),Nn(i,t),t.offsetDirection=Jt(t.deltaX,t.deltaY);var R=Qt(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=R.x,t.overallVelocityY=R.y,t.overallVelocity=b(R.x)>b(R.y)?R.x:R.y,t.scale=h?Fn(h.pointers,a):1,t.rotation=h?Dn(h.pointers,a):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,kn(i,t);var B=e.element;Wt(t.srcEvent.target,B)&&(B=t.srcEvent.target),t.target=B}function Nn(e,t){var i=t.center,a=e.offsetDelta||{},c=e.prevDelta||{},u=e.prevInput||{};(t.eventType===P||u.eventType===y)&&(c=e.prevDelta={x:u.deltaX||0,y:u.deltaY||0},a=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=c.x+(i.x-a.x),t.deltaY=c.y+(i.y-a.y)}function kn(e,t){var i=e.lastInterval||t,a=t.timeStamp-i.timeStamp,c,u,h,T;if(t.eventType!=x&&(a>wn||i.velocity===s)){var E=t.deltaX-i.deltaX,R=t.deltaY-i.deltaY,B=Qt(a,E,R);u=B.x,h=B.y,c=b(B.x)>b(B.y)?B.x:B.y,T=Jt(E,R),e.lastInterval=t}else c=i.velocity,u=i.velocityX,h=i.velocityY,T=i.direction;t.velocity=c,t.velocityX=u,t.velocityY=h,t.direction=T}function Zt(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:_(e.pointers[i].clientX),clientY:_(e.pointers[i].clientY)},i++;return{timeStamp:w(),pointers:t,center:Kt(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Kt(e){var t=e.length;if(t===1)return{x:_(e[0].clientX),y:_(e[0].clientY)};for(var i=0,a=0,c=0;c<t;)i+=e[c].clientX,a+=e[c].clientY,c++;return{x:_(i/t),y:_(a/t)}}function Qt(e,t,i){return{x:t/e||0,y:i/e||0}}function Jt(e,t){return e===t?Fe:b(e)>=b(t)?e<0?ye:Te:t<0?Ee:be}function Le(e,t,i){i||(i=$t);var a=t[i[0]]-e[i[0]],c=t[i[1]]-e[i[1]];return Math.sqrt(a*a+c*c)}function Et(e,t,i){i||(i=$t);var a=t[i[0]]-e[i[0]],c=t[i[1]]-e[i[1]];return Math.atan2(c,a)*180/Math.PI}function Dn(e,t){return Et(t[1],t[0],Ue)+Et(e[1],e[0],Ue)}function Fn(e,t){return Le(t[0],t[1],Ue)/Le(e[0],e[1],Ue)}var Un={mousedown:P,mousemove:oe,mouseup:y},Ln="mousedown",Hn="mousemove mouseup";function He(){this.evEl=Ln,this.evWin=Hn,this.pressed=!1,M.apply(this,arguments)}O(He,M,{handler:function(t){var i=Un[t.type];i&P&&t.button===0&&(this.pressed=!0),i&oe&&t.which!==1&&(i=y),this.pressed&&(i&y&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:Tt,srcEvent:t}))}});var Gn={pointerdown:P,pointermove:oe,pointerup:y,pointercancel:x,pointerout:x},Bn={2:Ce,3:In,4:Tt,5:xn},ei="pointerdown",ti="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(ei="MSPointerDown",ti="MSPointerMove MSPointerUp MSPointerCancel");function bt(){this.evEl=ei,this.evWin=ti,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}O(bt,M,{handler:function(t){var i=this.store,a=!1,c=t.type.toLowerCase().replace("ms",""),u=Gn[c],h=Bn[t.pointerType]||t.pointerType,T=h==Ce,E=de(i,t.pointerId,"pointerId");u&P&&(t.button===0||T)?E<0&&(i.push(t),E=i.length-1):u&(y|x)&&(a=!0),!(E<0)&&(i[E]=t,this.callback(this.manager,u,{pointers:i,changedPointers:[t],pointerType:h,srcEvent:t}),a&&i.splice(E,1))}});var jn={touchstart:P,touchmove:oe,touchend:y,touchcancel:x},Vn="touchstart",Wn="touchstart touchmove touchend touchcancel";function ii(){this.evTarget=Vn,this.evWin=Wn,this.started=!1,M.apply(this,arguments)}O(ii,M,{handler:function(t){var i=jn[t.type];if(i===P&&(this.started=!0),!!this.started){var a=Yn.call(this,t,i);i&(y|x)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,i,{pointers:a[0],changedPointers:a[1],pointerType:Ce,srcEvent:t})}}});function Yn(e,t){var i=ke(e.touches),a=ke(e.changedTouches);return t&(y|x)&&(i=Yt(i.concat(a),"identifier",!0)),[i,a]}var Xn={touchstart:P,touchmove:oe,touchend:y,touchcancel:x},zn="touchstart touchmove touchend touchcancel";function Ge(){this.evTarget=zn,this.targetIds={},M.apply(this,arguments)}O(Ge,M,{handler:function(t){var i=Xn[t.type],a=qn.call(this,t,i);a&&this.callback(this.manager,i,{pointers:a[0],changedPointers:a[1],pointerType:Ce,srcEvent:t})}});function qn(e,t){var i=ke(e.touches),a=this.targetIds;if(t&(P|oe)&&i.length===1)return a[i[0].identifier]=!0,[i,i];var c,u,h=ke(e.changedTouches),T=[],E=this.target;if(u=i.filter(function(R){return Wt(R.target,E)}),t===P)for(c=0;c<u.length;)a[u[c].identifier]=!0,c++;for(c=0;c<h.length;)a[h[c].identifier]&&T.push(h[c]),t&(y|x)&&delete a[h[c].identifier],c++;if(T.length)return[Yt(u.concat(T),"identifier",!0),T]}var $n=2500,ni=25;function St(){M.apply(this,arguments);var e=Ct(this.handler,this);this.touch=new Ge(this.manager,e),this.mouse=new He(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}O(St,M,{handler:function(t,i,a){var c=a.pointerType==Ce,u=a.pointerType==Tt;if(!(u&&a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents)){if(c)Zn.call(this,i,a);else if(u&&Kn.call(this,a))return;this.callback(t,i,a)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Zn(e,t){e&P?(this.primaryTouch=t.changedPointers[0].identifier,ri.call(this,t)):e&(y|x)&&ri.call(this,t)}function ri(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var a=this.lastTouches,c=function(){var u=a.indexOf(i);u>-1&&a.splice(u,1)};setTimeout(c,$n)}}function Kn(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,a=0;a<this.lastTouches.length;a++){var c=this.lastTouches[a],u=Math.abs(t-c.x),h=Math.abs(i-c.y);if(u<=ni&&h<=ni)return!0}return!1}var oi=De(p.style,"touchAction"),ai=oi!==s,si="compute",li="auto",Pt="manipulation",se="none",Se="pan-x",Pe="pan-y",Be=Jn();function Rt(e,t){this.manager=e,this.set(t)}Rt.prototype={set:function(e){e==si&&(e=this.compute()),ai&&this.manager.element.style&&Be[e]&&(this.manager.element.style[oi]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return W(this.manager.recognizers,function(t){yt(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Qn(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var a=this.actions,c=re(a,se)&&!Be[se],u=re(a,Pe)&&!Be[Pe],h=re(a,Se)&&!Be[Se];if(c){var T=e.pointers.length===1,E=e.distance<2,R=e.deltaTime<250;if(T&&E&&R)return}if(!(h&&u)&&(c||u&&i&H||h&&i&ae))return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function Qn(e){if(re(e,se))return se;var t=re(e,Se),i=re(e,Pe);return t&&i?se:t||i?t?Se:Pe:re(e,Pt)?Pt:li}function Jn(){if(!ai)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=t?r.CSS.supports("touch-action",i):!0}),e}var je=1,N=2,he=4,Q=8,Y=Q,Re=16,G=32;function X(e){this.options=L({},this.defaults,e||{}),this.id=bn(),this.manager=null,this.options.enable=Vt(this.options.enable,!0),this.state=je,this.simultaneous={},this.requireFail=[]}X.prototype={defaults:{},set:function(e){return L(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(pe(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Ve(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return pe(e,"dropRecognizeWith",this)?this:(e=Ve(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(pe(e,"requireFailure",this))return this;var t=this.requireFail;return e=Ve(e,this),de(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(pe(e,"dropRequireFailure",this))return this;e=Ve(e,this);var t=de(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function a(c){t.manager.emit(c,e)}i<Q&&a(t.options.event+ci(i)),a(t.options.event),e.additionalEvent&&a(e.additionalEvent),i>=Q&&a(t.options.event+ci(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=G},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(G|je)))return!1;e++}return!0},recognize:function(e){var t=L({},e);if(!yt(this.options.enable,[this,t])){this.reset(),this.state=G;return}this.state&(Y|Re|G)&&(this.state=je),this.state=this.process(t),this.state&(N|he|Q|Re)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}};function ci(e){return e&Re?"cancel":e&Q?"end":e&he?"move":e&N?"start":""}function ui(e){return e==be?"down":e==Ee?"up":e==ye?"left":e==Te?"right":""}function Ve(e,t){var i=t.manager;return i?i.get(e):e}function U(){X.apply(this,arguments)}O(U,X,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,a=t&(N|he),c=this.attrTest(e);return a&&(i&x||!c)?t|Re:a||c?i&y?t|Q:t&N?t|he:N:G}});function We(){U.apply(this,arguments),this.pX=null,this.pY=null}O(We,U,{defaults:{event:"pan",threshold:10,pointers:1,direction:qt},getTouchAction:function(){var e=this.options.direction,t=[];return e&H&&t.push(Pe),e&ae&&t.push(Se),t},directionTest:function(e){var t=this.options,i=!0,a=e.distance,c=e.direction,u=e.deltaX,h=e.deltaY;return c&t.direction||(t.direction&H?(c=u===0?Fe:u<0?ye:Te,i=u!=this.pX,a=Math.abs(e.deltaX)):(c=h===0?Fe:h<0?Ee:be,i=h!=this.pY,a=Math.abs(e.deltaY))),e.direction=c,i&&a>t.threshold&&c&t.direction},attrTest:function(e){return U.prototype.attrTest.call(this,e)&&(this.state&N||!(this.state&N)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ui(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}});function It(){U.apply(this,arguments)}O(It,U,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&N)},emit:function(e){if(e.scale!==1){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}});function xt(){X.apply(this,arguments),this._timer=null,this._input=null}O(xt,X,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[li]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,a=e.distance<t.threshold,c=e.deltaTime>t.time;if(this._input=e,!a||!i||e.eventType&(y|x)&&!c)this.reset();else if(e.eventType&P)this.reset(),this._timer=K(function(){this.state=Y,this.tryEmit()},t.time,this);else if(e.eventType&y)return Y;return G},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Y&&(e&&e.eventType&y?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=w(),this.manager.emit(this.options.event,this._input)))}});function wt(){U.apply(this,arguments)}O(wt,U,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&N)}});function Ot(){U.apply(this,arguments)}O(Ot,U,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:H|ae,pointers:1},getTouchAction:function(){return We.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,i;return t&(H|ae)?i=e.overallVelocity:t&H?i=e.overallVelocityX:t&ae&&(i=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&b(i)>this.options.velocity&&e.eventType&y},emit:function(e){var t=ui(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}});function Ye(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}O(Ye,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Pt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,a=e.distance<t.threshold,c=e.deltaTime<t.time;if(this.reset(),e.eventType&P&&this.count===0)return this.failTimeout();if(a&&c&&i){if(e.eventType!=y)return this.failTimeout();var u=this.pTime?e.timeStamp-this.pTime<t.interval:!0,h=!this.pCenter||Le(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!h||!u?this.count=1:this.count+=1,this._input=e;var T=this.count%t.taps;if(T===0)return this.hasRequireFailures()?(this._timer=K(function(){this.state=Y,this.tryEmit()},t.interval,this),N):Y}return G},failTimeout:function(){return this._timer=K(function(){this.state=G},this.options.interval,this),G},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Y&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function z(e,t){return t=t||{},t.recognizers=Vt(t.recognizers,z.defaults.preset),new At(e,t)}z.VERSION="2.0.7",z.defaults={domEvents:!1,touchAction:si,enable:!0,inputTarget:null,inputClass:null,preset:[[wt,{enable:!1}],[It,{enable:!1},["rotate"]],[Ot,{direction:H}],[We,{direction:H},["swipe"]],[Ye],[Ye,{event:"doubletap",taps:2},["tap"]],[xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var er=1,pi=2;function At(e,t){this.options=L({},z.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=On(this),this.touchAction=new Rt(this,this.options.touchAction),di(this,!0),W(this.options.recognizers,function(i){var a=this.add(new i[0](i[1]));i[2]&&a.recognizeWith(i[2]),i[3]&&a.requireFailure(i[3])},this)}At.prototype={set:function(e){return L(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?pi:er},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,a=this.recognizers,c=t.curRecognizer;(!c||c&&c.state&Y)&&(c=t.curRecognizer=null);for(var u=0;u<a.length;)i=a[u],t.stopped!==pi&&(!c||i==c||i.canRecognizeWith(c))?i.recognize(e):i.reset(),!c&&i.state&(N|he|Q)&&(c=t.curRecognizer=i),u++}},get:function(e){if(e instanceof X)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(pe(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(pe(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,i=de(t,e);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var i=this.handlers;return W(Ne(e),function(a){i[a]=i[a]||[],i[a].push(t)}),this}},off:function(e,t){if(e!==s){var i=this.handlers;return W(Ne(e),function(a){t?i[a]&&i[a].splice(de(i[a],t),1):delete i[a]}),this}},emit:function(e,t){this.options.domEvents&&tr(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(!(!i||!i.length)){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<i.length;)i[a](t),a++}},destroy:function(){this.element&&di(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function di(e,t){var i=e.element;if(i.style){var a;W(e.options.cssProps,function(c,u){a=De(i.style,u),t?(e.oldCssProps[a]=i.style[a],i.style[a]=c):i.style[a]=e.oldCssProps[a]||""}),t||(e.oldCssProps={})}}function tr(e,t){var i=o.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}L(z,{INPUT_START:P,INPUT_MOVE:oe,INPUT_END:y,INPUT_CANCEL:x,STATE_POSSIBLE:je,STATE_BEGAN:N,STATE_CHANGED:he,STATE_ENDED:Q,STATE_RECOGNIZED:Y,STATE_CANCELLED:Re,STATE_FAILED:G,DIRECTION_NONE:Fe,DIRECTION_LEFT:ye,DIRECTION_RIGHT:Te,DIRECTION_UP:Ee,DIRECTION_DOWN:be,DIRECTION_HORIZONTAL:H,DIRECTION_VERTICAL:ae,DIRECTION_ALL:qt,Manager:At,Input:M,TouchAction:Rt,TouchInput:Ge,MouseInput:He,PointerEventInput:bt,TouchMouseInput:St,SingleTouchInput:ii,Recognizer:X,AttrRecognizer:U,Tap:Ye,Pan:We,Swipe:Ot,Pinch:It,Rotate:wt,Press:xt,on:Ae,off:Me,each:W,merge:Tn,extend:jt,assign:L,inherit:O,bindFn:Ct,prefixed:De});var ir=typeof r<"u"?r:typeof self<"u"?self:{};ir.Hammer=z,typeof define=="function"&&define.amd?define(function(){return z}):typeof ct<"u"&&ct.exports?ct.exports=z:r[n]=z})(window,document,"Hammer")});var Lt=(r,o)=>C(void 0,null,function*(){let n=r.paramMap.get("uuid");return v(ie)?.getOne(n)});var ln=(r,o)=>C(void 0,null,function*(){let n=r.paramMap.get("uuid");return v($i)?.calculateRecipe(n)});var cn=(r,o)=>C(void 0,null,function*(){let n=r.paramMap.get("uuid"),s=v(ie),l=v(Zi),d=(yield s.getOne(n))?.taxTemplateName;return d?l.getTemplateByName("tax",d):null});var un=(r,o)=>C(void 0,null,function*(){let n=r.params.uuid,s=v(nt),p=v(ie)?.getDraftRecipe(n);if(p?.length)return p[0];{let d=s.parseUrl("/recipes/add");return new it(d)}});var pn=(r,o)=>C(void 0,null,function*(){let n=r.params.uuid,s=v(nt),p=v(st)?.getDraftProducts(n);if(p?.length)return p[0];{let d=s.parseUrl("/products/add");return new it(d)}});var dn=[{path:"",children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-LTJ6YGY3.js").then(r=>r.ApplicationComponent)},{path:"recipes",children:[{path:"",loadComponent:()=>import("./chunk-FJBBGR2K.js").then(r=>r.RecipesListComponent)},{path:"add",loadComponent:()=>import("./chunk-LKE5DSRH.js").then(r=>r.AddRecipeComponent)},{path:"edit/:uuid",loadComponent:()=>import("./chunk-LKE5DSRH.js").then(r=>r.AddRecipeComponent),resolve:{recipe:Lt},data:{editRoute:!0}},{path:"draft/:uuid",loadComponent:()=>import("./chunk-LKE5DSRH.js").then(r=>r.AddRecipeComponent),resolve:{draft:un},data:{draftRoute:!0}},{path:"calculate/:uuid",loadComponent:()=>import("./chunk-UEGNVRDK.js").then(r=>r.CalculateRecipeComponent),resolve:{result:ln,template:cn}}]},{path:"products",children:[{path:"",loadComponent:()=>import("./chunk-WOBJ7LMT.js").then(r=>r.ProductListComponent)},{path:"add",loadComponent:()=>import("./chunk-YAPLLYVN.js").then(r=>r.AddProductComponent)},{path:"edit/:uuid",loadComponent:()=>import("./chunk-YAPLLYVN.js").then(r=>r.AddProductComponent),resolve:{product:Lt},data:{editRoute:!0}},{path:"draft/:uuid",loadComponent:()=>import("./chunk-YAPLLYVN.js").then(r=>r.AddProductComponent),resolve:{draft:pn},data:{draftRoute:!0}}]},{path:"settings",children:[{path:"",loadComponent:()=>import("./chunk-PIZ4GDIX.js").then(r=>r.SettingsComponent)},{path:"categories",children:[{path:"products",children:[{path:"",loadComponent:()=>import("./chunk-5W2EYNG7.js").then(r=>r.CategoryListComponent)},{path:"add",loadComponent:()=>import("./chunk-DJOGNJD7.js").then(r=>r.AddCategoryComponent)},{path:"edit/:uuid",loadComponent:()=>import("./chunk-DJOGNJD7.js").then(r=>r.AddCategoryComponent)}]},{path:"recipes",children:[{path:"",loadComponent:()=>import("./chunk-QXX27KO3.js").then(r=>r.CategoryRecipeListComponent)},{path:"add",loadComponent:()=>import("./chunk-N25PGQGZ.js").then(r=>r.AddCategoryRecipeComponent)},{path:"edit/:uuid",loadComponent:()=>import("./chunk-N25PGQGZ.js").then(r=>r.AddCategoryRecipeComponent)}]}]}]},{path:"widgets",loadComponent:()=>import("./chunk-PGGCLCWC.js").then(r=>r.WidgetsPageComponent)}]}];var we="Service workers are disabled or not supported by this browser",ve=class{serviceWorker;worker;registration;events;constructor(o,n){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=new Xe(s=>s.error(new Error(we)));else{let s=null,l=new ze;this.worker=new Xe(w=>(s!==null&&w.next(s),l.subscribe(K=>w.next(K))));let p=()=>{let{controller:w}=o;w!==null&&(s=w,l.next(s))};o.addEventListener("controllerchange",p),p(),this.registration=this.worker.pipe(J(()=>o.getRegistration()));let d=new ze;this.events=d.asObservable();let _=w=>{let{data:K}=w;K?.type&&d.next(K)};o.addEventListener("message",_),n?.get(Dt,null,{optional:!0})?.onDestroy(()=>{o.removeEventListener("controllerchange",p),o.removeEventListener("message",_)})}}postMessage(o,n){return new Promise(s=>{this.worker.pipe(me(1)).subscribe(l=>{l.postMessage(hi({action:o},n)),s()})})}postMessageWithOperation(o,n,s){let l=this.waitForOperationCompleted(s),p=this.postMessage(o,n);return Promise.all([p,l]).then(([,d])=>d)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let n;return typeof o=="string"?n=s=>s.type===o:n=s=>o.includes(s.type),this.events.pipe(Nt(n))}nextEventOfType(o){return this.eventsOfType(o).pipe(me(1))}waitForOperationCompleted(o){return new Promise((n,s)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Nt(l=>l.nonce===o),me(1),Ie(l=>{if(l.result!==void 0)return l.result;throw new Error(l.error)})).subscribe({next:n,error:s})})}get isEnabled(){return!!this.serviceWorker}},or=(()=>{class r{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ze;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=fe,this.notificationClicks=fe,this.subscription=fe;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Ie(l=>l.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ie(l=>l.data)),this.pushManager=this.sw.registration.pipe(Ie(l=>l.pushManager));let s=this.pushManager.pipe(J(l=>l.getSubscription()));this.subscription=new Xe(l=>{let p=s.subscribe(l),d=this.subscriptionChanges.subscribe(l);return()=>{p.unsubscribe(),d.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(we));let s={userVisibleOnly:!0},l=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),p=new Uint8Array(new ArrayBuffer(l.length));for(let d=0;d<l.length;d++)p[d]=l.charCodeAt(d);return s.applicationServerKey=p,new Promise((d,_)=>{this.pushManager.pipe(J(b=>b.subscribe(s)),me(1)).subscribe({next:b=>{this.subscriptionChanges.next(b),d(b)},error:_})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(we));let n=s=>{if(s===null)throw new Error("Not subscribed to push notifications.");return s.unsubscribe().then(l=>{if(!l)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return new Promise((s,l)=>{this.subscription.pipe(me(1),J(n)).subscribe({next:s,error:l})})}decodeBase64(n){return atob(n)}static \u0275fac=function(s){return new(s||r)(q(ve))};static \u0275prov=le({token:r,factory:r.\u0275fac})}return r})(),Ht=(()=>{class r{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=fe,this.unrecoverable=fe;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(we));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(we));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(s){return new(s||r)(q(ve))};static \u0275prov=le({token:r,factory:r.\u0275fac})}return r})();var fn=new qe("");function ar(){let r=v(Oe);if(!("serviceWorker"in navigator&&r.enabled!==!1))return;let o=v(fn),n=v(Je),s=v(Dt);n.runOutsideAngular(()=>{let l=navigator.serviceWorker,p=()=>l.controller?.postMessage({action:"INITIALIZE"});l.addEventListener("controllerchange",p),s.onDestroy(()=>{l.removeEventListener("controllerchange",p)})}),n.runOutsideAngular(()=>{let l,{registrationStrategy:p}=r;if(typeof p=="function")l=new Promise(d=>p().subscribe(()=>d()));else{let[d,..._]=(p||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":l=Promise.resolve();break;case"registerWithDelay":l=hn(+_[0]||0);break;case"registerWhenStable":l=Promise.race([s.whenStable(),hn(+_[0])]);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${r.registrationStrategy}`)}}l.then(()=>navigator.serviceWorker.register(o,{scope:r.scope}).catch(d=>console.error("Service worker registration failed with:",d)))})}function hn(r){return new Promise(o=>setTimeout(o,r))}function sr(r,o){return new ve(r.enabled!==!1?navigator.serviceWorker:void 0,o)}var Oe=class{enabled;scope;registrationStrategy};function mn(r,o={}){return $e([or,Ht,{provide:fn,useValue:r},{provide:Oe,useValue:o},{provide:ve,useFactory:sr,deps:[Oe,Qe]},et(ar)])}var cr="@",ur=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=v(Qe);loadingSchedulerFn=v(pr,{optional:!0});_engine;constructor(n,s,l,p,d){this.doc=n,this.delegate=s,this.zone=l,this.animationType=p,this.moduleImpl=d}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-H3YQ7FVD.js").then(l=>l),s;return this.loadingSchedulerFn?s=this.loadingSchedulerFn(n):s=n(),s.catch(l=>{throw new vi(5300,!1)}).then(({\u0275createEngine:l,\u0275AnimationRendererFactory:p})=>{this._engine=l(this.animationType,this.doc);let d=new p(this.delegate,this._engine,this.zone);return this.delegate=d,d})}createRenderer(n,s){let l=this.delegate.createRenderer(n,s);if(l.\u0275type===0)return l;typeof l.throwOnSyntheticProps=="boolean"&&(l.throwOnSyntheticProps=!1);let p=new Gt(l);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let _=d.createRenderer(n,s);p.use(_),this.scheduler??=this.injector.get(Ci,null,{optional:!0}),this.scheduler?.notify(10)}).catch(d=>{p.use(l)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(n){this._engine?.flush(),this.delegate.componentReplaced?.(n)}static \u0275fac=function(s){Si()};static \u0275prov=le({token:r,factory:r.\u0275fac})}return r})(),Gt=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let n of this.replay)n(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,n){return this.delegate.createElement(o,n)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,n){this.delegate.appendChild(o,n)}insertBefore(o,n,s,l){this.delegate.insertBefore(o,n,s,l)}removeChild(o,n,s){this.delegate.removeChild(o,n,s)}selectRootElement(o,n){return this.delegate.selectRootElement(o,n)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,n,s,l){this.delegate.setAttribute(o,n,s,l)}removeAttribute(o,n,s){this.delegate.removeAttribute(o,n,s)}addClass(o,n){this.delegate.addClass(o,n)}removeClass(o,n){this.delegate.removeClass(o,n)}setStyle(o,n,s,l){this.delegate.setStyle(o,n,s,l)}removeStyle(o,n,s){this.delegate.removeStyle(o,n,s)}setProperty(o,n,s){this.shouldReplay(n)&&this.replay.push(l=>l.setProperty(o,n,s)),this.delegate.setProperty(o,n,s)}setValue(o,n){this.delegate.setValue(o,n)}listen(o,n,s,l){return this.shouldReplay(n)&&this.replay.push(p=>p.listen(o,n,s,l)),this.delegate.listen(o,n,s,l)}shouldReplay(o){return this.replay!==null&&o.startsWith(cr)}},pr=new qe("");function gn(r="animations"){return Ei("NgAsyncAnimations"),$e([{provide:bi,useFactory:(o,n,s)=>new ur(o,n,s,r),deps:[Fi,Hi,Je]},{provide:Ti,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Go=rr(vn()),_n={providers:[Mi({eventCoalescing:!0}),zi(dn),Wi(Vi()),Ut(),Bi(),gn(),et(()=>{let r=v(at),o=v(ot);return Promise.all([r.preloadCategories(),o.preloadCategories()])}),mn("ngsw-worker.js",{enabled:!Di(),registrationStrategy:"registerWhenStable:30000"}),Ut({autoClose:!0,position:"bottom-right",dismissible:!0}),_i(ji)]};var _e=class r{constructor(o,n,s,l,p){this._flexsearchIndexService=o;this._productsRepository=n;this._recipesRepository=s;this._categoryProductsRepository=l;this._categoryRecipesRepository=p}displayBar=ce(!1);results=ce([]);resultsPayload=ce([]);showBar(){this.displayBar.set(!0)}hideBar(){this.displayBar.set(!1)}search(o){return C(this,null,function*(){let s=(yield Promise.all([this._searchInProducts(o),this._searchInRecipes(o),this._searchInProductsCategories(o),this._searchInRecipesCategories(o)])).flat(),l=[];for(let p of s){let d=yield this.getResource(p);if(d&&d.length!==0)for(let _ of d)l.push({context:p.context,uuid:encodeURIComponent(_.uuid),data:_})}return this.resultsPayload.set(l),l})}getResource(o){return C(this,null,function*(){let n=[];for(let s of o.result)switch(o.context){case"product":{let l=yield this._productsRepository.getOne(s);n.push(l);break}case"recipe":{let l=yield this._recipesRepository.getOne(s);n.push(l);break}case"category_product":{let l=yield this._categoryProductsRepository.getOne(s);n.push(l);break}case"category_recipe":{let l=yield this._categoryRecipesRepository.getOne(s);n.push(l);break}}return n})}_searchInProducts(o){return C(this,null,function*(){return(yield this._flexsearchIndexService.search("productsStore",o)).flatMap(s=>({context:"product",field:s.field,result:s.result}))})}_searchInRecipes(o){return C(this,null,function*(){return(yield this._flexsearchIndexService.search("recipesStore",o)).flatMap(s=>({context:"recipe",field:s.field,result:s.result}))})}_searchInProductsCategories(o){return C(this,null,function*(){return(yield this._flexsearchIndexService.search("categoryProductsStore",o)).flatMap(s=>({context:"category_product",field:s.field,result:s.result}))})}_searchInRecipesCategories(o){return C(this,null,function*(){return(yield this._flexsearchIndexService.search("categoryRecipesStore",o)).flatMap(s=>({context:"category_recipe",field:s.field,result:s.result}))})}static \u0275fac=function(n){return new(n||r)(q(qi),q(st),q(ie),q(at),q(ot))};static \u0275prov=le({token:r,factory:r.\u0275fac,providedIn:"root"})};var ut=()=>({exact:!1}),pt=()=>["route-active"],dr=(r,o)=>o.label;function hr(r,o){if(r&1&&(g(0,"a",11),S(1),f()),r&2){let n=o.$implicit;I("routerLink",n.link)("routerLinkActive",Z(4,pt))("routerLinkActiveOptions",Z(5,ut)),m(),ue(" ",n.label," ")}}var dt=class r{constructor(o,n){this.location=o;this.globalSearchService=n}items=ce([{label:"Recipes",link:"/recipes"},{label:"Products",link:"/products"}]);activeIndex=ce(0);links=ki(Ft);setActive(o){this.activeIndex.set(o)}static \u0275fac=function(n){return new(n||r)(j(Ui),j(_e))};static \u0275cmp=V({type:r,selectors:[["lg-header"]],viewQuery:function(n,s){n&1&&Ii(s.links,Ft,5),n&2&&xi()},decls:19,vars:15,consts:[[1,"lg-header"],[1,"lg-header__left"],[1,"lg-header__icon","lg-header__icon--left",3,"click"],["aria-hidden","false","fontIcon","arrow_back"],[1,"lg-header__leftToMiddle"],[1,"lg-header__icon",3,"routerLinkActiveOptions","routerLinkActive","routerLink"],["aria-hidden","false","fontIcon","home"],[1,"lg-header__icon",3,"click"],["aria-hidden","false","fontIcon","search"],[1,"lg-header__middle"],[1,"lg-header__inner"],[1,"lg-header__link",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"lg-header__rightToMiddle"],["aria-hidden","false","fontIcon","settings"],["aria-hidden","false","fontIcon","widgets"],[1,"lg-header__right"]],template:function(n,s){n&1&&(g(0,"header",0)(1,"div",1)(2,"button",2),$("click",function(){return s.location.back()}),A(3,"mat-icon",3),f()(),g(4,"div",4)(5,"a",5),A(6,"mat-icon",6),f(),g(7,"button",7),$("click",function(){return s.globalSearchService.showBar()}),A(8,"mat-icon",8),f()(),g(9,"div",9)(10,"div",10),ee(11,hr,2,6,"a",11,dr),f()(),g(13,"div",12)(14,"a",5),A(15,"mat-icon",13),f(),g(16,"a",5),A(17,"mat-icon",14),f()(),A(18,"div",15),f()),n&2&&(m(5),I("routerLinkActiveOptions",Z(9,ut))("routerLinkActive",Z(10,pt))("routerLink","/home"),m(6),te(s.items()),m(3),I("routerLinkActiveOptions",Z(11,ut))("routerLinkActive",Z(12,pt))("routerLink","/settings"),m(2),I("routerLinkActiveOptions",Z(13,ut))("routerLinkActive",Z(14,pt))("routerLink","/widgets"))},dependencies:[rt,Xi,Qi],styles:[".lg-header[_ngcontent-%COMP%]{position:fixed;z-index:3;height:var(--header-height);left:0;right:0;top:12px;display:flex;align-items:center;justify-content:space-between;gap:16px;overflow-x:auto;white-space:nowrap;padding:0 16px}@media (max-width: 768px){.lg-header[_ngcontent-%COMP%]{justify-content:normal;scroll-snap-type:both mandatory;overscroll-behavior-x:contain;scrollbar-width:none}}.lg-header__left[_ngcontent-%COMP%], .lg-header__right[_ngcontent-%COMP%], .lg-header__leftToMiddle[_ngcontent-%COMP%], .lg-header__rightToMiddle[_ngcontent-%COMP%], .lg-header__middle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;scroll-snap-align:center;gap:8px;min-width:40px}@media (max-width: 768px){.lg-header__left[_ngcontent-%COMP%], .lg-header__right[_ngcontent-%COMP%], .lg-header__leftToMiddle[_ngcontent-%COMP%], .lg-header__rightToMiddle[_ngcontent-%COMP%], .lg-header__middle[_ngcontent-%COMP%]{flex:0 0 auto;min-width:0}}.lg-header__leftToMiddle[_ngcontent-%COMP%]{margin-left:auto}.lg-header__rightToMiddle[_ngcontent-%COMP%]{margin-right:auto}.lg-header__inner[_ngcontent-%COMP%]{display:flex;border-radius:35px;padding:8px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#ffffffb3}.lg-header__link[_ngcontent-%COMP%]{font-size:1rem;font-family:inherit;text-decoration:none;padding:8px 24px;border-radius:32px;cursor:pointer;display:flex;align-items:center;justify-content:center;scroll-snap-align:center;transition:all .3s ease-in-out;appearance:none}.lg-header__link.route-active[_ngcontent-%COMP%]{background-color:#a26dc7;color:#fff}.lg-header__icon[_ngcontent-%COMP%]{border-radius:50%;display:flex;align-items:center;justify-content:center;padding:8px;cursor:pointer;scroll-snap-align:center;border:none;appearance:none;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#ffffffb3}.lg-header__icon.route-active[_ngcontent-%COMP%]{background-color:#a26dc7;color:#fff}"]})};var yn=r=>r instanceof Error?r.message:typeof r=="string"?r:typeof r=="object"&&r!==null?JSON.stringify(r):"Unknown error";function fr(r,o){if(r&1){let n=tt();g(0,"button",0),$("click",function(){Ze(n);let l=F();return Ke(l.updatePWA())}),S(1,"\u0412\u0430\u0448\u0430 \u0432\u0435\u0440\u0441\u0438\u044F \u0443\u0441\u0442\u0430\u0440\u0435\u043B\u0430. \u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0447\u0442\u043E\u0431\u044B \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C"),f()}}var ft=class r{constructor(o,n){this.swUpdate=o;this.notification=n}showButton=!1;ngOnInit(){this.swUpdate.versionUpdates.subscribe(o=>{o.type==="VERSION_READY"&&(this.showButton=!0)})}updatePWA(){return C(this,null,function*(){try{yield this.swUpdate.activateUpdate(),document.location.reload()}catch(o){this.notification.error(yn(o))}})}static \u0275fac=function(n){return new(n||r)(j(Ht),j(an))};static \u0275cmp=V({type:r,selectors:[["lg-pwa-update"]],decls:1,vars:1,consts:[[3,"click"]],template:function(n,s){n&1&&k(0,fr,2,0,"button"),n&2&&D(s.showButton?0:-1)},styles:["[_nghost-%COMP%]{display:flex;position:fixed;bottom:0;left:0;width:100%}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;cursor:pointer;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};function mr(r,o){if(r&1){let n=tt();g(0,"button",0),$("click",function(){Ze(n);let l=F();return Ke(l.installPWA())}),S(1,"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C PWA"),f()}}var mt=class r{deferredPrompt=null;showButton=!1;ngOnInit(){window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),this.deferredPrompt=o,this.showButton=!0})}installPWA(){return C(this,null,function*(){if(!this.deferredPrompt)return;this.deferredPrompt.prompt();let{outcome:o}=yield this.deferredPrompt.userChoice;o==="accepted"?(this.showButton=!1,console.log("PWA \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0430!")):console.log("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043E\u0442\u043A\u0430\u0437\u0430\u043B\u0441\u044F \u043E\u0442 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438"),this.deferredPrompt=null,this.showButton=!1})}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=V({type:r,selectors:[["lg-pwa-install"]],decls:1,vars:1,consts:[[3,"click"]],template:function(n,s){n&1&&k(0,mr,2,0,"button"),n&2&&D(s.showButton?0:-1)},styles:["lg-pwa-install[_ngcontent-%COMP%]{display:flex}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;cursor:pointer;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var gt=class r{constructor(o){this.el=o}ngAfterViewInit(){this.trapFocus(this.el.nativeElement)}trapFocus(o){o.addEventListener("keydown",function(n){let s=()=>document.activeElement?.shadowRoot?document.activeElement.shadowRoot.activeElement:document.activeElement;if(!(n.keyCode===9))return;let p=o.querySelectorAll('a[href], button, textarea, input[type="text"],input[type="radio"], input[type="checkbox"], select'),d=Array.from(p).filter(w=>!w.disabled),_=d[0],b=d[d.length-1];n.shiftKey?s()===_&&(b.focus(),n.preventDefault()):s()===b&&(_.focus(),n.preventDefault())})}static \u0275fac=function(n){return new(n||r)(j(yi))};static \u0275dir=Pi({type:r,selectors:[["","lgFocusTrap",""]]})};var gr=r=>["/products/edit/",r],vr=r=>["/recipes/edit/",r],_r=r=>["/settings/categories/products/edit/",r],Cr=r=>["/settings/categories/recipes/edit/",r];function yr(r,o){r&1&&(g(0,"div",5),S(1," No results found "),f())}function Tr(r,o){if(r&1&&(g(0,"div",10)(1,"a",11),S(2),f()()),r&2){let n=o.$implicit;m(),I("routerLink",xe(2,gr,n.data==null?null:n.data.uuid)),m(),ue(" ",n.data==null?null:n.data.name," ")}}function Er(r,o){if(r&1&&(g(0,"lg-fade-in")(1,"div",7)(2,"lg-title",8),S(3,"Products"),f()(),g(4,"div",9),ee(5,Tr,3,4,"div",10,ge),f()()),r&2){let n=F().$implicit;m(2),I("level",5),m(3),te(n.result)}}function br(r,o){if(r&1&&(g(0,"div",10)(1,"a",11),S(2),f()()),r&2){let n=o.$implicit;m(),I("routerLink",xe(2,vr,n.data==null?null:n.data.uuid)),m(),ue(" ",n.data==null?null:n.data.name," ")}}function Sr(r,o){if(r&1&&(g(0,"lg-fade-in")(1,"div",7)(2,"lg-title",8),S(3,"Recipes"),f()(),g(4,"div",9),ee(5,br,3,4,"div",10,ge),f()()),r&2){let n=F().$implicit;m(2),I("level",5),m(3),te(n.result)}}function Pr(r,o){if(r&1&&(g(0,"div",10)(1,"a",11),S(2),f()()),r&2){let n=o.$implicit;m(),I("routerLink",xe(2,_r,n.data==null?null:n.data.uuid)),m(),ue(" ",n.data==null?null:n.data.name," ")}}function Rr(r,o){if(r&1&&(g(0,"lg-fade-in")(1,"div",7)(2,"lg-title",8),S(3,"Products Categories"),f()(),ee(4,Pr,3,4,"div",10,ge),f()),r&2){let n=F().$implicit;m(2),I("level",5),m(2),te(n.result)}}function Ir(r,o){if(r&1&&(g(0,"div",10)(1,"a",11),S(2),f()()),r&2){let n=o.$implicit;m(),I("routerLink",xe(2,Cr,n.data==null?null:n.data.uuid)),m(),ue(" ",n.data==null?null:n.data.name," ")}}function xr(r,o){if(r&1&&(g(0,"lg-fade-in")(1,"div",7)(2,"lg-title",8),S(3,"Recipes Categories"),f()(),ee(4,Ir,3,4,"div",10,ge),f()),r&2){let n=F().$implicit;m(2),I("level",5),m(2),te(n.result)}}function wr(r,o){if(r&1&&(k(0,Er,7,1,"lg-fade-in"),k(1,Sr,7,1,"lg-fade-in"),k(2,Rr,6,1,"lg-fade-in"),k(3,xr,6,1,"lg-fade-in")),r&2){let n=o.$implicit;D(n.context==="product"?0:-1),m(),D(n.context==="recipe"?1:-1),m(),D(n.context==="category_product"?2:-1),m(),D(n.context==="category_recipe"?3:-1)}}function Or(r,o){if(r&1&&(g(0,"div",6),ee(1,wr,4,4,null,null,ge),f()),r&2){let n=F();m(),te(n)}}function Ar(r,o){if(r&1&&k(0,yr,2,0,"div",5)(1,Or,3,0,"div",6),r&2){let n=F(2);D(o.length===0&&n.search.dirty?0:1)}}function Mr(r,o){if(r&1&&(g(0,"section",1)(1,"div",2)(2,"lg-fade-in")(3,"div",3),A(4,"lg-input",4),f(),k(5,Ar,2,1),Oi(6,"async"),f()()()),r&2){let n,s=F();Ri("lg-global-search--expanded",s.search.dirty),m(4),I("placeholder","Search...")("autoFocus",!0)("formControl",s.search),m(),D((n=Ai(6,6,s.results$))?5:-1,n)}}var vt=class r{constructor(o){this._globalSearchService=o}search=new en("");results$=this.search.valueChanges.pipe(mi(300),J(o=>{let n=o?.trim();return n?fi(this._globalSearchService.search(n)):Mt([])}),J(o=>{let n=on(o,"context");return Mt(Object.entries(n).map(([s,l])=>({context:s,result:l})))}),gi(o=>{console.log(o)}));showBar=Ni(()=>this._globalSearchService.displayBar());onClickOutside(o){if(o.stopPropagation(),!this.showBar())return;o.target.classList.contains("lg-global-search")&&this.hideBar()}onKeydown(o){o.key==="Escape"&&this.hideBar()}onClick(o){if(!this.showBar())return;o.target.closest(".lg-global-search__results")&&this.hideBar()}hideBar(){this._globalSearchService.hideBar(),this.search.setValue(""),this.search.markAsPristine()}static \u0275fac=function(n){return new(n||r)(j(_e))};static \u0275cmp=V({type:r,selectors:[["lg-global-search"]],hostBindings:function(n,s){n&1&&$("click",function(p){return s.onClickOutside(p)},kt)("keydown",function(p){return s.onKeydown(p)},kt)("click",function(p){return s.onClick(p)})},decls:1,vars:1,consts:[["lgFocusTrap","",1,"lg-global-search",3,"lg-global-search--expanded"],["lgFocusTrap","",1,"lg-global-search"],[1,"lg-global-search__inner"],[1,"lg-global-search__search",2,"--control-bg","rgba(255,255,255,0.7)"],[3,"placeholder","autoFocus","formControl"],[1,"lg-global-search__no-results"],[1,"lg-global-search__results"],[1,"lg-global-search__results-caption"],[3,"level"],[1,"lg-global-search__results__list"],[1,"lg-global-search__item"],[3,"routerLink"]],template:function(n,s){n&1&&k(0,Mr,7,8,"section",0),n&2&&D(s.showBar()?0:-1)},dependencies:[sn,nn,Ji,rt,Li,lt,rn,tn,gt,Ki],styles:[".lg-global-search[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#1f1f1fb3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:10000;padding:1rem;display:flex;align-items:center;justify-content:center}.lg-global-search__inner[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:0 auto;display:flex;flex-direction:column;gap:1rem}.lg-global-search__search[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}.lg-global-search__no-results[_ngcontent-%COMP%]{text-align:center;background-color:#ffffffb3;margin-top:32px;padding:16px;border-radius:12px}.lg-global-search__results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-height:400px;overflow-y:auto;background-color:#ffffffb3;margin-top:32px;padding:16px;border-radius:12px}.lg-global-search--expanded[_ngcontent-%COMP%]{align-items:flex-start}.lg-global-search__results-caption[_ngcontent-%COMP%]{margin-bottom:8px}.lg-global-search__results__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}"]})};var _t=class r{title="lasagna";static \u0275fac=function(n){return new(n||r)};static \u0275cmp=V({type:r,selectors:[["app-root"]],features:[wi([])],decls:8,vars:0,consts:[[1,"app"],[1,"app-content"]],template:function(n,s){n&1&&(A(0,"lg-pwa-install")(1,"lg-pwa-update")(2,"lg-global-search"),g(3,"main",0)(4,"lg-fade-in"),A(5,"lg-header"),f(),g(6,"div",1),A(7,"router-outlet"),f()())},dependencies:[Yi,dt,lt,ft,mt,vt],styles:[".app-content[_ngcontent-%COMP%]{--app-content-top-padding: calc(var(--header-height) + 44px);padding-top:var(--app-content-top-padding);padding-bottom:32px}"]})};Gi(_t,_n).catch(r=>console.error(r));
