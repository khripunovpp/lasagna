import{a as pe,b as ce}from"./chunk-XSSMANIL.js";import{a as ct,b as mt}from"./chunk-OWABPDK7.js";import"./chunk-F2B2N2WH.js";import"./chunk-GDPAARXP.js";import{a as le}from"./chunk-YYS46NYX.js";import{a as U}from"./chunk-GNM2PBYD.js";import{a as lt}from"./chunk-KQ5QEUS5.js";import"./chunk-CH264JVT.js";import"./chunk-VKZXNLLJ.js";import{a as pt}from"./chunk-ORO2D6DT.js";import{a as st}from"./chunk-53AJQ6F4.js";import"./chunk-CEPNEZXV.js";import"./chunk-CWUUYJTE.js";import{a as se}from"./chunk-C5H2I4FC.js";import{v as at}from"./chunk-H7EJM524.js";import{a as nt}from"./chunk-EIVKJBV7.js";import{a as it}from"./chunk-TBBEROLX.js";import{a as T}from"./chunk-U5RG623K.js";import{a as rt}from"./chunk-65PBFSJ6.js";import{a as B}from"./chunk-7C3OD2VZ.js";import{a as ot}from"./chunk-VPY63KRA.js";import"./chunk-MPFUNZLY.js";import{a as H}from"./chunk-O2QGAP6D.js";import{a as We,k as tt}from"./chunk-N7V5TNMA.js";import"./chunk-3KIH2YCB.js";import{A as Xe,E,F as ie,G as J,I as y,J as ne,N as oe,O as Ye,P as Ze,Q as re,S as et,T as F,U as ae,V as Se,W as be,ca as M,fa as z,g as Qe,la as G,na as j,o as ee,s as Ke,y as te}from"./chunk-4GDVHNJM.js";import{B as qe,q as $e,r as Je}from"./chunk-I72ENH6O.js";import"./chunk-CABIONZL.js";import"./chunk-EMIJRNYJ.js";import{f as He,g as je,o as Ue}from"./chunk-ZA7VU5CB.js";import{$a as n,$b as Ne,Bb as $,Cc as c,Db as x,Dc as m,Fb as w,H as we,Ib as K,Jb as W,Kb as r,Lb as l,Mb as a,Mc as ze,Nb as g,Nc as _e,Ob as Ee,Pb as Fe,Qc as Ge,Rb as P,Rc as u,Vb as C,Wa as Te,Wb as f,Wc as ye,Xa as Ie,Xb as q,Yb as X,_ as Q,_b as Be,ac as Re,ea as I,eb as S,ec as De,fc as Ae,gc as V,hc as k,jc as d,kc as O,la as N,lb as _,lc as v,ma as R,mc as Le,na as ke,oc as Pe,pc as Ve,qb as b,qc as Oe,ra as Me,uc as Y,va as D,wc as Z}from"./chunk-X5WXA3YI.js";import"./chunk-2RGDSI3Q.js";import"./chunk-FK6H3RFT.js";import"./chunk-C6Q5SG76.js";var _t=["*"];function yt(o,e){if(o&1&&g(0,"span",4),o&2){let t=f(2);r("innerHTML",t.customMark(),Te)}}function St(o,e){o&1&&(ke(),l(0,"svg",5),g(1,"path",6),a())}function bt(o,e){if(o&1&&x(0,yt,1,1,"span",4)(1,St,2,0,":svg:svg",5),o&2){let t=f();w(t.customMark()?0:1)}}var me=class o{constructor(){}modelValue=!1;customMark=u("");name=u("");value=u("");size=u("default");markOnHover=u(!1);radio=u(!1);noMark=u(!1);onCheckboxChanged=Ge();onKeydown(e){e.preventDefault(),this.onChangeCheckbox(!this.modelValue)}onChange=()=>{};onTouched=()=>{};writeValue(e){this._change(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}onChangeCheckbox(e){this._change(e)}_change(e){typeof e=="boolean"?this.modelValue=e:this.modelValue=["true","false"].includes(e)?e==="true":e,this.onChange(this.modelValue),this.onCheckboxChanged.emit(this.modelValue)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=_({type:o,selectors:[["lg-radio"]],hostBindings:function(t,i){t&1&&C("keydown.enter",function(p){return i.onKeydown(p)})("keydown.space",function(p){return i.onKeydown(p)})},inputs:{customMark:[1,"customMark"],name:[1,"name"],value:[1,"value"],size:[1,"size"],markOnHover:[1,"markOnHover"],radio:[1,"radio"],noMark:[1,"noMark"]},outputs:{onCheckboxChanged:"onCheckboxChanged"},features:[Z([{provide:te,useExisting:Q(()=>o),multi:!0}])],ngContentSelectors:_t,decls:6,vars:11,consts:[["tabindex","0",1,"lg-radio",3,"ngClass"],[1,"checkbox",3,"ngModelChange","checked","ngModel","type"],[1,"lg-radio__mark"],[1,"lg-radio__mark-inner"],[3,"innerHTML"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","currentColor","d","M9.5 16.5l-4.25-4.25 1.4-1.4L9.5 13.7l7.35-7.35 1.4 1.4z"]],template:function(t,i){t&1&&(q(),l(0,"label",0)(1,"input",1),C("ngModelChange",function(p){return i.onChangeCheckbox(p)}),a(),l(2,"span",2)(3,"span",3),x(4,bt,2,1),a()(),X(5),a()),t&2&&(r("ngClass",i.size()),$("for",i.name()+"-"+i.value()),n(),r("checked",i.modelValue)("ngModel",i.modelValue)("type",i.radio()?"radio":"checkbox"),$("id",i.name()+"-"+i.value())("name",i.name())("value",i.radio()?i.value():i.modelValue),n(),V("lg-radio__hoverOnly",i.markOnHover()),n(2),w(i.noMark()?-1:4))},dependencies:[F,Xe,E,ne,He],styles:[`.lg-radio{display:flex;border-radius:12px;gap:8px}.lg-radio:focus-within{outline-color:var(--active-color)}.lg-radio__mark{display:flex;align-items:center;justify-content:center;width:51px;height:51px;border-radius:12px;background-color:var(--control-bg);opacity:.2;cursor:pointer;transition:all .2s ease-in-out;border:1px solid transparent}.lg-radio__hoverOnly{background-color:transparent;border-color:var(--text-color)}.lg-radio__hoverOnly .lg-radio__mark-inner{opacity:0;transition:all .2s ease-in-out}@media (hover: hover){.lg-radio__mark:hover,.lg-radio__hoverOnly:hover .lg-radio__mark-inner{opacity:1}}.checkbox{display:none}.checkbox:checked+.lg-radio__mark{background-color:var(--control-bg-selected);opacity:1;font-weight:700}.checkbox:checked+.lg-radio__hoverOnly{border-color:var(--control-bg-selected)}.checkbox:checked+.lg-radio__hoverOnly .lg-radio__mark-inner{opacity:1}.lg-radio.small .lg-radio__mark{width:16px;height:16px;border-radius:6px}
`],encapsulation:2})};var xt=(o,e)=>e.code;function wt(o,e){if(o&1){let t=P();l(0,"lg-flex-row",4)(1,"lg-radio",7),C("change",function(){let s=N(t).$implicit,p=f();return R(p.changeLang(s.code))}),d(2),c(3,"translate"),a()()}if(o&2){let t=e.$implicit,i=e.$index,s=f();r("center",!0)("mobileMode",!0)("size","small"),n(),r("markOnHover",!0)("radio",!0)("name","lang")("value",t.code)("ngModel",s.selectedLangModel()[i])("size","small")("noMark",!0),n(),v(" ",m(3,11,t.name)," ")}}var de=class o{constructor(e){this._settingsService=e;this.selectedLang=this._settingsService.lang,this.selectedLangModel.update(t=>this._settingsService.languages.map(i=>this.selectedLang()===i)),this.currency.set(this._settingsService.settingsSignal()?.getSetting("currency")?.data||"USD")}currency=ye("EUR");langsMap={en:"settings.language.english",pt:"settings.language.portuguese",ru:"settings.language.russian"};selectedLang;selectedLangModel=ye([]);languages=ze(()=>this._settingsService.languages.map(e=>({code:e,name:this.langsMap[e]?this.langsMap[e]:e})));changeLang(e){this._settingsService.changeLang(e)}changeCurrency(e){this._settingsService.changeCurrency(String(e).toUpperCase())}static \u0275fac=function(t){return new(t||o)(S(z))};static \u0275cmp=_({type:o,selectors:[["lg-language-settings"]],inputs:{currency:[1,"currency"],selectedLangModel:[1,"selectedLangModel"]},outputs:{currency:"currencyChange",selectedLangModel:"selectedLangModelChange"},decls:16,vars:11,consts:[["size","medium"],[3,"level"],[1,"language-settings"],[3,"size"],[3,"center","mobileMode","size"],["href","https://en.wikipedia.org/wiki/ISO_4217","target","_blank"],[3,"ngModelChange","ngModel"],[3,"change","markOnHover","radio","name","value","ngModel","size","noMark"]],template:function(t,i){t&1&&(l(0,"lg-flex-column",0)(1,"lg-title",1),d(2),c(3,"translate"),a(),l(4,"section",2)(5,"lg-flex-column",3)(6,"lg-flex-column",3),K(7,wt,4,13,"lg-flex-row",4,xt),a()()(),l(9,"lg-title",1),d(10),c(11,"translate"),l(12,"a",5),d(13,"ISO 4217"),a(),d(14,") "),a(),l(15,"lg-input",6),C("ngModelChange",function(p){return i.changeCurrency(p)}),Oe("ngModelChange",function(p){return Ve(i.currency,p)||(i.currency=p),p}),a()()),t&2&&(n(),r("level",6),n(),O(m(3,7,"language.settings.language-title")),n(3),r("size","medium"),n(),r("size","small"),n(),W(i.languages()),n(2),r("level",6),n(),v(" ",m(11,9,"language.settings.currency-title")," ("),n(5),Pe("ngModel",i.currency))},dependencies:[T,B,F,E,ne,me,U,H,M],encapsulation:2})};function kt(o,e){if(o&1&&(d(0),c(1,"translate"),c(2,"timeAgo")),o&2){let t=f();Le(" ",m(1,2,"backup.last-label")," ",m(2,4,t.transferDataService.currenBackupDate)," ")}}var ge=class o{constructor(){}downloadBackupParam=Ke("download_backup");transferDataService=I(tt);notificationsService=I(G);dexieIndexDbService=I(qe);ngAfterViewInit(){this.downloadBackupParam()&&this.onBackup()}async onBackup(){let e=this.notificationsService.loading("Creating backup");try{await this.transferDataService.exportAll("json"),this.notificationsService.success("Backup created successfully"),localStorage.setItem("lastBackupDate",Date.now().toString())}catch(t){this.notificationsService.showJsonErrors([JSON.stringify(t)],"Backup failed"),console.error(t)}finally{e.close()}}async onRestore(e){let t=this.notificationsService.loading("Restoring backup");try{await this.transferDataService.restoreAllData(e),this.notificationsService.success("Restore completed successfully")}catch(i){this.notificationsService.showJsonErrors([JSON.stringify(i)],"Restore failed"),console.error(i)}finally{t.close(),t.close()}}async onFlush(){try{await this.dexieIndexDbService.flushCache(),this.notificationsService.success("Caches flushed successfully"),window.location.reload()}catch(e){this.notificationsService.showJsonErrors([JSON.stringify(e)],"Flush failed"),console.error(e)}finally{}}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=_({type:o,selectors:[["lg-backup-settings"]],decls:21,vars:21,consts:[[3,"center","mobileMode"],[3,"click"],[3,"filesSelected","accept"],[2,"--card-bg","#e78888"],[3,"position"],[1,"text-center","text-inverse"],[2,"--card-bg","#fcd9b5"],[1,"text-center"]],template:function(t,i){t&1&&(l(0,"lg-flex-column")(1,"lg-flex-row",0)(2,"lg-button",1),C("click",function(){return i.onBackup()}),d(3),c(4,"translate"),a(),x(5,kt,3,6),a(),l(6,"lg-upload",2),C("filesSelected",function(p){return i.onRestore(p)}),l(7,"lg-card",3)(8,"lg-flex-column",4)(9,"div",5),d(10),c(11,"translate"),a(),l(12,"lg-button"),d(13),c(14,"translate"),a()()()(),l(15,"lg-card",6)(16,"lg-flex-column",4)(17,"div",7),d(18," This will flush all caches and reload the application. "),a(),l(19,"lg-button",1),C("click",function(){return i.onFlush()}),d(20," Flush all cashes "),a()()()()),t&2&&(n(),r("center",!0)("mobileMode",!0),n(),k("success"),n(),v(" ",m(4,15,"backup.make-btn")," "),n(2),w(i.transferDataService.currenBackupDate?5:-1),n(),r("accept",".json"),n(2),r("position","center"),n(2),v(" ",m(11,17,"backup.restore-informer")," "),n(2),k("danger"),n(),v(" ",m(14,19,"backup.restore-btn")," "),n(3),r("position","center"),n(3),k("success"))},dependencies:[nt,T,B,F,rt,j,lt,M],encapsulation:2})};var Mt=["fileInput"],Tt=[[["after"]]],It=["after"];function Et(o,e){if(o&1&&(l(0,"span",6),d(1),a()),o&2){let t=f();n(),O(t.errorMessage())}}var ue=class o{fileInput;accept=u("");multiple=u(!1);disable=u(!1);theme=u("default");base64Mode=u(!1);buttonStyle=u("default");buttonText=u("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B");fileSizeLimitMb=u(2);noAfter=D(!1);errorMessage=D(null);writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}async onFileChange(e){let i=e.target.files;if(!i||i.length===0){this.onChange(null);return}if(Array.from(i).filter(h=>h.size>this.fileSizeLimitMb()*1024*1024).length>0){this.errorMessage.set(`\u0424\u0430\u0439\u043B \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0435\u0442 ${this.fileSizeLimitMb()}MB`),this.onChange(null);return}else this.errorMessage.set(null);let p;if(this.base64Mode()){let h=await Promise.all(Array.from(i).map(he=>this.readFileAsBase64(he)));p=this.multiple()?h:h[0]}else p=this.multiple()?Array.from(i):i[0];this.onChange(p),this.onTouched()}ngAfterViewInit(){this.fileInput?.nativeElement.nextElementSibling?.nextElementSibling?.childElementCount===0&&this.noAfter.set(!0)}focus(){this.fileInput?.nativeElement.focus()}onChange=()=>{};onTouched=()=>{};readFileAsBase64(e){return new Promise((t,i)=>{let s=new FileReader;s.onload=()=>t(s.result),s.onerror=()=>i(s.error),s.readAsDataURL(e)})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=_({type:o,selectors:[["lg-file-input"]],viewQuery:function(t,i){if(t&1&&Be(Mt,7),t&2){let s;Ne(s=Re())&&(i.fileInput=s.first)}},inputs:{accept:[1,"accept"],multiple:[1,"multiple"],disable:[1,"disable"],theme:[1,"theme"],base64Mode:[1,"base64Mode"],buttonStyle:[1,"buttonStyle"],buttonText:[1,"buttonText"],fileSizeLimitMb:[1,"fileSizeLimitMb"]},features:[Z([{provide:te,useExisting:Q(()=>o),multi:!0}])],ngContentSelectors:It,decls:8,vars:12,consts:[["fileInput",""],[1,"lg-file-input"],["type","file",1,"hidden-input",3,"change","disabled"],["size","small",3,"onClick","disabled"],[1,"lg-file-input__after"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){if(t&1){let s=P();q(Tt),l(0,"div",1)(1,"input",2,0),C("change",function(h){return N(s),R(i.onFileChange(h))}),a(),l(3,"lg-button",3),C("onClick",function(){N(s);let h=De(2);return R(h.click())}),d(4),a(),l(5,"div",4),X(6),b(7,Et,2,1,"span",5),a()()}t&2&&(V("contrast",i.theme()==="contrast"),n(),r("disabled",i.disable()),$("accept",i.accept())("multiple",i.multiple()?"":null),n(2),k(i.buttonStyle()),r("disabled",i.disable()),n(),v(" ",i.buttonText()," "),n(),Ae("display",i.noAfter()&&!i.errorMessage()?"none":"flex"),n(2),r("ngIf",i.errorMessage()))},dependencies:[Ue,je,j],styles:["[_nghost-%COMP%]{display:flex;flex:1}.lg-file-input[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:16px;flex:1}.lg-file-input__after[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:0 16px;white-space:nowrap;flex:0 0 auto}.hidden-input[_ngcontent-%COMP%]{display:none}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:13px;white-space:nowrap}"]})};function Ft(o,e){if(o&1&&(l(0,"div",3),g(1,"img",10),a()),o&2){let t=f();n(),r("src",t.logoBase64(),Ie)}}var fe=class o{constructor(e){this._settingsService=e}prefix;form=new J({prefix:new y(null),precisionRows:new y(null),precisionTotals:new y(null),logo:new y(null)});logoBase64=D(null);destroyRef=I(Me);ngAfterViewInit(){let e=this._settingsService.getInvoicePrecision();this.form.patchValue({prefix:this._settingsService.getInvoicePrefix(),precisionRows:e[0]??2,precisionTotals:e[1]??2}),this.logoBase64.set(this._settingsService.getInvoiceLogo()??null),this.form.valueChanges.pipe(ee(this.destroyRef),we(500)).subscribe(async t=>{t.logo&&this.logoBase64.set(await this.resizeAndCropImageToBase64(t.logo)),this._settingsService.setInvoiceLogo(this.logoBase64()),this._settingsService.setInvoicePrefix(t.prefix??""),this._settingsService.setInvoicePrecisions(t.precisionRows??2,t.precisionTotals??2),await this._settingsService.saveSettings()})}resizeAndCropImageToBase64(e){return new Promise((t,i)=>{let s=new FileReader;s.onload=()=>{let p=new Image;p.onload=()=>{let h=document.createElement("canvas"),he=h.getContext("2d");h.width=200,h.height=200;let ut=p.width,ft=p.height,vt=(h.width-ut)/2,Ct=(h.height-ft)/2;he.drawImage(p,vt,Ct);let ht=h.toDataURL("image/png");document.body.appendChild(h),t(ht)},p.onerror=i,p.src=s.result},s.onerror=i,s.readAsDataURL(e)})}static \u0275fac=function(t){return new(t||o)(S(z))};static \u0275cmp=_({type:o,selectors:[["lg-invoices-settings"]],decls:29,vars:30,consts:[[3,"formGroup"],["size","medium"],[3,"level"],[1,"lg-invoices-settings__logo"],["formControlName","logo",3,"buttonStyle","buttonText"],["formControlName","prefix"],["size","small"],[3,"flat","level"],["formControlName","precisionRows"],["formControlName","precisionTotals"],["alt","Logo",3,"src"]],template:function(t,i){t&1&&(l(0,"lg-flex-column",0)(1,"lg-flex-column",1)(2,"lg-title",2),d(3),c(4,"translate"),a(),x(5,Ft,2,1,"div",3),g(6,"lg-file-input",4),c(7,"translate"),c(8,"translate"),a(),l(9,"lg-flex-column",1)(10,"lg-title",2),d(11),c(12,"translate"),a(),g(13,"lg-input",5),a(),l(14,"lg-flex-column",1)(15,"lg-title",2),d(16),c(17,"translate"),a(),l(18,"lg-flex-row")(19,"lg-flex-column",6)(20,"lg-title",7),d(21),c(22,"translate"),a(),g(23,"lg-number-input",8),a(),l(24,"lg-flex-column",6)(25,"lg-title",7),d(26),c(27,"translate"),a(),g(28,"lg-number-input",9),a()()()()),t&2&&(r("formGroup",i.form),n(2),r("level",5),n(),v(" ",m(4,16,"settings.invoices.logo")," "),n(2),w(i.logoBase64()?5:-1),n(),r("buttonStyle",i.logoBase64()?"danger":"default")("buttonText",i.logoBase64()?m(7,18,"settings.invoices.replace-logo"):m(8,20,"settings.invoices.upload-logo")),n(4),r("level",5),n(),v(" ",m(12,22,"settings.invoices.prefix")," "),n(4),r("level",5),n(),v(" ",m(17,24,"settings.invoices.precision")," "),n(4),r("flat",!0)("level",6),n(),v(" ",m(22,26,"settings.invoices.precision-rows")," "),n(4),r("flat",!0)("level",6),n(),v(" ",m(27,28,"settings.invoices.precision-totals")," "))},dependencies:[B,U,H,ae,E,ie,oe,re,T,st,ue,M],styles:[".lg-invoices-settings__logo[_ngcontent-%COMP%]{width:100%;max-width:200px;height:auto;border-radius:12px;object-fit:cover;background-color:var(--control-bg);padding:15px}.lg-invoices-settings__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}"]})};var Rt=(o,e)=>e.name+e.uuid;function Dt(o,e){o&1&&g(0,"hr",17)}function At(o,e){if(o&1){let t=P();l(0,"section",4)(1,"div",5)(2,"lg-flex-column",6),g(3,"lg-input",7),l(4,"lg-flex-row",8)(5,"lg-flex-column",6),g(6,"lg-input",9)(7,"lg-input",10),a(),l(8,"lg-flex-column",6),g(9,"lg-input",11)(10,"lg-input",12),a(),l(11,"lg-flex-column",6),g(12,"lg-input",13)(13,"lg-input",14),a(),l(14,"lg-button",15),C("click",function(){let s=N(t).$index,p=f();return R(p.deleteRow(s))}),g(15,"mat-icon",16),a()()()()(),x(16,Dt,1,0,"hr",17)}if(o&2){let t=e.$index,i=e.$count;f().form.controls.rows.controls[t],r("formGroupName",t),n(),V("credentials__row--odd",t%2!==0),n(2),r("placeholder","Private Name"),n(),r("top",!0)("fit",!0),n(2),r("placeholder","Tax ID"),n(),r("placeholder","Name"),n(2),r("placeholder","Country"),n(),r("placeholder","Address"),n(2),r("placeholder","Phone"),n(),r("placeholder","Email"),n(),k("danger"),r("size","tiny")("icon",!0),n(2),w(t!==i-1?16:-1)}}function Lt(o,e){o&1&&d(0," Save changes ")}function Pt(o,e){o&1&&d(0," No changes ")}var ve=class o{constructor(e,t){this._credentialsRepository=e;this._notificationService=t}type=u("system");credentials=D([]);form=new J({rows:new et([this._getRowGroup()])});rowsEffect=_e(()=>{this._rowsFormArray.clear(),this.credentials().forEach((e,t)=>{this._rowsFormArray.push(this._getRowGroup(e))}),this.form.updateValueAndValidity(),this.form.markAsPristine()});typeEffect=_e(()=>{this._credentialsRepository.getAllByType(this.type()).then(e=>{this.credentials.set(e)})});formValues=this.form.valueChanges.pipe(ee());get _rowsFormArray(){return this.form.get("rows")}deleteRow(e){let t=this.form.value.rows?.[e]?.uuid;this._rowsFormArray.removeAt(e),this.credentials.update(i=>i.filter((s,p)=>p!==e)),this.form.markAsDirty(),t&&this._credentialsRepository.deleteOne(t)}addRow(){this._rowsFormArray.push(this._getRowGroup());let e=new be({type:this.type()});this.credentials.update(t=>[...t,e]),this.form.markAsDirty()}async save(){try{await this._credentialsRepository.updateMany(this._formValueToCredentials()),this._notificationService.success("Credentials saved successfully"),this.form.markAsPristine()}catch(e){this._notificationService.error(Qe(e))}}_formValueToCredentials(){return this._rowsFormArray.controls.map(e=>{let t=e.value;return new be({name:t.name,privateName:t.privateName,country:t.country,address:t.address,taxId:t.taxId,phone:t.phone,email:t.email,type:this.type(),uuid:t.uuid})})}_getRowGroup(e){return new J({name:new y(e?.name||""),privateName:new y(e?.privateName||""),country:new y(e?.country||""),address:new y(e?.address||""),taxId:new y(e?.taxId||""),phone:new y(e?.phone||""),email:new y(e?.email||""),uuid:new y(e?.uuid||"")})}static \u0275fac=function(t){return new(t||o)(S(le),S(G))};static \u0275cmp=_({type:o,selectors:[["lg-create-credential"]],inputs:{type:[1,"type"]},decls:11,vars:7,consts:[[3,"formGroup"],["formArrayName","rows"],["lgSelfCenter","","lgShrink","",3,"click","disabled"],["lgSelfCenter","","lgShrink","",3,"click"],[1,"credentials",3,"formGroupName"],[1,"credentials__row"],["size","small"],["formControlName","privateName",3,"placeholder"],[3,"top","fit"],["formControlName","taxId",3,"placeholder"],["formControlName","name",3,"placeholder"],["formControlName","country",3,"placeholder"],["formControlName","address",3,"placeholder"],["formControlName","phone",3,"placeholder"],["formControlName","email",3,"placeholder"],["lgShrink","",3,"click","size","icon"],["aria-hidden","false","aria-label","Example home icon","fontIcon","close"],["color","#fafafa","lgExpand","","size","2"]],template:function(t,i){t&1&&(l(0,"lg-flex-column"),Ee(1,0)(2,1),K(3,At,17,17,null,null,Rt),Fe()(),l(5,"lg-flex-row")(6,"lg-button",2),C("click",function(){return i.save()}),x(7,Lt,1,0)(8,Pt,1,0),a(),l(9,"lg-button",3),C("click",function(){return i.addRow()}),d(10," Add row "),a()()()),t&2&&(n(),r("formGroup",i.form),n(2),W(i.credentials()),n(3),k("success"),r("disabled",!i.form.dirty),n(),w(i.form.dirty?7:8),n(2),k("warning"))},dependencies:[T,F,E,ie,j,U,at,ae,oe,re,Ye,Ze,ct,pt,B,se],encapsulation:2})};function Vt(o,e){if(o&1&&g(0,"lg-create-credential",3),o&2){let t=f();r("type",t.CredentialsType.system)}}function Ot(o,e){if(o&1&&g(0,"lg-create-credential",3),o&2){let t=f();r("type",t.CredentialsType.customer)}}var Ce=class o{constructor(e,t){this._credentialsRepository=e;this._notificationService=t}CredentialsType=Se;static \u0275fac=function(t){return new(t||o)(S(le),S(G))};static \u0275cmp=_({type:o,selectors:[["lg-credentials-settings"]],decls:5,vars:8,consts:[[3,"flat","silent"],["alias","system","lgTab","",3,"label"],["alias","customers","lgTab","",3,"label"],[3,"type"]],template:function(t,i){t&1&&(l(0,"lg-tabs",0),b(1,Vt,1,1,"ng-template",1),c(2,"translate"),b(3,Ot,1,1,"ng-template",2),c(4,"translate"),a()),t&2&&(r("flat",!0)("silent",!0),n(),r("label",m(2,4,"settings.credentials.system")),n(2),r("label",m(4,6,"settings.credentials.customer")))},dependencies:[ce,ve,pe,M],encapsulation:2})};function zt(o,e){o&1&&g(0,"lg-language-settings")}function Gt(o,e){o&1&&(l(0,"lg-flex-row",6)(1,"a",7),d(2),c(3,"translate"),a(),l(4,"a",8),d(5),c(6,"translate"),a()()),o&2&&(r("mobileMode",!0)("top",!0),n(2),v(" ",m(3,4,"categories.products.link-label")," "),n(3),v(" ",m(6,6,"categories.recipes.link-label")," "))}function Ht(o,e){o&1&&g(0,"lg-invoices-settings")}function jt(o,e){o&1&&g(0,"lg-credentials-settings")}function Ut(o,e){o&1&&g(0,"lg-taxes-settings")}function $t(o,e){o&1&&g(0,"lg-backup-settings")}var gt=class o{constructor(e){this.settingsService=e}_onboardingService=I(We);ngOnInit(){this._onboardingService.markSettingsDone()}static \u0275fac=function(t){return new(t||o)(S(z))};static \u0275cmp=_({type:o,selectors:[["lg-settings"]],decls:18,vars:24,consts:[["alias","language","lgTab","",3,"label"],["alias","categoires","lgTab","",3,"label"],["alias","invoice","lgTab","",3,"label"],["alias","credentials","lgTab","",3,"label"],["alias","taxes","lgTab","",3,"label"],["alias","backup","lgTab","",3,"label"],[3,"mobileMode","top"],["lgExpand","","routerLink","/settings/categories/products","routerLinkActive","active"],["lgExpand","","routerLink","/settings/categories/recipes","routerLinkActive","active"]],template:function(t,i){t&1&&(l(0,"lg-fade-in")(1,"lg-container")(2,"lg-title"),d(3),c(4,"translate"),a(),l(5,"lg-tabs"),b(6,zt,1,0,"ng-template",0),c(7,"translate"),b(8,Gt,7,8,"ng-template",1),c(9,"translate"),b(10,Ht,1,0,"ng-template",2),c(11,"translate"),b(12,jt,1,0,"ng-template",3),c(13,"translate"),b(14,Ut,1,0,"ng-template",4),c(15,"translate"),b(16,$t,1,0,"ng-template",5),c(17,"translate"),a()()()),t&2&&(n(3),O(m(4,10,"settings.title")),n(3),r("label",Y(m(7,12,"language.settings-title"))),n(2),r("label",Y(m(9,14,"categories.settings-title"))),n(2),r("label",m(11,16,"settings.invoice.title")),n(2),r("label",m(13,18,"settings.credentials.title")),n(2),r("label",m(15,20,"settings.taxes.title")),n(2),r("label",Y(m(17,22,"backup.settings-title"))))},dependencies:[it,T,H,$e,Je,ot,se,de,ge,M,pe,ce,fe,Ce,mt],encapsulation:2})};export{gt as SettingsComponent};
