"use strict";(self.webpackChunklasagna=self.webpackChunklasagna||[]).push([[504],{9504:(y,e,n)=>{n.r(e),n.d(e,{ProductListComponent:()=>R});var a=n(467),t=n(1007),i=n(7782),u=n(7512),d=n(1119),p=n(1072),m=n(553),E=n(5642),P=n(1086),g=n(177),c=n(4625),D=n(7201);function O(r,l){if(1&r){const o=t.RV6();t.j41(0,"lg-gap-row",0)(1,"div",2),t.EFF(2),t.nI1(3,"number"),t.k0s(),t.j41(4,"lg-button",3),t.EFF(5," Edit "),t.k0s(),t.j41(6,"lg-button",4),t.bIt("click",function(){const s=t.eBV(o).$implicit,v=t.XpG();return t.Njj(v.deleteProduct(s))}),t.nrm(7,"mat-icon",5),t.k0s()()}if(2&r){const o=l.$implicit,_=t.XpG();t.Y8G("center",!0),t.R7$(2),t.E5c(" ",o.name," ",o.source?"- "+o.source:""," (",t.i5U(3,13,_.getPricePerGram(o),"1.2-5"),"/per gram) "),t.R7$(2),t.Aen("primary"),t.Y8G("size","small")("link","/edit-product/"+o.uuid)("flat",!0),t.R7$(2),t.Aen("danger"),t.Y8G("size","small")("icon",!0)}}function M(r,l){1&r&&(t.j41(0,"div"),t.EFF(1,"No products found"),t.k0s())}let R=(()=>{class r{_productsRepository;constructor(o){this._productsRepository=o}products=(0,t.vPA)([]);getPricePerGram(o){return((0,c.N)(o.price)||1)/((0,c.N)(o.amount)||1)}deleteProduct(o){this._productsRepository.deleteProduct(o.uuid,()=>{this.loadProducts()})}ngOnInit(){var o=this;return(0,a.A)(function*(){yield o.loadProducts()})()}loadProducts(){this._productsRepository.getProducts(o=>{this.products.set(o)})}static \u0275fac=function(_){return new(_||r)(t.rXU(D.d))};static \u0275cmp=t.VBU({type:r,selectors:[["lg-product-list"]],decls:11,vars:7,consts:[[3,"center"],[3,"flat","link","size"],[1,"expand"],[3,"size","link","flat"],[3,"click","size","icon"],["aria-hidden","false","aria-label","Example home icon","fontIcon","close"]],template:function(_,s){1&_&&(t.j41(0,"lg-container")(1,"lg-gap-row",0)(2,"lg-title"),t.EFF(3," Products "),t.k0s(),t.j41(4,"lg-button",1),t.EFF(5," Add "),t.k0s()(),t.j41(6,"lg-card")(7,"lg-gap-column"),t.Z7z(8,O,8,16,"lg-gap-row",0,t.Vm6,!1,M,2,0,"div"),t.k0s()()()),2&_&&(t.R7$(),t.Y8G("center",!0),t.R7$(3),t.Aen("primary"),t.Y8G("flat",!0)("link","/add-product")("size","small"),t.R7$(4),t.Dyx(s.products()))},dependencies:[i.K,u.I,d.Q,p.d,m.i,E.H,P.W,g.QX],styles:["[_nghost-%COMP%]{display:block}"]})}return r})()}}]);