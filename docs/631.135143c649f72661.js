"use strict";(self.webpackChunklasagna=self.webpackChunklasagna||[]).push([[631],{4314:(M,l,o)=>{o.r(l),o.d(l,{CategoryListComponent:()=>m});var u=o(467),t=o(1007),y=o(7782),d=o(7512),O=o(1119),C=o(1072),p=o(553),D=o(5642),i=o(1086),c=o(2933);function g(n,_){if(1&n){const e=t.RV6();t.j41(0,"lg-gap-row",0)(1,"div",2),t.EFF(2),t.k0s(),t.j41(3,"lg-button",3),t.EFF(4," Edit "),t.k0s(),t.j41(5,"lg-button",4),t.bIt("click",function(){const s=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteCategory(s))}),t.nrm(6,"mat-icon",5),t.k0s()()}if(2&n){const e=_.$implicit;t.Y8G("center",!0),t.R7$(2),t.SpI(" ",e.name," "),t.R7$(),t.Aen("primary"),t.Y8G("size","small")("link","/edit-category/"+e.uuid)("flat",!0),t.R7$(2),t.Aen("danger"),t.Y8G("size","small")("icon",!0)}}function E(n,_){1&n&&(t.j41(0,"div"),t.EFF(1,"No categories found"),t.k0s())}let m=(()=>{class n{categoryRepository;constructor(e){this.categoryRepository=e}categories=(0,t.vPA)([]);deleteCategory(e){this.categoryRepository.deleteCategory(e.uuid).then(()=>{this.loadCategory()})}ngOnInit(){var e=this;return(0,u.A)(function*(){yield e.loadCategory()})()}loadCategory(){this.categoryRepository.getCategories().then(e=>{const a=e.toSorted((s,r)=>s.name.localeCompare(r.name));this.categories.set(a)})}static \u0275fac=function(a){return new(a||n)(t.rXU(c.P))};static \u0275cmp=t.VBU({type:n,selectors:[["lg-category-list"]],decls:11,vars:7,consts:[[3,"center"],[3,"flat","link","size"],[1,"expand"],[3,"size","link","flat"],[3,"click","size","icon"],["aria-hidden","false","aria-label","Example home icon","fontIcon","close"]],template:function(a,s){1&a&&(t.j41(0,"lg-container")(1,"lg-gap-row",0)(2,"lg-title"),t.EFF(3," Categories "),t.k0s(),t.j41(4,"lg-button",1),t.EFF(5," Add "),t.k0s()(),t.j41(6,"lg-card")(7,"lg-gap-column"),t.Z7z(8,g,7,11,"lg-gap-row",0,t.Vm6,!1,E,2,0,"div"),t.k0s()()()),2&a&&(t.R7$(),t.Y8G("center",!0),t.R7$(3),t.Aen("primary"),t.Y8G("flat",!0)("link","/add-category")("size","small"),t.R7$(4),t.Dyx(s.categories()))},dependencies:[y.K,d.I,O.Q,C.d,p.i,D.H,i.W],styles:["[_nghost-%COMP%]{display:block}"]})}return n})()},7468:(M,l,o)=>{o.d(l,{p:()=>D});var u=o(1985),t=o(3073),y=o(8750),d=o(9326),O=o(4360),C=o(6450),p=o(8496);function D(...i){const c=(0,d.ms)(i),{args:g,keys:E}=(0,t.D)(i),m=new u.c(n=>{const{length:_}=g;if(!_)return void n.complete();const e=new Array(_);let a=_,s=_;for(let r=0;r<_;r++){let P=!1;(0,y.Tg)(g[r]).subscribe((0,O._)(n,f=>{P||(P=!0,s--),e[r]=f},()=>a--,void 0,()=>{(!a||!P)&&(s||n.next(E?(0,p.e)(E,e):e),n.complete())}))}});return c?m.pipe((0,C.I)(c)):m}}}]);