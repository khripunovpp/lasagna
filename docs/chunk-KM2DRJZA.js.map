{
  "version": 3,
  "sources": ["src/app/shared/service/services/selection-zone.service.ts"],
  "sourcesContent": ["import {Injectable, signal} from '@angular/core';\nimport {ReplaySubject, shareReplay} from 'rxjs';\n\n@Injectable()\nexport class SelectionZoneService {\n\n  constructor() {\n  }\n\n  selectionMode = signal<'default' | 'selection'>('default');\n  selectAll = signal<boolean>(false);\n  deselectAll = signal<boolean>(false);\n  selected = signal<Set<string>>(new Set());\n  selectedData = signal<Map<string, any>>(new Map());\n  deleteAll = signal<boolean>(false);\n  deleteSelected = signal<boolean>(false);\n  private _deleteSubject = new ReplaySubject<[string, any]>();\n\n  get onDelete() {\n    return this._deleteSubject.asObservable().pipe(\n      shareReplay(1),\n    );\n  }\n\n  onSelection() {\n    this.selectionMode.set(this.selectionMode() === 'default' ? 'selection' : 'default');\n    this.selected.set(new Set());\n    this.selectedData.set(new Map());\n  }\n\n  onAllSelection() {\n    this.selectAll.set(true);\n    this.deselectAll.set(false);\n  }\n\n  onDeselectAll() {\n    this.selectAll.set(false);\n    this.deselectAll.set(true);\n  }\n\n  onDeleteAll() {\n    this.deleteAll.set(true);\n    this.deleteSelected.set(false);\n  }\n\n  onDeleteSelected() {\n    this.deleteAll.set(false);\n    this.deleteSelected.set(true);\n  }\n\n  putSelected(selected: [boolean, string, any]) {\n    const [checked, uuid, data] = selected;\n    this.selected.update(value => {\n      if (checked) {\n        value.add(uuid);\n        this.selectedData().set(uuid, data);\n      } else {\n        value.delete(uuid);\n        this.selectedData().delete(uuid);\n      }\n      return value;\n    })\n  }\n\n  putDelete(key: string, data: any) {\n    this._deleteSubject.next([key, data]);\n  }\n}\n"],
  "mappings": ";;;;;;;;;;AAIM,IAAO,uBAAP,MAAO,sBAAoB;EAE/B,cAAA;EACA;EAEA,gBAAgB,OAAgC,WAAS,GAAA,YAAA,CAAA,EAAA,WAAA,gBAAA,CAAA,IAAA,CAAA,CAAA;EACzD,YAAY,OAAgB,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,YAAA,CAAA,IAAA,CAAA,CAAA;EACjC,cAAc,OAAgB,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,cAAA,CAAA,IAAA,CAAA,CAAA;EACnC,WAAW,OAAoB,oBAAI,IAAG,GAAE,GAAA,YAAA,CAAA,EAAA,WAAA,WAAA,CAAA,IAAA,CAAA,CAAA;EACxC,eAAe,OAAyB,oBAAI,IAAG,GAAE,GAAA,YAAA,CAAA,EAAA,WAAA,eAAA,CAAA,IAAA,CAAA,CAAA;EACjD,YAAY,OAAgB,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,YAAA,CAAA,IAAA,CAAA,CAAA;EACjC,iBAAiB,OAAgB,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,iBAAA,CAAA,IAAA,CAAA,CAAA;EAC9B,iBAAiB,IAAI,cAAa;EAE1C,IAAI,WAAQ;AACV,WAAO,KAAK,eAAe,aAAY,EAAG,KACxC,YAAY,CAAC,CAAC;EAElB;EAEA,cAAW;AACT,SAAK,cAAc,IAAI,KAAK,cAAa,MAAO,YAAY,cAAc,SAAS;AACnF,SAAK,SAAS,IAAI,oBAAI,IAAG,CAAE;AAC3B,SAAK,aAAa,IAAI,oBAAI,IAAG,CAAE;EACjC;EAEA,iBAAc;AACZ,SAAK,UAAU,IAAI,IAAI;AACvB,SAAK,YAAY,IAAI,KAAK;EAC5B;EAEA,gBAAa;AACX,SAAK,UAAU,IAAI,KAAK;AACxB,SAAK,YAAY,IAAI,IAAI;EAC3B;EAEA,cAAW;AACT,SAAK,UAAU,IAAI,IAAI;AACvB,SAAK,eAAe,IAAI,KAAK;EAC/B;EAEA,mBAAgB;AACd,SAAK,UAAU,IAAI,KAAK;AACxB,SAAK,eAAe,IAAI,IAAI;EAC9B;EAEA,YAAY,UAAgC;AAC1C,UAAM,CAAC,SAAS,MAAM,IAAI,IAAI;AAC9B,SAAK,SAAS,OAAO,WAAQ;AAC3B,UAAI,SAAS;AACX,cAAM,IAAI,IAAI;AACd,aAAK,aAAY,EAAG,IAAI,MAAM,IAAI;MACpC,OAAO;AACL,cAAM,OAAO,IAAI;AACjB,aAAK,aAAY,EAAG,OAAO,IAAI;MACjC;AACA,aAAO;IACT,CAAC;EACH;EAEA,UAAU,KAAa,MAAS;AAC9B,SAAK,eAAe,KAAK,CAAC,KAAK,IAAI,CAAC;EACtC;;qCA9DW,uBAAoB;EAAA;4EAApB,uBAAoB,SAApB,sBAAoB,UAAA,CAAA;;;sEAApB,sBAAoB,CAAA;UADhC;;;",
  "names": []
}
