import{b as g}from"./chunk-B554CIE5.js";import{a as H}from"./chunk-UZBYRUYP.js";import{a as Y}from"./chunk-KYYDJ2CN.js";import{a as L}from"./chunk-C4ZIA7Z2.js";import{c as G,e as T,f as M,g as O,h as j,j as B,k as P,n as z,q}from"./chunk-32O7IJMM.js";import{a as J}from"./chunk-NTM2FENS.js";import{a as s}from"./chunk-NEKHWACR.js";import{a as K}from"./chunk-XVXTNF3J.js";import{a as k,b as D}from"./chunk-AYZPP7UL.js";import{f as S,h as N}from"./chunk-VHR6F3YK.js";import{Db as v,Eb as _,Fb as h,Nc as E,Qb as c,Sb as w,Ta as n,Xb as x,Ya as d,ab as p,ja as f,jc as V,ka as y,lb as m,mc as I,ob as R,pa as F,rb as A,sb as b,xb as a,yb as r,zb as u}from"./chunk-EXR2ZECX.js";function Z(o,e){if(o&1){let t=v();a(0,"lg-button",3),_("click",function(){f(t);let l=h();return y(l.editCategory(l.value))}),c(1," Edit Category "),r()}}function $(o,e){if(o&1){let t=v();a(0,"lg-button",3),_("click",function(){f(t);let l=h();return y(l.addCategory(l.value))}),c(1," Add Category "),r()}}var C=class o{constructor(e,t,i){this._categoryRepository=e;this._selectResourcesService=t;this._router=i}form=new O({name:new j("",G.required)});uuid=I("");uuidEffect=V(()=>{this.uuid()&&this._categoryRepository.getOne(this.uuid()).then(e=>{this.form.reset(e),this.form.updateValueAndValidity()})});get value(){return this.form.value}ngOnInit(){}addCategory(e){this._categoryRepository.addCategory(e).then(()=>{this._router.navigate(["/categories"])})}editCategory(e){this._categoryRepository.editCategory(this.uuid(),e).then(()=>{this._router.navigate(["/categories"])})}static \u0275fac=function(t){return new(t||o)(d(L),d(g),d(N))};static \u0275cmp=p({type:o,selectors:[["lg-add-category-form"]],inputs:{uuid:[1,"uuid"]},features:[x([{provide:g,useClass:g}])],decls:6,vars:3,consts:[[3,"formGroup"],["label","Name"],["formControlName","name",3,"placeholder"],[3,"click"]],template:function(t,i){t&1&&(a(0,"form",0)(1,"lg-gap-column")(2,"lg-control",1),u(3,"lg-input",2),r(),A(4,Z,2,0,"lg-button")(5,$,2,0,"lg-button"),r()()),t&2&&(m("formGroup",i.form),n(3),m("placeholder","Your category name"),n(),b(i.uuid()?4:5))},dependencies:[q,B,T,M,P,z,Y,H,J,s],encapsulation:2})};var Q=class o{constructor(e){this._aRoute=e}uuid=F("");ngOnInit(){this._aRoute.params.subscribe(e=>{this.uuid.set(e.uuid)})}static \u0275fac=function(t){return new(t||o)(d(S))};static \u0275cmp=p({type:o,selectors:[["lg-add-category"]],decls:8,vars:8,consts:[[3,"center"],[3,"flat","link","size"],[3,"uuid"]],template:function(t,i){t&1&&(a(0,"lg-container")(1,"lg-gap-row",0)(2,"lg-title"),c(3),r(),a(4,"lg-button",1),c(5," Back to list "),r()(),a(6,"lg-card"),u(7,"lg-add-category-form",2),r()()),t&2&&(n(),m("center",!0),n(2),w("",i.uuid()?"Edit":"Add"," Category"),n(),R("warning"),m("flat",!0)("link","/categories")("size","small"),n(3),m("uuid",i.uuid()))},dependencies:[E,k,D,C,K,s],encapsulation:2})};export{Q as AddCategoryComponent};
