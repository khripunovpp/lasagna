import{b as oe}from"./chunk-AA5Q2ZUN.js";import{a as Q,b as X}from"./chunk-F6GYIIQL.js";import{a as d}from"./chunk-AQZ6ONQL.js";import"./chunk-T3OWWN6A.js";import{a as J}from"./chunk-ZD7QV46A.js";import{a as te}from"./chunk-MCS5HOGQ.js";import{c as re,d as ne}from"./chunk-KZEI6RKT.js";import{$a as x,$b as ee,Bb as H,C as m,H as v,Ia as E,Ja as A,Ka as V,M as O,O as j,P as I,Pb as K,Q as a,R as L,Rb as Z,Tb as G,Ub as q,W,Wb as Y,_b as $,a as F,ea as _,f as l,gb as B,i as R,ia as P,j as y,na as U,qb as z,r as g,ta as S,ua as k,w as u,wa as N,x as M,za as D}from"./chunk-7BPNVVWP.js";var ie=(e,n)=>a(d)?.getRecipes();var se=(e,n)=>l(void 0,null,function*(){let t=e.paramMap.get("uuid");return a(d)?.getOne(t)});var ae=(e,n)=>l(void 0,null,function*(){let t=e.paramMap.get("uuid");return a(Q)?.calculateRecipe(t)});var pe=(e,n)=>l(void 0,null,function*(){let t=e.paramMap.get("uuid"),o=a(d),r=a(X),i=(yield o.getOne(t))?.taxTemplateName;return i?r.getTemplateByName("tax",i):null});var ce=[{path:"",children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-NOEWBAEQ.js").then(e=>e.ApplicationComponent)},{path:"add-recipe",loadComponent:()=>import("./chunk-KYGX57JM.js").then(e=>e.AddRecipeComponent)},{path:"edit-recipe/:uuid",loadComponent:()=>import("./chunk-KYGX57JM.js").then(e=>e.AddRecipeComponent),resolve:{recipe:se}},{path:"calc-recipe/:uuid",loadComponent:()=>import("./chunk-7HJY6P3C.js").then(e=>e.CalculateRecipeComponent),resolve:{result:ae,template:pe}},{path:"recipes",loadComponent:()=>import("./chunk-RNKYVYCM.js").then(e=>e.RecipesListComponent),resolve:{list:ie}},{path:"add-product",loadComponent:()=>import("./chunk-V6K6NCWI.js").then(e=>e.AddProductComponent)},{path:"edit-product/:uuid",loadComponent:()=>import("./chunk-V6K6NCWI.js").then(e=>e.AddProductComponent)},{path:"products",loadComponent:()=>import("./chunk-45ZUM5BZ.js").then(e=>e.ProductListComponent)},{path:"add-category",loadComponent:()=>import("./chunk-AK5D7VJG.js").then(e=>e.AddCategoryComponent)},{path:"edit-category/:uuid",loadComponent:()=>import("./chunk-AK5D7VJG.js").then(e=>e.AddCategoryComponent)},{path:"categories",loadComponent:()=>import("./chunk-L6KCGGGE.js").then(e=>e.CategoryListComponent)},{path:"widgets",loadComponent:()=>import("./chunk-OBAUTGB2.js").then(e=>e.WidgetsPageComponent)}]}];var C="Service workers are disabled or not supported by this browser",h=class{serviceWorker;worker;registration;events;constructor(n,t){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=new R(o=>o.error(new Error(C)));else{let o=null,r=new y;this.worker=new R(c=>(o!==null&&c.next(o),r.subscribe(w=>c.next(w))));let s=()=>{let{controller:c}=n;c!==null&&(o=c,r.next(o))};n.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(v(()=>n.getRegistration()));let i=new y;this.events=i.asObservable();let p=c=>{let{data:w}=c;w?.type&&i.next(w)};n.addEventListener("message",p),t?.get(k,null,{optional:!0})?.onDestroy(()=>{n.removeEventListener("controllerchange",s),n.removeEventListener("message",p)})}}postMessage(n,t){return new Promise(o=>{this.worker.pipe(m(1)).subscribe(r=>{r.postMessage(F({action:n},t)),o()})})}postMessageWithOperation(n,t,o){let r=this.waitForOperationCompleted(o),s=this.postMessage(n,t);return Promise.all([s,r]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let t;return typeof n=="string"?t=o=>o.type===n:t=o=>n.includes(o.type),this.events.pipe(M(t))}nextEventOfType(n){return this.eventsOfType(n).pipe(m(1))}waitForOperationCompleted(n){return new Promise((t,o)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(M(r=>r.nonce===n),m(1),g(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:t,error:o})})}get isEnabled(){return!!this.serviceWorker}},fe=(()=>{class e{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new y;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=u,this.notificationClicks=u,this.subscription=u;return}this.messages=this.sw.eventsOfType("PUSH").pipe(g(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(g(r=>r.data)),this.pushManager=this.sw.registration.pipe(g(r=>r.pushManager));let o=this.pushManager.pipe(v(r=>r.getSubscription()));this.subscription=new R(r=>{let s=o.subscribe(r),i=this.subscriptionChanges.subscribe(r);return()=>{s.unsubscribe(),i.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(C));let o={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let i=0;i<r.length;i++)s[i]=r.charCodeAt(i);return o.applicationServerKey=s,new Promise((i,p)=>{this.pushManager.pipe(v(f=>f.subscribe(o)),m(1)).subscribe({next:f=>{this.subscriptionChanges.next(f),i(f)},error:p})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=o=>{if(o===null)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return new Promise((o,r)=>{this.subscription.pipe(m(1),v(t)).subscribe({next:o,error:r})})}decodeBase64(t){return atob(t)}static \u0275fac=function(o){return new(o||e)(I(h))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),ge=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=u,this.unrecoverable=u;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(o){return new(o||e)(I(h))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();var ue=new j("");function ve(){let e=a(b);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let n=a(ue),t=a(_),o=a(k);t.runOutsideAngular(()=>{let r=navigator.serviceWorker,s=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",s),o.onDestroy(()=>{r.removeEventListener("controllerchange",s)})}),t.runOutsideAngular(()=>{let r,{registrationStrategy:s}=e;if(typeof s=="function")r=new Promise(i=>s().subscribe(()=>i()));else{let[i,...p]=(s||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=le(+p[0]||0);break;case"registerWhenStable":r=Promise.race([o.whenStable(),le(+p[0])]);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.then(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(i=>console.error("Service worker registration failed with:",i)))})}function le(e){return new Promise(n=>setTimeout(n,e))}function Ce(e,n){return new h(e.enabled!==!1?navigator.serviceWorker:void 0,n)}var b=class{enabled;scope;registrationStrategy};function me(e,n={}){return L([fe,ge,{provide:ue,useValue:e},{provide:b,useValue:n},{provide:h,useFactory:Ce,deps:[b,W]},S(ve)])}var de={providers:[z({eventCoalescing:!0}),$(ce),q(G()),oe(),Z(),S(()=>{let e=a(J);return Promise.all([e.preloadCategories()])}),me("ngsw-worker.js",{enabled:!H(),registrationStrategy:"registerWhenStable:30000"})]};var T=class e{title="lasagna";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=U({type:e,selectors:[["app-root"]],features:[B([])],decls:10,vars:10,consts:[[1,"app"],[3,"flat","link","size"]],template:function(t,o){t&1&&(E(0,"main",0)(1,"lg-gap-column")(2,"lg-container")(3,"lg-gap-row")(4,"lg-button",1),x(5," My store "),A(),E(6,"lg-button",1),x(7," Widgets "),A()()(),E(8,"div"),V(9,"router-outlet"),A()()()),t&2&&(P(4),D("primary"),N("flat",!0)("link","/home")("size","small"),P(2),D("info"),N("flat",!0)("link","/widgets")("size","small"))},dependencies:[Y,te,ee,re,ne],styles:[".app[_ngcontent-%COMP%]{padding:32px 0}"]})};K(T,de).catch(e=>console.error(e));
