import{a as F}from"./chunk-FJZTQFNZ.js";import"./chunk-C2BE764O.js";import{a as $,b as j,c as V}from"./chunk-HRJJTZRZ.js";import{a as N}from"./chunk-KJHYIYGH.js";import"./chunk-UHSOGUHE.js";import{a as D}from"./chunk-ZEKB2U6M.js";import"./chunk-BSYU4TDD.js";import"./chunk-FMSTASSM.js";import{c as M}from"./chunk-TQTLV33A.js";import{a as A}from"./chunk-2NSFWKSX.js";import{b as z}from"./chunk-HMFW6PL3.js";import{$a as c,Ca as y,Da as x,Ea as L,Ga as _,Ha as u,Ia as p,Ja as r,Ka as k,Oa as h,Pa as S,Qa as l,U as f,V as g,Wb as b,Z as v,Zb as w,ab as E,ac as T,bb as I,ia as n,la as s,na as C,ra as R,wa as o,za as m}from"./chunk-EBX4ADAM.js";var U=(e,t)=>t==null?null:t.category;function G(e,t){if(e&1){let i=h();p(0,"lg-gap-row",0)(1,"div",4)(2,"a",5),c(3),r()(),p(4,"lg-button",6),c(5," Calculate "),r(),p(6,"lg-button",7),S("click",function(){f(i);let d=l().$implicit,P=l(3);return g(P.deleteRecipe(d))}),k(7,"mat-icon",8),r()()}if(e&2){let i=l().$implicit;o("center",!0),n(2),o("routerLink","/edit-recipe/"+i.uuid),n(),E(i.name),n(),m("primary"),o("size","small")("link","/calc-recipe/"+i.uuid)("flat",!0),n(2),m("danger"),o("size","small")("icon",!0)}}function O(e,t){e&1&&R(0,G,8,12,"ng-template",3)}function q(e,t){if(e&1&&(p(0,"lg-title",2),c(1),r(),p(2,"lg-card-list"),_(3,O,1,0,null,3,L),r()),e&2){let i=l().$implicit;o("level",3),n(),I(" ",t||"Uncategorized"," "),n(2),u(i.recipes)}}function H(e,t){if(e&1&&y(0,q,5,2),e&2){let i,a=t.$implicit;x((i=a==null?null:a.category)?0:-1,i)}}function J(e,t){e&1&&(p(0,"lg-gap-row",0)(1,"lg-title",2),c(2," No recipes found "),r()()),e&2&&(o("center",!0),n(),o("level",5))}var B=class e{constructor(t,i,a){this._activatedRoute=t;this._recipesRepository=i;this._notificationsService=a;this._activatedRoute.data.pipe(N()).subscribe(d=>{this.recipes.set(d.list)})}recipes=v([]);deleteRecipe(t){this._recipesRepository.deleteRecipe(t.uuid).then(()=>{this.loadRecipes(),this._notificationsService.success("Recipe deleted")})}loadRecipes(){this._recipesRepository.getRecipes().then(t=>{this.recipes.set(t)})}static \u0275fac=function(i){return new(i||e)(s(b),s(F),s(D))};static \u0275cmp=C({type:e,selectors:[["lg-recipes-list"]],decls:9,vars:7,consts:[[3,"center"],[3,"flat","link","size"],[3,"level"],["lgCardListItem",""],[1,"expand"],[3,"routerLink"],[3,"size","link","flat"],[3,"click","size","icon"],["aria-hidden","false","aria-label","Example home icon","fontIcon","close"]],template:function(i,a){i&1&&(p(0,"lg-container")(1,"lg-gap-row",0)(2,"lg-title"),c(3," Recipes "),r(),p(4,"lg-button",1),c(5," Add "),r()(),_(6,H,1,1,null,null,U,!1,J,3,2,"lg-gap-row",0),r()),i&2&&(n(),o("center",!0),n(3),m("primary"),o("flat",!0)("link","/add-recipe")("size","small"),n(2),u(a.recipes()))},dependencies:[A,M,w,V,T,z,j,$],styles:["[_nghost-%COMP%]{display:block}"]})};export{B as RecipesListComponent};
