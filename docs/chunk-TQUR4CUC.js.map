{
  "version": 3,
  "sources": ["src/app/shared/view/ui/tabs/tab.directive.ts", "src/app/shared/view/ui/tabs/tabs.component.ts"],
  "sourcesContent": ["import {Directive, Input, TemplateRef} from '@angular/core';\n\n@Directive({\n  selector: 'ng-template[lgTab]',\n})\nexport class TabDirective {\n  constructor(\n    public templateRef: TemplateRef<unknown>\n  ) {\n  }\n\n  @Input({required: true}) label!: string;\n  @Input({required: true}) alias!: string;\n  @Input({required: false}) display: boolean = true;\n}\n", "import {Component, contentChildren, effect, inject, input, signal, ViewEncapsulation,} from '@angular/core';\nimport {NgTemplateOutlet} from '@angular/common';\nimport {TabDirective} from './tab.directive';\nimport {FlexColumnComponent} from '../../layout/flex-column.component';\n\nimport {injectQueryParams} from '../../../helpers/route.helpers';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'lg-tabs',\n  standalone: true,\n  imports: [\n    NgTemplateOutlet,\n    FlexColumnComponent,\n  ],\n  template: `\n    <div [attr.aria-label]=\"'Tabs'\"\n         [attr.role]=\"'tablist'\"\n         [class.flat]=\"flat()\"\n         [class.scrollable]=\"scrollable()\"\n         class=\"tabs\">\n      <div class=\"tabs__labels\">\n        @for (tab of tabs(); track tab.label; let i = $index) {\n          @if (tab.display) {\n            <button (click)=\"selectTab(i)\"\n                    [class.active]=\"activated()[i]\"\n                    [attr.aria-selected]=\"activated()[i]\"\n                    [attr.aria-controls]=\"'tab-' + i\"\n                    [attr.id]=\"'tab-' + i\">\n              {{ tab.label }}\n            </button>\n          }\n        }\n      </div>\n\n      <div class=\"tabs__body\">\n        @if (tabs().length > 0) {\n          @if (activated()[selectedIndex()]) {\n            <lg-flex-column [size]=\"'small'\">\n              <ng-container *ngTemplateOutlet=\"tabs()[selectedIndex()].templateRef\">\n              </ng-container>\n            </lg-flex-column>\n          }\n        }\n      </div>\n    </div>\n  `,\n  styles: [`\n    .tabs {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .tabs.flat {\n      gap: 12px;\n      margin: -2px;\n    }\n\n    .tabs.scrollable .tabs__labels {\n      overflow-x: auto;\n      white-space: nowrap;\n      scroll-behavior: smooth;\n      scroll-snap-type: x mandatory;\n      overscroll-behavior-x: contain;\n      -webkit-overflow-scrolling: touch;\n    }\n\n    .tabs.flat .tabs__labels {\n      border-radius: 0;\n      border-bottom: 1px solid #f5f5f5;\n      padding: 2px 2px 12px;\n      background-color: transparent;\n    }\n\n    .tabs__labels {\n      display: flex;\n      gap: 8px;\n      padding: 16px;\n      background-color: var(--tabs-labels-bg);\n\n      border-radius: 32px 32px 0 0;\n      border-bottom: 1px solid #ececec;\n    }\n\n    .tabs__labels button {\n      background: var(--tabs-label-bg);\n      border: 1px solid transparent;\n      border-radius: 16px;\n      padding: 12px;\n      cursor: pointer;\n      font-size: 14px;\n      transition: background-color 0.3s ease;\n      font-family: inherit;\n      text-decoration: none;\n      position: relative;\n      z-index: 1;\n    }\n\n    .tabs__labels button:hover {\n      background-color: var(--tabs-label-hover-bg);\n    }\n\n    .tabs__labels button:focus {\n      outline: 2px solid var(--tabs-label-focus);\n    }\n\n    .tabs__labels button.active {\n      background-color: var(--tabs-label-active-bg);\n      color: var(--tabs-label-active-text);\n    }\n\n    .tabs.flat .tabs__labels button {\n      padding: 8px 12px;\n      border-radius: 10px;\n    }\n\n    .tabs.flat .tabs__labels button:not(.active) {\n      background-color: transparent;\n      color: var(--tabs-label-flat-text);\n    }\n\n    .tabs.flat .tabs__labels button:not(.active):hover {\n      background-color: var(--tabs-label-flat-active-hover-bg);\n    }\n\n    .tabs.flat .tabs__labels button.active {\n      background-color: var(--tabs-label-flat-active-bg);\n      color: var(--tabs-label-flat-text);\n    }\n\n    .tabs__body {\n      display: flex;\n      flex-direction: column;\n      padding: 16px;\n      background-color: var(--tabs-body-bg);\n      border-radius: 0 0 32px 32px;\n    }\n\n    .tabs__body > * {\n      flex: 1;\n    }\n\n    .tabs.flat .tabs__body {\n      border-radius: 0;\n      background-color: transparent;\n      padding: 0;\n    }\n  `],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class TabsComponent {\n  readonly tabTemplates = contentChildren(TabDirective);\n  readonly router = inject(Router);\n  readonly tabs = signal<readonly TabDirective[]>([]);\n  readonly flat = input(false)\n  readonly silent = input(false)\n  readonly scrollable = input(true)\n  readonly activated = signal<boolean[]>([]);\n  readonly selectedIndex = signal(0);\n  readonly tabQuery = injectQueryParams('tab');\n  readonly tabQueryEffect = effect(() => {\n    const tab = this.tabQuery();\n    if (tab) {\n      const index = this.tabs().findIndex(t => t.alias?.toLowerCase()?.includes(tab.toString().toLowerCase() ?? ''));\n      if (index !== -1) {\n        this.selectTab(index);\n      }\n    }\n  });\n\n  tabsEffect = effect(() => {\n    const allTabs = this.tabTemplates();\n    this.tabs.set(allTabs);\n    this.activated.set(allTabs.map((_, i) => i === this.selectedIndex()));\n  });\n\n  selectTab(index: number) {\n    this.selectedIndex.set(index);\n    this.activated.update((old) => {\n      return old.map((_, i) => i === index);\n    });\n    if (this.silent()) {\n      return;\n    }\n    this.router.navigate([], {\n      queryParams: {tab: this.tabs()[index].alias},\n      queryParamsHandling: 'merge',\n    });\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
