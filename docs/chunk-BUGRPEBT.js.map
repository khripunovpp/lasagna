{
  "version": 3,
  "sources": ["src/app/features/onboarding/onboarding.service.ts"],
  "sourcesContent": ["import {computed, inject, Injectable, signal} from '@angular/core';\nimport {APP_SERVER_IS_RU} from '../../shared/service/tokens/app-server-region.token';\nimport {WINDOW} from '../../shared/service/tokens/window.token';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OnboardingService {\n  constructor() {\n    try {\n      this._settingsDone = signal(!!this._window?.localStorage.getItem('onboarding_settings_done'));\n      this._productDone = signal(!!this._window?.localStorage.getItem('onboarding_product_done'));\n      this._recipeDone = signal(!!this._window?.localStorage.getItem('onboarding_recipe_done'));\n      this._faqDone = signal(!!this._window?.localStorage.getItem('onboarding_faq_done'));\n    } catch (e) {\n      console.error('Failed to initialize onboarding service', e);\n    }\n  }\n\n  private readonly _window = inject(WINDOW);\n\n  private _settingsDone = signal(false);\n  private _productDone = signal(false);\n  private _recipeDone = signal(false);\n  private _faqDone = signal(false);\n  private readonly _isRuRegion = inject(APP_SERVER_IS_RU);\n  readonly isOnboardingComplete = computed(() => {\n      if (this._productDone()\n        && this._recipeDone()\n        && this._faqDone()) {\n        return this._isRuRegion ? true : this._settingsDone();\n      }\n      return false;\n    }\n  );\n\n  markProductDone() {\n    try {\n      this._window?.localStorage.setItem('onboarding_product_done', '1');\n      this._productDone.set(true);\n    } catch (e) {\n      console.error('Failed to mark product onboarding as done', e);\n    }\n  }\n\n  markRecipeDone() {\n    try {\n      this._window?.localStorage.setItem('onboarding_recipe_done', '1');\n      this._recipeDone.set(true);\n    } catch (e) {\n      console.error('Failed to mark product onboarding as done', e);\n    }\n  }\n\n  markSettingsDone() {\n    try {\n      this._window?.localStorage.setItem('onboarding_settings_done', '1');\n      this._settingsDone.set(true);\n    } catch (e) {\n      console.error('Failed to mark product onboarding as done', e);\n    }\n  }\n\n  markFaqDone() {\n    try {\n      this._window?.localStorage.setItem('onboarding_faq_done', '1');\n      this._faqDone.set(true);\n    } catch (e) {\n      console.error('Failed to mark product onboarding as done', e);\n    }\n  }\n\n  isProductDone(): boolean {\n    return this._productDone();\n  }\n\n  isRecipeDone(): boolean {\n    return this._recipeDone();\n  }\n\n  isSettingsDone(): boolean {\n    return this._settingsDone();\n  }\n\n  isFaqDone(): boolean {\n    return this._faqDone();\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;AAOM,IAAO,oBAAP,MAAO,mBAAiB;EAC5B,cAAA;AACE,QAAI;AACF,WAAK,gBAAgB,OAAO,CAAC,CAAC,KAAK,SAAS,aAAa,QAAQ,0BAA0B,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,gBAAA,CAAA,IAAA,CAAA,CAAA;AAC5F,WAAK,eAAe,OAAO,CAAC,CAAC,KAAK,SAAS,aAAa,QAAQ,yBAAyB,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,eAAA,CAAA,IAAA,CAAA,CAAA;AAC1F,WAAK,cAAc,OAAO,CAAC,CAAC,KAAK,SAAS,aAAa,QAAQ,wBAAwB,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,cAAA,CAAA,IAAA,CAAA,CAAA;AACxF,WAAK,WAAW,OAAO,CAAC,CAAC,KAAK,SAAS,aAAa,QAAQ,qBAAqB,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,WAAA,CAAA,IAAA,CAAA,CAAA;IACpF,SAAS,GAAG;AACV,cAAQ,MAAM,2CAA2C,CAAC;IAC5D;EACF;EAEiB,UAAU,OAAO,MAAM;EAEhC,gBAAgB,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,gBAAA,CAAA,IAAA,CAAA,CAAA;EAC5B,eAAe,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,eAAA,CAAA,IAAA,CAAA,CAAA;EAC3B,cAAc,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,cAAA,CAAA,IAAA,CAAA,CAAA;EAC1B,WAAW,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,WAAA,CAAA,IAAA,CAAA,CAAA;EACd,cAAc,OAAO,gBAAgB;EAC7C,uBAAuB,SAAS,MAAK;AAC1C,QAAI,KAAK,aAAY,KAChB,KAAK,YAAW,KAChB,KAAK,SAAQ,GAAI;AACpB,aAAO,KAAK,cAAc,OAAO,KAAK,cAAa;IACrD;AACA,WAAO;EACT,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,uBAAA,CAAA,IAAA,CAAA,CAAA;EAGH,kBAAe;AACb,QAAI;AACF,WAAK,SAAS,aAAa,QAAQ,2BAA2B,GAAG;AACjE,WAAK,aAAa,IAAI,IAAI;IAC5B,SAAS,GAAG;AACV,cAAQ,MAAM,6CAA6C,CAAC;IAC9D;EACF;EAEA,iBAAc;AACZ,QAAI;AACF,WAAK,SAAS,aAAa,QAAQ,0BAA0B,GAAG;AAChE,WAAK,YAAY,IAAI,IAAI;IAC3B,SAAS,GAAG;AACV,cAAQ,MAAM,6CAA6C,CAAC;IAC9D;EACF;EAEA,mBAAgB;AACd,QAAI;AACF,WAAK,SAAS,aAAa,QAAQ,4BAA4B,GAAG;AAClE,WAAK,cAAc,IAAI,IAAI;IAC7B,SAAS,GAAG;AACV,cAAQ,MAAM,6CAA6C,CAAC;IAC9D;EACF;EAEA,cAAW;AACT,QAAI;AACF,WAAK,SAAS,aAAa,QAAQ,uBAAuB,GAAG;AAC7D,WAAK,SAAS,IAAI,IAAI;IACxB,SAAS,GAAG;AACV,cAAQ,MAAM,6CAA6C,CAAC;IAC9D;EACF;EAEA,gBAAa;AACX,WAAO,KAAK,aAAY;EAC1B;EAEA,eAAY;AACV,WAAO,KAAK,YAAW;EACzB;EAEA,iBAAc;AACZ,WAAO,KAAK,cAAa;EAC3B;EAEA,YAAS;AACP,WAAO,KAAK,SAAQ;EACtB;;qCA/EW,oBAAiB;EAAA;4EAAjB,oBAAiB,SAAjB,mBAAiB,WAAA,YAFhB,OAAM,CAAA;;;sEAEP,mBAAiB,CAAA;UAH7B;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
