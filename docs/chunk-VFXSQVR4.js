import{a as g}from"./chunk-WTF2FVJ4.js";import{a as H,b as J}from"./chunk-ZYT64JFR.js";import{a as E}from"./chunk-M5IBY6FX.js";import{a as K}from"./chunk-GKQZ6TBK.js";import{a as L}from"./chunk-ZEKB2U6M.js";import"./chunk-BSYU4TDD.js";import{c as G,e as T,f as j,g as M,h as O,j as B,k as z,n as q,q as Y}from"./chunk-FMSTASSM.js";import{c as l}from"./chunk-TQTLV33A.js";import{a as Q}from"./chunk-2NSFWKSX.js";import{a as P,b as D}from"./chunk-HMFW6PL3.js";import{$a as s,Ca as S,Da as b,Ia as a,Ja as i,Ka as u,Oa as v,Pa as _,Qa as h,U as C,V as y,Wb as N,Yb as V,Z as F,ac as k,bb as A,gb as w,ia as n,la as m,na as p,tb as x,wa as c,xb as I,za as R}from"./chunk-EBX4ADAM.js";function $(o,e){if(o&1){let t=v();a(0,"lg-button",3),_("click",function(){C(t);let d=h();return y(d.editCategory(d.value))}),s(1," Edit Category "),i()}}function ee(o,e){if(o&1){let t=v();a(0,"lg-button",3),_("click",function(){C(t);let d=h();return y(d.addCategory(d.value))}),s(1," Add Category "),i()}}var f=class o{constructor(e,t,r,d){this._categoryRepository=e;this._selectResourcesService=t;this._router=r;this._notificationsService=d}form=new M({name:new O("",G.required)});uuid=I("");uuidEffect=x(()=>{this.uuid()&&this._categoryRepository.getOne(this.uuid()).then(e=>{this.form.reset(e)})});get value(){return this.form.value}ngOnInit(){}addCategory(e){this._categoryRepository.addCategory(e).then(()=>{this.form.reset({}),this._notificationsService.success("Category added")})}editCategory(e){this._categoryRepository.editCategory(this.uuid(),e).then(()=>{this._notificationsService.success("Category edited")})}static \u0275fac=function(t){return new(t||o)(m(E),m(g),m(V),m(L))};static \u0275cmp=p({type:o,selectors:[["lg-add-category-form"]],inputs:{uuid:[1,"uuid"]},features:[w([{provide:g,useClass:g}])],decls:6,vars:3,consts:[[3,"formGroup"],["label","Name"],["formControlName","name",3,"placeholder"],[3,"click"]],template:function(t,r){t&1&&(a(0,"form",0)(1,"lg-gap-column")(2,"lg-control",1),u(3,"lg-input",2),i(),S(4,$,2,0,"lg-button")(5,ee,2,0,"lg-button"),i()()),t&2&&(c("formGroup",r.form),n(3),c("placeholder","Your category name"),n(),b(r.uuid()?4:5))},dependencies:[Y,B,T,j,z,q,H,J,K,l],encapsulation:2})};var U=class o{constructor(e){this._aRoute=e}uuid=F("");ngOnInit(){this._aRoute.params.subscribe(e=>{this.uuid.set(e.uuid)})}static \u0275fac=function(t){return new(t||o)(m(N))};static \u0275cmp=p({type:o,selectors:[["lg-add-category"]],decls:8,vars:8,consts:[[3,"center"],[3,"flat","link","size"],[3,"uuid"]],template:function(t,r){t&1&&(a(0,"lg-container")(1,"lg-gap-row",0)(2,"lg-title"),s(3),i(),a(4,"lg-button",1),s(5," Back to list "),i()(),a(6,"lg-card"),u(7,"lg-add-category-form",2),i()()),t&2&&(n(),c("center",!0),n(2),A("",r.uuid()?"Edit":"Add"," product category"),n(),R("warning"),c("flat",!0)("link","/products-categories")("size","small"),n(3),c("uuid",r.uuid()))},dependencies:[k,P,D,f,Q,l],encapsulation:2})};export{U as AddCategoryComponent};
