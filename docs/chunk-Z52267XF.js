import{a as l}from"./chunk-SU62LMDG.js";import{a as Q}from"./chunk-EPO23GDK.js";import{a as L}from"./chunk-TAQBGISU.js";import{b as K}from"./chunk-5QDKKGEV.js";import{a as x}from"./chunk-NRQ7W7MN.js";import{a as J}from"./chunk-4J6QSXGQ.js";import{a as G}from"./chunk-5TOARGWW.js";import{h as T,k as j,m as O,n as k,o as M,p as q,r as B,t as Y,w as z,z as H}from"./chunk-X5YAN5AH.js";import"./chunk-DELOOZDJ.js";import{a as V,b as E}from"./chunk-QE42GE7B.js";import{A as D,s as w,v as N,z as P}from"./chunk-UAPQ4Z4N.js";import{Ab as r,Bb as u,Fb as y,Ib as v,Jb as _,Sa as n,Vb as s,Xa as a,Xb as S,ab as p,ac as A,ea as C,fa as f,la as F,nb as d,qc as b,tb as h,ub as R,uc as I,zb as m}from"./chunk-SYQBEC7E.js";import"./chunk-2WH2EVR6.js";function $(o,e){if(o&1){let t=y();m(0,"lg-button",3),v("click",function(){C(t);let c=_();return f(c.editCategory(c.value))}),s(1," Edit Category "),r()}}function ee(o,e){if(o&1){let t=y();m(0,"lg-button",3),v("click",function(){C(t);let c=_();return f(c.addCategory(c.value))}),s(1," Add Category "),r()}}var g=class o{constructor(e,t,i,c){this._categoryRepository=e;this._selectResourcesService=t;this._router=i;this._notificationsService=c}form=new M({name:new q("",j.required)});uuid=I("");uuidEffect=b(()=>{this.uuid()&&this._categoryRepository.getOne(this.uuid()).then(e=>{this.form.reset(e)})});get value(){return this.form.value}ngOnInit(){}addCategory(e){this._categoryRepository.addCategory(e).then(()=>{this.form.reset({}),this._notificationsService.success("Category added")})}editCategory(e){this._categoryRepository.editCategory(this.uuid(),e).then(()=>{this._notificationsService.success("Category edited")})}static \u0275fac=function(t){return new(t||o)(a(x),a(l),a(N),a(K))};static \u0275cmp=p({type:o,selectors:[["lg-add-category-form"]],inputs:{uuid:[1,"uuid"]},features:[A([{provide:l,useClass:l}])],decls:6,vars:3,consts:[[3,"formGroup"],["label","Name"],["formControlName","name",3,"placeholder"],[3,"click"]],template:function(t,i){t&1&&(m(0,"form",0)(1,"lg-gap-column")(2,"lg-control",1),u(3,"lg-input",2),r(),h(4,$,2,0,"lg-button")(5,ee,2,0,"lg-button"),r()()),t&2&&(d("formGroup",i.form),n(3),d("placeholder","Your category name"),n(),R(i.uuid()?4:5))},dependencies:[H,B,O,k,Y,z,L,Q,J,T],encapsulation:2})};var U=class o{constructor(e){this._aRoute=e}uuid=F("");ngOnInit(){this._aRoute.params.subscribe(e=>{this.uuid.set(e.uuid)})}static \u0275fac=function(t){return new(t||o)(a(w))};static \u0275cmp=p({type:o,selectors:[["lg-add-category"]],decls:7,vars:3,consts:[[3,"center"],[3,"uuid"]],template:function(t,i){t&1&&(m(0,"lg-fade-in")(1,"lg-container")(2,"lg-gap-row",0)(3,"lg-title"),s(4),r()(),m(5,"lg-card"),u(6,"lg-add-category-form",1),r()()()),t&2&&(n(2),d("center",!0),n(2),S("",i.uuid()?"Edit":"Add"," product category"),n(2),d("uuid",i.uuid()))},dependencies:[V,E,P,g,G,D],encapsulation:2})};export{U as AddCategoryComponent};
