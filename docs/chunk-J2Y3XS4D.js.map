{
  "version": 3,
  "sources": ["src/app/features/settings/view/categories/category-recipe/add-category/add-category-recipe-form.component.ts", "src/app/features/settings/view/categories/category-recipe/add-category/add-category-recipe.component.ts"],
  "sourcesContent": ["import {Component, effect, Inject, input, OnInit, signal} from '@angular/core';\nimport {FormControl, FormGroup, ReactiveFormsModule, Validators} from '@angular/forms';\nimport {InputComponent} from '../../../../../../shared/view/ui/form/input.component';\nimport {ControlComponent} from '../../../../../../shared/view/ui/form/control-item/control.component';\nimport {ButtonComponent} from '../../../../../../shared/view/ui/layout/button.component';\nimport {FlexRowComponent} from '../../../../../../shared/view/ui/layout/flex-row.component';\nimport {ExpandDirective} from '../../../../../../shared/view/directives/expand.directive';\nimport {NoWrapDirective} from '../../../../../../shared/view/directives/no-wrap.directive';\nimport {NotificationsService, SelectResourcesService} from '../../../../../../shared/service/services';\nimport {CategoryRecipesRepository} from '../../../../../../shared/service/repositories';\nimport {Router} from '@angular/router';\nimport {CategoryRecipe} from '../../../../service/models/CategoryRecipe';\nimport {categoryRecipeDTOFromFormValue, categoryRecipeToFormValue} from '../../../../../../shared/helpers';\nimport {TranslatePipe} from '@ngx-translate/core';\n\n@Component({\n  selector: 'lg-add-category-recipe-form',\n  standalone: true,\n  template: `\n      <form [formGroup]=\"form\">\n          <lg-flex-row [bottom]=\"true\" [mobileMode]=\"true\">\n              <lg-control [label]=\"'settings.category.name' | translate\" lgExpand>\n                  <lg-input (onEnter)=\"onEnter()\"\n                            [placeholder]=\"'settings.category.placeholder' | translate\"\n                            formControlName=\"name\"></lg-input>\n              </lg-control>\n\n              <div lgNoWrap>\n                  @if (uuid()) {\n                      <lg-button [disabled]=\"!form.dirty\"\n                                 (click)=\"editCategory()\">\n                          @if (form.dirty) {\n                              {{ 'settings.category.save' | translate }}\n                          } @else {\n                              {{ 'settings.category.no-changes' | translate }}\n                          }\n                      </lg-button>\n                  } @else {\n                      <lg-button [disabled]=\"!form.dirty\" (click)=\"addCategory()\">\n                          @if (form.dirty) {\n                              {{ 'settings.category.add' | translate }}\n                          } @else {\n                              {{ 'settings.category.enter-name' | translate }}\n                          }\n                      </lg-button>\n                  }\n              </div>\n          </lg-flex-row>\n      </form>\n  `,\n  imports: [\n    ReactiveFormsModule,\n    InputComponent,\n    ControlComponent,\n    ButtonComponent,\n    FlexRowComponent,\n    ExpandDirective,\n    NoWrapDirective,\n    TranslatePipe\n  ],\n  styles: [\n    `\n    `\n  ],\n})\nexport class AddCategoryRecipeFormComponent\n  implements OnInit {\n  constructor(\n    public _categoryRepository: CategoryRecipesRepository,\n    @Inject(SelectResourcesService) public _selectResourcesService: SelectResourcesService,\n    private _router: Router,\n    private _notificationsService: NotificationsService,\n  ) {\n  }\n\n  form = new FormGroup({\n    name: new FormControl('', Validators.required),\n  });\n  category = signal<CategoryRecipe | undefined>(undefined);\n  uuid = input<string>('');\n  private uuidEffect = effect(() => {\n    if (!this.uuid()) {\n      this.category.set(CategoryRecipe.empty());\n      return;\n    }\n    this._categoryRepository.getOne(this.uuid()).then(category => {\n      this.form.reset(categoryRecipeToFormValue(category));\n      this.category.set(category);\n      this.form.markAsPristine();\n    });\n  });\n\n  ngOnInit() {\n    this.form.valueChanges.subscribe(values => {\n      this.category()?.update(categoryRecipeDTOFromFormValue(values));\n    })\n  }\n\n  addCategory() {\n    if (!this.category() || !this.form.dirty) {\n      return Promise.resolve();\n    }\n    return this._categoryRepository.addCategory(this.category()!).then(() => {\n      this.form.reset({\n        name: '',\n      });\n      this._notificationsService.success('settings.category.added');\n      this.form.markAsPristine();\n    });\n  }\n\n  editCategory() {\n    if (!this.category() || !this.form.dirty) {\n      return Promise.resolve();\n    }\n    return this._categoryRepository.editCategory(this.uuid(), this.category()!).then(() => {\n      this._notificationsService.success('settings.category.edited');\n      this.form.markAsPristine();\n    });\n  }\n\n  onEnter() {\n    if (this.uuid()) {\n      this.editCategory();\n    } else {\n      this.addCategory();\n    }\n  }\n}\n", "import {Component, signal} from '@angular/core';\nimport {AddCategoryRecipeFormComponent} from './add-category-recipe-form.component';\nimport {ActivatedRoute} from '@angular/router';\nimport {FadeInComponent} from '../../../../../../shared/view/ui/fade-in.component';\nimport {ContainerComponent} from '../../../../../../shared/view/ui/layout/container/container.component';\nimport {FlexRowComponent} from '../../../../../../shared/view/ui/layout/flex-row.component';\nimport {TitleComponent} from '../../../../../../shared/view/ui/layout/title/title.component';\nimport {CardComponent} from '../../../../../../shared/view/ui/card/card.component';\nimport {TranslatePipe} from '@ngx-translate/core';\n\n@Component({\n  selector: 'lg-add-category-recipe',\n  standalone: true,\n  imports: [\n    FadeInComponent,\n    ContainerComponent,\n    FlexRowComponent,\n    TitleComponent,\n    AddCategoryRecipeFormComponent,\n    CardComponent,\n    TranslatePipe\n  ],\n  template: `\n      <lg-fade-in>\n          <lg-container>\n              <lg-flex-row [center]=\"true\">\n                  <lg-title>{{ uuid() ? ('categories.edit-recipe' | translate) : ('categories.add-recipe' | translate) }}</lg-title>\n              </lg-flex-row>\n\n              <lg-card>\n                  <lg-add-category-recipe-form [uuid]=\"uuid()\"></lg-add-category-recipe-form>\n              </lg-card>\n          </lg-container>\n      </lg-fade-in>\n  `,\n  styles: [\n    `\n    `\n  ]\n})\nexport class AddCategoryRecipeComponent {\n  constructor(\n    private _aRoute: ActivatedRoute,\n  ) {\n  }\n\n  uuid = signal('')\n\n  ngOnInit() {\n    this._aRoute.params.subscribe(params => {\n      this.uuid.set(params['uuid']);\n    });\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
