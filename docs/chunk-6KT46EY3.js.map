{
  "version": 3,
  "sources": ["src/app/features/settings/view/categories/category-recipe/list/category-recipe-list.component.ts"],
  "sourcesContent": ["import {Component, OnInit, signal} from '@angular/core';\nimport {FlexRowComponent} from '../../../../../../shared/view/layout/flex-row.component';\nimport {ButtonComponent} from '../../../../../../shared/view/ui/button.component';\nimport {MatIcon} from '@angular/material/icon';\nimport {ContainerComponent} from '../../../../../../shared/view/layout/container.component';\nimport {TitleComponent} from '../../../../../../shared/view/layout/title.component';\nimport {CardListComponent} from '../../../../../../shared/view/ui/card/card-list.component';\nimport {CardListItemDirective} from '../../../../../../shared/view/ui/card/card-list-item.directive';\nimport {FadeInComponent} from '../../../../../../shared/view/ui/fade-in.component';\nimport {NotificationsService} from '../../../../../../shared/service/services';\nimport {CategoryRecipesRepository} from '../../../../../../shared/service/repositories';\nimport {CategoryRecipe} from '../../../../service/models/CategoryRecipe';\nimport {TranslatePipe} from '@ngx-translate/core';\nimport {ExpandDirective} from '../../../../../../shared/view/directives/expand.directive';\nimport {RouterLink} from '@angular/router';\n\n@Component({\n  selector: 'lg-category-recipe-list',\n  standalone: true,\n  template: `\n    <lg-fade-in>\n      <lg-container>\n        <lg-flex-row [center]=\"true\">\n          <lg-title>\n            {{ 'categories.recipes.title' | translate }}\n          </lg-title>\n\n          <lg-button [link]=\"'/settings/categories/recipes/add'\"\n                     [size]=\"'tiny'\"\n                     [outlined]=\"true\"\n                     [style]=\"'default'\">\n            {{ 'add-label' | translate }}\n          </lg-button>\n        </lg-flex-row>\n\n        <lg-card-list>\n          @for (category of categories(); track $index; let i = $index) {\n            <ng-template lgCardListItem>\n              <lg-flex-row [center]=\"true\">\n                <a [routerLink]=\"'/settings/categories/recipes/edit/' + category.uuid\"\n                   lgExpand>\n                  {{ category.name }}\n                </a>\n\n                <lg-button [style]=\"'danger'\"\n                           [size]=\"'tiny'\"\n                           [icon]=\"true\"\n                           (click)=\"deleteCategory(category)\">\n                  <mat-icon aria-hidden=\"false\" aria-label=\"Delete\"\n                            fontIcon=\"close\"></mat-icon>\n                </lg-button>\n              </lg-flex-row>\n            </ng-template>\n          }\n        </lg-card-list>\n      </lg-container>\n    </lg-fade-in>\n  `,\n  imports: [\n    FlexRowComponent,\n    ButtonComponent,\n    MatIcon,\n    ContainerComponent,\n    TitleComponent,\n    CardListComponent,\n    CardListItemDirective,\n    FadeInComponent,\n    TranslatePipe,\n    ExpandDirective,\n    RouterLink\n  ],\n  styles: [\n    `:host {\n      display: block;\n    }\n    `\n  ]\n})\nexport class CategoryRecipeListComponent\n  implements OnInit {\n  constructor(\n    public categoryRepository: CategoryRecipesRepository,\n    private _notificationsService: NotificationsService,\n  ) {\n\n  }\n\n  categories = signal<CategoryRecipe[]>([])\n\n  deleteCategory(\n    category: CategoryRecipe,\n  ) {\n    if (!category.uuid) return Promise.resolve();\n    return this.categoryRepository.deleteCategory(category.uuid).then(() => {\n      this.loadCategory();\n      this._notificationsService.success('categories.deleted');\n    });\n  }\n\n  async ngOnInit() {\n    await this.loadCategory();\n  }\n\n  loadCategory() {\n    this.categoryRepository.getCategories().then((categories) => {\n      const sorted = categories.toSorted((a, b) => a?.name?.localeCompare(b?.name));\n      this.categories.set(sorted);\n    });\n  }\n\n}\n"],
  "mappings": "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",
  "names": []
}
