{
  "version": 3,
  "sources": ["src/app/features/settings/service/repositories/taxes.repository.ts"],
  "sourcesContent": ["import {Injectable} from '@angular/core';\nimport {DexieIndexDbService} from '../../../../shared/service/db/dexie-index-db.service';\nimport {Stores} from '../../../../shared/service/db/const/stores';\nimport {Tax} from '../models/Tax';\nimport {TaxDTO} from '../schemes/Tax.scheme';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TaxesRepository {\n  constructor(\n    public _indexDbService: DexieIndexDbService,\n  ) {\n  }\n\n  addOne(\n    tax: Tax\n  ) {\n    return this._indexDbService.addData(Stores.TAXES, tax.toDTO())\n  }\n\n  updateOne(\n    uuid: string,\n    tax: Tax\n  ) {\n    return this._indexDbService.replaceData(Stores.TAXES, uuid, tax.toDTO());\n  }\n\n  async getOne(\n    uuid: Tax | string | undefined,\n  ) {\n    return new Promise<Tax | undefined>(async (resolve, reject) => {\n      uuid = typeof uuid === 'string' ? uuid : (uuid as Tax).uuid;\n      if (!uuid) {\n        resolve(undefined);\n        return;\n      }\n      await this._indexDbService.getOne(Stores.TAXES, uuid).then((result: TaxDTO) => {\n        resolve(Tax.fromRaw(result));\n      });\n    });\n  }\n\n  getAll() {\n    return this._indexDbService.getAll<TaxDTO>(Stores.TAXES)\n      .then((taxes: TaxDTO[]) => taxes.map((tax) => Tax.fromRaw(tax)))\n  }\n\n  addMany(\n    taxes: Tax[]\n  ) {\n    return this._indexDbService.balkAdd(Stores.TAXES, taxes.map((tax) => tax.toDTO()), false);\n  }\n\n  deleteOne(\n    uuid: string\n  ) {\n    return this._indexDbService.remove(Stores.TAXES, uuid);\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;AASM,IAAO,kBAAP,MAAO,iBAAe;EAEjB;EADT,YACS,iBAAoC;AAApC,SAAA,kBAAA;EAET;EAEA,OACE,KAAQ;AAER,WAAO,KAAK,gBAAgB,QAAQ,OAAO,OAAO,IAAI,MAAK,CAAE;EAC/D;EAEA,UACE,MACA,KAAQ;AAER,WAAO,KAAK,gBAAgB,YAAY,OAAO,OAAO,MAAM,IAAI,MAAK,CAAE;EACzE;EAEA,MAAM,OACJ,MAA8B;AAE9B,WAAO,IAAI,QAAyB,OAAO,SAAS,WAAU;AAC5D,aAAO,OAAO,SAAS,WAAW,OAAQ,KAAa;AACvD,UAAI,CAAC,MAAM;AACT,gBAAQ,MAAS;AACjB;MACF;AACA,YAAM,KAAK,gBAAgB,OAAO,OAAO,OAAO,IAAI,EAAE,KAAK,CAAC,WAAkB;AAC5E,gBAAQ,IAAI,QAAQ,MAAM,CAAC;MAC7B,CAAC;IACH,CAAC;EACH;EAEA,SAAM;AACJ,WAAO,KAAK,gBAAgB,OAAe,OAAO,KAAK,EACpD,KAAK,CAAC,UAAoB,MAAM,IAAI,CAAC,QAAQ,IAAI,QAAQ,GAAG,CAAC,CAAC;EACnE;EAEA,QACE,OAAY;AAEZ,WAAO,KAAK,gBAAgB,QAAQ,OAAO,OAAO,MAAM,IAAI,CAAC,QAAQ,IAAI,MAAK,CAAE,GAAG,KAAK;EAC1F;EAEA,UACE,MAAY;AAEZ,WAAO,KAAK,gBAAgB,OAAO,OAAO,OAAO,IAAI;EACvD;;qCAjDW,kBAAe,mBAAA,mBAAA,CAAA;EAAA;4EAAf,kBAAe,SAAf,iBAAe,WAAA,YAFd,OAAM,CAAA;;;sEAEP,iBAAe,CAAA;UAH3B;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
