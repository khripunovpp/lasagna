import{V as r}from"./chunk-DE57DFLU.js";import{B as D}from"./chunk-CKZTBBM3.js";import{$ as a,da as d}from"./chunk-TMZLFVGH.js";var o=class i{constructor(e){this._indexDbService=e}addOne(e){return this._indexDbService.addData("credentials",e.toDTO())}updateOne(e,t){return this._indexDbService.replaceData("credentials",e,t.toDTO())}updateMany(e){return this._indexDbService.replaceManyData("credentials",e.map(t=>t.toDTO()))}async getOne(e){return new Promise(async(t,n)=>{if(e=typeof e=="string"?e:e.uuid,!e){t(void 0);return}await this._indexDbService.getOne("credentials",e).then(s=>{t(r.fromRaw(s))})})}getAll(){return this._indexDbService.getAll("credentials").then(e=>e.map(t=>r.fromRaw(t)))}addMany(e){return this._indexDbService.balkAdd("credentials",e.map(t=>t.toDTO()),!1)}deleteOne(e){return this._indexDbService.remove("credentials",e)}getAllByType(e){return this._indexDbService.search("credentials","type",e).then(t=>t.map(n=>r.fromRaw(n)))}getAllSystemCredentials(){return this._indexDbService.search("credentials","type","system").then(e=>e.map(t=>r.fromRaw(t)))}getAllCustomersCredentials(){return this._indexDbService.search("credentials","type","customer").then(e=>e.map(t=>r.fromRaw(t)))}static \u0275fac=function(t){return new(t||i)(d(D))};static \u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})};export{o as a};
