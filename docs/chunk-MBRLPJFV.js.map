{
  "version": 3,
  "sources": ["src/app/features/controls/form/number-input.component.ts"],
  "sourcesContent": ["import {\n  Component,\n  computed,\n  contentChildren,\n  ElementRef,\n  forwardRef,\n  HostBinding,\n  input,\n  output,\n  signal,\n  ViewChild\n} from '@angular/core';\nimport {ControlValueAccessor, FormsModule, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {removeAllNonMathSymbols} from '../../../shared/helpers/strings.helper';\nimport {ControlExtraTemplateDirective} from './control-extra-template.directive';\nimport {NgTemplateOutlet} from '@angular/common';\n\n@Component({\n  selector: 'lg-number-input',\n  standalone: true,\n  template: `\n    <div [class.disabled]=\"disable()\"\n         [class.moveBeforeAbove]=\"moveBeforeAbove()\"\n         class=\"lg-number-input\">\n\n      @if (topExtraTpl()?.templateRef) {\n        <div class=\"lg-number-input__top\">\n          <ng-container *ngTemplateOutlet=\"topExtraTpl()!.templateRef\"></ng-container>\n        </div>\n      }\n\n\n      <div class=\"lg-number-input__body\">\n        @if (beforeExtraTpl()?.templateRef) {\n          <div class=\"lg-number-input__before\">\n            <ng-container *ngTemplateOutlet=\"beforeExtraTpl()!.templateRef\"></ng-container>\n          </div>\n        }\n\n        <input #input\n               (blur)=\"focused.set(false)\"\n               (change)=\"onInputChange.emit(value)\"\n               (focus)=\"focused.set(true)\"\n               (input)=\"onChangeInput($event)\"\n               (keydown)=\"onKeydown.emit()\"\n               [disabled]=\"disable()\"\n               [placeholder]=\"placeholder()\"\n               [value]=\"value\"\n               class=\"input\"\n               inputmode=\"decimal\"\n               type=\"text\">\n\n        @if (afterExtraTpl()?.templateRef) {\n          <div class=\"lg-number-input__after\">\n            <ng-container *ngTemplateOutlet=\"afterExtraTpl()!.templateRef\"></ng-container>\n          </div>\n        }\n      </div>\n\n      @if (bottomExtraTpl()?.templateRef) {\n        <div class=\"lg-number-input__bottom\">\n          <ng-container *ngTemplateOutlet=\"bottomExtraTpl()!.templateRef\"></ng-container>\n        </div>\n      }\n    </div>\n\n  `,\n  styles: [\n    `\n      :host {\n        display: flex;\n        flex: 1;\n\n        &.focused {\n          box-shadow: var(--focus-shadow);\n          border-radius: 12px;\n        }\n      }\n\n\n      .lg-number-input__after {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n        padding: 0 8px 0 0;\n      }\n\n      .lg-number-input.moveBeforeAbove {\n        flex-wrap: wrap;\n      }\n\n      .lg-number-input.moveBeforeAbove .lg-number-input__before {\n        width: 100%;\n        padding-right: 16px;\n      }\n\n      .lg-number-input__before {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n        padding: 0 0 0 8px;\n      }\n\n      .lg-number-input__top,\n      .lg-number-input__bottom {\n        width: 100%;\n        padding: 8px;\n      }\n\n      .lg-number-input {\n        display: flex;\n        flex: 1;\n        flex-direction: column;\n        background-color: var(--control-bg);\n        border-radius: 12px;\n        padding: 8px;\n      }\n\n      .lg-number-input__body {\n\n        display: flex;\n        flex: 1;\n        flex-wrap: wrap;\n      }\n\n      .lg-number-input.disabled {\n        opacity: 0.7;\n      }\n\n      .input {\n        flex: 1;\n        border: none;\n        padding: 8px;\n        font-family: inherit;\n        font-size: inherit;\n        background-color: transparent;\n        border-radius: 12px;\n        width: 100%;\n        appearance: none;\n      }\n\n      .input::placeholder {\n        color: var(--placeholder);\n      }\n\n      .input:focus {\n        outline: none;\n      }\n    `\n  ],\n  imports: [\n    FormsModule,\n    NgTemplateOutlet\n  ],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NumberInputComponent),\n      multi: true\n    }\n  ]\n})\n\nexport class NumberInputComponent\n  implements ControlValueAccessor {\n  constructor() {\n  }\n\n  @ViewChild('input', {static: true}) input: ElementRef<HTMLInputElement> | undefined;\n  value: string = '';\n  onInputChange = output<string>();\n  onKeydown = output();\n  placeholder = input('Enter text here');\n  disable = input<boolean>(false);\n  moveBeforeAbove = input<boolean>(false);\n  focused = signal<boolean>(false);\n  extraTpl = contentChildren(ControlExtraTemplateDirective, {descendants: true});\n  afterExtraTpl = computed(() => {\n    return this.extraTpl().find(tpl => tpl.place() === 'after');\n  });\n  beforeExtraTpl = computed(() => {\n    return this.extraTpl().find(tpl => tpl.place() === 'before');\n  });\n  topExtraTpl = computed(() => {\n    return this.extraTpl().find(tpl => tpl.place() === 'top');\n  });\n  bottomExtraTpl = computed(() => {\n    return this.extraTpl().find(tpl => tpl.place() === 'bottom');\n  });\n\n  @HostBinding('class.focused') get focusedClass() {\n    return this.focused();\n  }\n\n  onChange: (value: string) => void = () => {\n  };\n\n  onTouched: () => void = () => {\n  };\n\n  writeValue(value: string): void {\n    this._change(value);\n  }\n\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  onChangeInput(\n    event: Event\n  ) {\n    this._change((event.target as HTMLInputElement).value);\n  }\n\n  focus() {\n    this.input?.nativeElement.focus();\n  }\n\n  ngAfterViewInit() {\n  }\n\n  private _change(value: string) {\n    this.value = value ? removeAllNonMathSymbols(value) : '';\n    if (this.input?.nativeElement) {\n      this.input.nativeElement.value = this.value;\n    }\n    this.onChange(this.value);\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
