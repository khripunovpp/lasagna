import{a as l}from"./chunk-7ERRCXI7.js";import{a as L,b as Q}from"./chunk-OPBLZIVJ.js";import{b as K}from"./chunk-6USZOTSX.js";import{a as x}from"./chunk-SULQO2OJ.js";import{g as T,j,l as O,m as k,n as M,o as q,q as B,r as Y,u as z,x as H}from"./chunk-72IHLCPW.js";import{a as J}from"./chunk-4SW7YSYP.js";import{a as G}from"./chunk-W6HBQ65E.js";import{a as V,b as E,c as P}from"./chunk-UKQXJ4KZ.js";import{s as w,v as N,z as D}from"./chunk-XGF5EUNH.js";import{Ab as h,Bb as R,Bc as I,Gb as m,Hb as r,Ib as u,Mb as y,Pb as v,Qb as _,Za as n,ac as s,cb as a,cc as S,hb as p,hc as A,la as C,ma as f,sa as F,ub as d,xc as b}from"./chunk-AOSYXQIS.js";function $(o,e){if(o&1){let t=y();m(0,"lg-button",3),v("click",function(){C(t);let c=_();return f(c.editCategory(c.value))}),s(1," Edit Category "),r()}}function ee(o,e){if(o&1){let t=y();m(0,"lg-button",3),v("click",function(){C(t);let c=_();return f(c.addCategory(c.value))}),s(1," Add Category "),r()}}var g=class o{constructor(e,t,i,c){this._categoryRepository=e;this._selectResourcesService=t;this._router=i;this._notificationsService=c}form=new M({name:new q("",j.required)});uuid=I("");uuidEffect=b(()=>{this.uuid()&&this._categoryRepository.getOne(this.uuid()).then(e=>{this.form.reset(e)})});get value(){return this.form.value}ngOnInit(){}addCategory(e){this._categoryRepository.addCategory(e).then(()=>{this.form.reset({}),this._notificationsService.success("Category added")})}editCategory(e){this._categoryRepository.editCategory(this.uuid(),e).then(()=>{this._notificationsService.success("Category edited")})}static \u0275fac=function(t){return new(t||o)(a(x),a(l),a(N),a(K))};static \u0275cmp=p({type:o,selectors:[["lg-add-category-form"]],inputs:{uuid:[1,"uuid"]},features:[A([{provide:l,useClass:l}])],decls:6,vars:3,consts:[[3,"formGroup"],["label","Name"],["formControlName","name",3,"placeholder"],[3,"click"]],template:function(t,i){t&1&&(m(0,"form",0)(1,"lg-gap-column")(2,"lg-control",1),u(3,"lg-input",2),r(),h(4,$,2,0,"lg-button")(5,ee,2,0,"lg-button"),r()()),t&2&&(d("formGroup",i.form),n(3),d("placeholder","Your category name"),n(),R(i.uuid()?4:5))},dependencies:[H,B,O,k,Y,z,L,Q,J,T],encapsulation:2})};var U=class o{constructor(e){this._aRoute=e}uuid=F("");ngOnInit(){this._aRoute.params.subscribe(e=>{this.uuid.set(e.uuid)})}static \u0275fac=function(t){return new(t||o)(a(w))};static \u0275cmp=p({type:o,selectors:[["lg-add-category"]],decls:7,vars:3,consts:[[3,"center"],[3,"uuid"]],template:function(t,i){t&1&&(m(0,"lg-fade-in")(1,"lg-container")(2,"lg-gap-row",0)(3,"lg-title"),s(4),r()(),m(5,"lg-card"),u(6,"lg-add-category-form",1),r()()()),t&2&&(n(2),d("center",!0),n(2),S("",i.uuid()?"Edit":"Add"," product category"),n(2),d("uuid",i.uuid()))},dependencies:[V,E,P,g,G,D],encapsulation:2})};export{U as AddCategoryComponent};
