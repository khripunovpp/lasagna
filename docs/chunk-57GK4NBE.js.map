{
  "version": 3,
  "sources": ["src/app/shared/view/ui/card/table-card.component.ts", "src/app/features/recipes/view/calculate/calculate-recipe.component.ts", "src/app/features/recipes/view/calculate/calculate-recipe.component.html", "src/app/features/recipes/view/calculate/calculation-price-modifiers/calculation-price-modifiers.component.ts"],
  "sourcesContent": ["import {Component, OnInit, ViewEncapsulation} from '@angular/core';\nimport {CardComponent} from './card.component';\n\n@Component({\n  selector: 'lg-table-card',\n  standalone: true,\n  imports: [\n    CardComponent,\n  ],\n  template: `\n      <lg-card [flat]=\"true\">\n          <div class=\"table\">\n              <div class=\"table__scroll\">\n                  <ng-content></ng-content>\n              </div>\n          </div>\n      </lg-card>\n  `,\n  styles: [\n    `\n      :host {\n        display: flex;\n        width: 100%;\n      }\n\n      .table__scroll {\n        overflow-x: auto;\n      }\n\n      table {\n        width: 100%;\n        border-collapse: collapse;\n        --border-color: #efefef;\n      }\n\n      table thead tr {\n        border-bottom: 1px solid var(--border-color);\n      }\n\n      table thead th {\n        text-align: left;\n        padding: 16px 24px;\n        opacity: 0.4;\n        font-size: 0.8em;\n      }\n\n      table tbody tr {\n        border-bottom: 1px solid var(--border-color);\n      }\n\n      table tbody tr:last-child {\n        border-bottom: none;\n      }\n\n      td {\n        padding: 16px 24px;\n      }\n    `\n  ],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class TableCardComponent  {\n  constructor() {\n  }\n\n}\n", "import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  computed,\n  inject,\n  model,\n  OnInit,\n  signal,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {ActivatedRoute, RouterLink} from '@angular/router';\nimport {ContainerComponent} from '../../../../shared/view/layout/container.component';\nimport {TitleComponent} from '../../../../shared/view/layout/title.component';\nimport {CalculateRecipeService, Calculation} from '../../service/providers/calulate-recipe.service';\nimport {TableCardComponent} from '../../../../shared/view/ui/card/table-card.component';\nimport {CurrencyPipe, DecimalPipe, NgClass} from '@angular/common';\nimport {ButtonComponent} from '../../../../shared/view/ui/button/button.component';\nimport {FlexRowComponent} from '../../../../shared/view/layout/flex-row.component';\nimport {FormControl, FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {ChartData, ChartEvent, ChartOptions, ChartType} from 'chart.js';\nimport {FlexColumnComponent} from '../../../../shared/view/layout/flex-column.component';\nimport {takeUntilDestroyed, toSignal} from '@angular/core/rxjs-interop';\nimport {injectParams} from '../../../../shared/helpers/route.helpers';\nimport {SelectResourcesService} from '../../../../shared/service/services/select-resources.service';\nimport {FadeInComponent} from '../../../../shared/view/ui/fade-in.component';\nimport {BaseChartDirective} from 'ng2-charts';\nimport {CardComponent} from '../../../../shared/view/ui/card/card.component';\nimport {WidthDirective} from '../../../../shared/view/directives/width.directive';\nimport {ExpandDirective} from '../../../../shared/view/directives/expand.directive';\nimport {randomRGB} from '../../../../shared/helpers/color.helper';\nimport {Ingredient} from '../../service/models/Ingredient';\nimport {UserCurrencyPipe} from '../../../../shared/view/pipes/userCurrency.pipe';\nimport {TranslateDirective, TranslatePipe} from '@ngx-translate/core';\nimport {debounceTime} from 'rxjs';\nimport {NotificationsService} from '../../../../shared/service/services';\nimport {errorHandler} from '../../../../shared/helpers';\nimport {difference} from 'lodash';\nimport {RecipePriceModifier} from '../../service/models/PriceModifier';\nimport {CalculationPriceModifiersComponent} from './calculation-price-modifiers/calculation-price-modifiers.component';\nimport {AnalyticsService} from '../../../../shared/service/services/analytics.service';\n\nimport {matchMediaSignal} from '../../../../shared/view/signals/match-media.signal';\nimport {mobileBreakpoint} from '../../../../shared/view/const/breakpoints';\nimport {UnitStringPipe} from '../../../../shared/view/pipes/unitString.pipe';\nimport {SettingsKeysConst} from '../../../settings/const/settings-keys.const';\nimport {SettingsService} from '../../../settings/service/services/settings.service';\nimport {productLabelFactoryProvider} from '../../../../shared/factories/entity-labels/product.label.factory';\nimport {CurrencySymbolPipe} from '../../../../shared/view/pipes/currency-symbol.pipe';\nimport {SETTINGS} from '../../../settings/service/providers/settings.token';\nimport {NumberInputComponent} from '../../../controls/form/number-input.component';\nimport {ParseMathDirective} from '../../../../shared/view/directives/parse-math.directive';\nimport {ControlExtraTemplateDirective} from '../../../controls/form/control-extra-template.directive';\nimport {\n  InlineSeparatedGroupComponent,\n  InlineSeparatedGroupDirective\n} from '../../../../shared/view/ui/inline-separated-group.component';\n\n@Component({\n  selector: 'lg-calculate-recipe',\n  standalone: true,\n  imports: [\n    ContainerComponent,\n    TitleComponent,\n    TableCardComponent,\n    NgClass,\n    ButtonComponent,\n    FlexRowComponent,\n    DecimalPipe,\n    FormsModule,\n    RouterLink,\n    FlexColumnComponent,\n    FadeInComponent,\n    BaseChartDirective,\n    CardComponent,\n    WidthDirective,\n    ExpandDirective,\n    UserCurrencyPipe,\n    TranslatePipe,\n    ReactiveFormsModule,\n    CalculationPriceModifiersComponent,\n    UnitStringPipe,\n    TranslateDirective,\n    CurrencySymbolPipe,\n    NumberInputComponent,\n    ParseMathDirective,\n    ControlExtraTemplateDirective,\n    InlineSeparatedGroupComponent,\n    InlineSeparatedGroupDirective,\n\n\n  ],\n  templateUrl: './calculate-recipe.component.html',\n  styles: [`\n    lg-number-input .lg-number-input {\n      width: 100px;\n    }\n  `],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    SelectResourcesService,\n    CurrencyPipe,\n  ]\n})\nexport class CalculateRecipeComponent\n  implements OnInit, AfterViewInit {\n  constructor(\n    private _aRoute: ActivatedRoute,\n    private _calculateRecipeService: CalculateRecipeService,\n    private _notificationService: NotificationsService,\n    private _analyticsService: AnalyticsService,\n    private _settingsService: SettingsService,\n  ) {\n    this._aRoute.data.pipe(\n      takeUntilDestroyed(),\n    ).subscribe((data) => {\n      this.result.set(data['result']);\n\n      // Track recipe calculation analytics\n      if (data['result']) {\n        const calculation = data['result'];\n        this._analyticsService.trackRecipeCalculated(\n          calculation.calculation?.recipe?.name,\n          calculation.calculation?.outcomeAmount,\n          {\n            recipe_uuid: this.uuid(),\n            total_price: calculation.calculation?.totalPrice,\n            ingredients_count: calculation.calculation?.ingredients?.length || 0,\n            outcome_unit: calculation.calculation?.outcomeUnit\n          }\n        );\n      }\n\n      const [recipePriceModifiers] = this.result()?.calculation?.recipe?.priceModifiers || [];\n\n      this.recipePriceAdditionsForm.patchValue({\n        action: recipePriceModifiers?.action,\n        unit: recipePriceModifiers?.unit,\n        value: recipePriceModifiers?.value,\n        type: recipePriceModifiers?.type,\n      });\n    });\n  }\n\n  readonly userSettings = inject(SETTINGS)\n  readonly precisions = computed(() => this._settingsService.settingsSignal()?.getSetting(SettingsKeysConst.pricePrecision)?.data ?? 2);\n  readonly pipesDigits = computed(() => `1.0-${this.precisions()}`);\n  readonly totalPipesDigits = '1.0-2';\n  public doughnutChartType: ChartType = 'pie';\n  uuid = injectParams<string>('uuid');\n  result = signal<Calculation | null>(null);\n  doughnutChartData = computed(() => {\n    const result = this.result();\n\n    const {\n      prices,\n      weight,\n      labels,\n      colors,\n    } = result?.calculation?.ingredients?.reduce((acc, item: Ingredient) => {\n      acc.prices.push(item.totalPrice);\n      acc.weight.push(item.totalWeightGram);\n      acc.labels.push(item.generalName);\n      acc.colors.push(item.product_id?.ownColor ?? item.recipe_id?.ownColor ?? randomRGB());\n      return acc;\n    }, {\n      prices: [],\n      weight: [],\n      labels: [],\n      colors: [],\n    } as {\n      prices: number[],\n      weight: number[],\n      labels: string[],\n      colors: string[],\n    }) || {\n      prices: [],\n      weight: [],\n      labels: [],\n      colors: [],\n    };\n\n    return {\n      prices: {\n        labels: labels,\n        datasets: [\n          {\n            label: 'Cost',\n            data: prices,\n            backgroundColor: colors,\n            // hoverBackgroundColor: colors,\n            borderWidth: 0,\n          }\n        ],\n      } as ChartData,\n      weight: {\n        labels: labels,\n        datasets: [\n          {\n            label: 'Amount',\n            data: weight,\n            backgroundColor: colors,\n            // hoverBackgroundColor: colors,\n            borderWidth: 0,\n          }\n        ],\n      } as ChartData,\n      ingredients: result?.calculation?.ingredients || [],\n    }\n  });\n  public doughnutChartOptions: ChartOptions = {\n    plugins: {\n      legend: {\n        display: false,\n      },\n    },\n    onClick: (event, elements, chart) => {\n\n    }\n  };\n  @ViewChild('priceChart', {read: BaseChartDirective}) chartPrices: BaseChartDirective | undefined;\n  @ViewChild('weightChart', {read: BaseChartDirective}) chartWeight: BaseChartDirective | undefined;\n  readonly recalculateTotalsModel = model(0);\n  readonly hasPortions = computed(() => {\n    return !!this.result()?.calculation?.recipe?.portions;\n  });\n  recipePriceAdditionsForm = new FormControl();\n  readonly values = toSignal(this.recipePriceAdditionsForm.valueChanges);\n  readonly isMobile = matchMediaSignal(mobileBreakpoint);\n  readonly totalScaleFactor = computed(() => {\n    if (!this.recalculateTotalsModel()) return 1;\n    return this.recalculateTotalsModel() / (this.result()?.calculation?.outcomeAmount || 1);\n  })\n  readonly totalPrice = computed(() => {\n    return (this.result()?.calculation?.totalPrice || 0) * this.totalScaleFactor();\n  });\n  readonly totalPriceDifference = computed(() => {\n    const diff = (this.result()?.calculation?.totalPriceDifference || 0) * this.totalScaleFactor();\n    const threshold = 0.000001\n    return Math.abs(diff) < threshold ? 0 : diff;\n  });\n\n  readonly totalPriceProfit = computed(() => {\n    return this.result()?.calculation?.totalPriceProfit || 0;\n  });\n\n  readonly totalPriceWithAdditions = computed(() => {\n    return (this.result()?.calculation?.totalPriceWithAdditions || 0) * this.totalScaleFactor();\n  });\n  protected readonly difference = difference;\n  protected readonly productLabelFactory = inject(productLabelFactoryProvider);\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n    (window as any)['chartPrices'] = this.chartPrices;\n    (window as any)['chartWeight'] = this.chartWeight;\n\n    this.recipePriceAdditionsForm.valueChanges\n      .pipe(\n        debounceTime(300),\n      )\n      .subscribe((value) => {\n        this.updatePriceAdditions(value);\n      });\n  }\n\n  onChartHover(sourceChart: 'price' | 'weight', event: ChartEvent, activeElements: any[]) {\n    if (!activeElements?.length) return;\n\n    const targetChart = sourceChart === 'price' ? this.chartWeight : this.chartPrices;\n    const index = activeElements[0].index;\n    targetChart?.chart?.update();\n  }\n\n  async updatePriceAdditions(\n    formValue: any,\n  ) {\n    try {\n      await this._calculateRecipeService.updateRecipe({\n        priceModifiers: [\n          new RecipePriceModifier(\n            formValue.action,\n            formValue.unit,\n            parseFloat(formValue.value) || 0,\n            formValue.type || 'per_unit',\n          ),\n        ]\n      } as any);\n\n      const result = await this._calculateRecipeService.calculateRecipe(this.uuid());\n      this.result.set(result);\n    } catch (error) {\n      this._notificationService.error(errorHandler(error));\n    }\n  }\n\n  async onPdfGenerate() {\n    if (!this.result()) return;\n    try {\n      await this._calculateRecipeService.generatePdf(this.result()!);\n    } catch (error) {\n      this._notificationService.error(errorHandler(error));\n    }\n  }\n}\n", "<lg-fade-in>\n  <lg-container>\n    <lg-flex-column>\n      @let calculation = result()?.calculation;\n      @let hasIngredients = (result()?.calculation?.ingredients?.length || 0) > 0;\n\n      <lg-flex-column [size]=\"'medium'\">\n        <lg-flex-row [center]=\"true\" [mobileMode]=\"true\">\n          <lg-title>\n            {{ result()?.calculation?.recipeName }} {{ 'recipe.calculation.title.after-text'  | translate }}\n          </lg-title>\n        </lg-flex-row>\n\n        @if (hasIngredients) {\n          <lg-inline-separated-group>\n            <ng-template lgInlineSeparatedGroup>\n              <lg-button [flat]=\"true\"\n                         [link]=\"'/recipes/edit/' + result()?.calculation?.recipeUuid\"\n                         [style]=\"'default'\">\n                {{ 'edit-label' | translate }}\n              </lg-button>\n            </ng-template>\n\n            <ng-template lgInlineSeparatedGroup>\n              <lg-button [flat]=\"true\"\n                         (onClick)=\"onPdfGenerate()\"\n                         [style]=\"'default'\">\n                {{ 'pdf-generate-label' | translate }}\n              </lg-button>\n            </ng-template>\n          </lg-inline-separated-group>\n        }\n      </lg-flex-column>\n\n      @if (result()?.calculation?.totalPrice) {\n        <lg-flex-row [mobileMode]=\"true\"\n                     style=\"max-width: 1200px\"\n                     lgExpand>\n          <lg-flex-column [position]=\"'stretch'\">\n            @if (calculation?.hasWeight) {\n              <lg-card size=\"small\">\n                <lg-flex-row [size]=\"'small'\"\n                             [mobileMode]=\"true\"\n                             [relaxed]=\"true\">\n                  <div>{{ 'recipe.calculation.outcome.label' | translate }}</div>\n\n                  <lg-flex-row size=\"tiny\">\n                    <div class=\"text-bold\">\n                      {{ result()?.calculation?.outcomeAmount | number: pipesDigits() }}\n                      {{ result()?.calculation?.outcomeUnit | unitString | translate }}\n                    </div>\n\n                    @if (hasPortions()) {\n                      <span>/</span>\n\n                      <div>\n                        {{ result()?.calculation?.weightForUnit |  number: pipesDigits() }} {{ 'recipe.calculation.gram' | translate }}\n                      </div>\n                    }\n                  </lg-flex-row>\n                </lg-flex-row>\n              </lg-card>\n\n              <lg-card size=\"small\">\n                <lg-flex-row [size]=\"'small'\"\n                             [mobileMode]=\"true\"\n                             [relaxed]=\"true\">\n                  <div>\n                    {{ 'recipe.calculation.one-unit.label' | translate }}\n                    <b>{{ result()?.calculation?.outcomeUnit | unitString | translate }}</b>\n                  </div>\n\n                  <lg-flex-row size=\"tiny\">\n                    @let diff = result()?.calculation?.pricePerUnitFromTotalDifference ?? 0;\n                    <lg-flex-row [size]=\"'tiny'\">\n                      <div [class.text-bold]=\"!result()?.calculation?.hasPriceDifference\">\n                        @if (hasPortions()) {\n                          {{ result()?.calculation?.pricePerOutcomeUnit | userCurrency: pipesDigits() }}\n                        } @else {\n                          {{ result()?.calculation?.pricePerUnit | userCurrency:pipesDigits() }}\n                        }\n                      </div>\n\n                      @if (result()?.calculation?.hasPriceDifference) {\n                        <span>></span>\n                        <div\n                          class=\"text-underlined text-bold\">{{ result()?.calculation?.pricePerUnitFromTotal |  userCurrency : pipesDigits() }}\n                        </div>\n                      }\n                    </lg-flex-row>\n\n                    @if (result()?.calculation?.hasPriceDifference) {\n                      <lg-flex-row [size]=\"'tiny'\"\n                                   class=\"text-bold\"\n                                   [ngClass]=\"diff > 0 ? 'text-success' : 'text-danger'\">\n                        <span>(</span>\n                        <div>\n                          {{ diff > 0 ? '+' : '' }}{{ diff |  userCurrency: pipesDigits() }}\n                        </div>\n                        <span>)</span>\n                      </lg-flex-row>\n                    }\n                  </lg-flex-row>\n                </lg-flex-row>\n              </lg-card>\n            }\n\n            <lg-flex-column [position]=\"'stretch'\" size=\"small\">\n              <lg-card size=\"small\">\n                <lg-flex-row [size]=\"'small'\"\n                             [mobileMode]=\"true\"\n                             [relaxed]=\"true\">\n                  <div>{{ 'recipe.calculation.total-price.label' | translate }}</div>\n\n                  <lg-flex-row [size]=\"'tiny'\">\n                    @let diff = totalPriceDifference();\n                    <lg-flex-row [class.text-bold]=\"!totalPriceDifference()\"\n                                 size=\"tiny\">\n                      <div> {{ totalPrice() | userCurrency: totalPipesDigits }}</div>\n\n                      @if (totalPriceDifference()) {\n                        <span>></span>\n                        <div class=\"text-bold text-underlined\">\n                          {{ totalPriceWithAdditions() |  userCurrency: pipesDigits() }}\n                        </div>\n                      }\n                    </lg-flex-row>\n\n                    @if (totalPriceDifference()) {\n                      <lg-flex-row [ngClass]=\"diff > 0 ? 'text-success' : 'text-danger'\"\n                                   class=\"text-bold\"\n                                   size=\"tiny\">\n                        <span>(</span>\n                        <div [ngClass]=\"diff > 0 ? 'text-success' : 'text-danger'\">\n                          {{ diff > 0 ? '+' : '' }}{{ diff |  userCurrency: pipesDigits() }}\n                        </div>\n                        <span>/</span>\n                        <div class=\"text-no-wrap\">{{ totalPriceProfit() |number:totalPipesDigits }}%</div>\n                        <span>)</span>\n                      </lg-flex-row>\n                    }\n                  </lg-flex-row>\n                </lg-flex-row>\n              </lg-card>\n\n              <lg-flex-column [position]=\"'stretch'\"\n                              size=\"small\"\n                              [style.padding]=\"isMobile() ? '0' : '0 16px'\"\n                              style=\"--control-bg: var(--hr-bg-strong);\">\n                <lg-number-input lgParseMath\n                                 [placeholder]=\"'recipe.calculation.recalculate.placeholder' | translate\"\n                                 [(ngModel)]=\"recalculateTotalsModel\">\n                  <ng-template lgExtraTpl place=\"before\">\n                    {{ 'recipe.calculation.recalculate.label'  | translate }}\n                  </ng-template>\n\n                  <ng-template lgExtraTpl place=\"after\">\n                    <b>\n                      {{ result()?.calculation?.outcomeUnit | unitString | translate }}\n                    </b>\n                  </ng-template>\n                </lg-number-input>\n\n                <lg-calculation-price-modifiers\n                  [formControl]=\"recipePriceAdditionsForm\"\n                  [recipeCost]=\"result()?.calculation\"></lg-calculation-price-modifiers>\n              </lg-flex-column>\n            </lg-flex-column>\n          </lg-flex-column>\n\n          <lg-card lgWidth=\"270px\" size=\"small\">\n            <lg-flex-column [fill]=\"true\"\n                            [size]=\"'small'\">\n              <lg-title [level]=\"5\">\n                <div>{{ 'recipe.calculation.price-chart' | translate }}</div>\n              </lg-title>\n\n              <canvas [data]=\"doughnutChartData().prices\"\n                      [options]=\"doughnutChartOptions\"\n                      [type]=\"doughnutChartType\"\n                      (chartHover)=\"onChartHover('price', $event.event, $event.active)\"\n                      #priceChart\n                      baseChart>\n              </canvas>\n            </lg-flex-column>\n          </lg-card>\n\n          @if (calculation?.hasWeight) {\n            <lg-card lgWidth=\"270px\" size=\"small\">\n              <lg-flex-column [fill]=\"true\"\n                              [size]=\"'small'\">\n                <lg-title [level]=\"5\">\n                  <div>{{ 'recipe.calculation.weight-chart' | translate }}</div>\n                </lg-title>\n\n                <canvas [data]=\"doughnutChartData().weight\"\n                        [options]=\"doughnutChartOptions\"\n                        (chartHover)=\"onChartHover('weight', $event.event, $event.active)\"\n                        [type]=\"doughnutChartType\"\n                        #weightChart\n                        baseChart>\n                </canvas>\n              </lg-flex-column>\n            </lg-card>\n          }\n        </lg-flex-row>\n      }\n\n\n      <lg-title [level]=\"3\">\n        {{ 'recipe.calculation.table.title'  | translate }}\n      </lg-title>\n\n      @if (hasIngredients) {\n        <lg-table-card>\n          <table>\n            <colgroup>\n              <col span=\"1\" style=\"width: 1%;\">\n              <col span=\"1\" style=\"width: 20%;\">\n              <col span=\"1\" style=\"width: 10%;\">\n              <col span=\"1\" style=\"width: 7%;\">\n              <col span=\"1\" style=\"width: 10%;\">\n            </colgroup>\n            <thead>\n\n            <tr>\n              <th>#</th>\n              <th>{{ 'recipe.calculation.table.name.title' | translate }}</th>\n              <th>{{ 'recipe.calculation.table.amount.title' | translate }}</th>\n              <th>{{ 'recipe.calculation.table.price.title' | translate }}</th>\n              <th>{{ 'recipe.calculation.table.total.title' | translate }}</th>\n            </tr>\n            </thead>\n\n            <tbody>\n              @for (row of result()?.table; track $index; let i = $index) {\n                <tr [ngClass]=\"row.type\">\n                  <td>{{ i + 1 }}</td>\n\n                  <td width=\"200\">\n                    <div class=\"text-no-wrap\"\n                         [ngClass]=\"'indent-' + row.indent\">\n                      <!--                      <pre>{{row.ingredient|json}}</pre>-->\n                      @if (row.type === 'recipe-row') {\n                        <a [routerLink]=\"['/recipes/edit/' ,row.uuid]\">\n                          {{ row.name }}\n                        </a>\n                      } @else if (row.type == 'total') {\n                        {{ row.name | translate }}\n                      } @else {\n                        <a [routerLink]=\"['/products/edit/', row.uuid]\">\n                          {{ productLabelFactory(row.ingredient?.product_id) }}\n                        </a>\n\n                      }\n                    </div>\n                  </td>\n\n                  <td>\n                    @if (row.type !== 'total') {\n                      {{ row.amount | number: pipesDigits() }}\n                    } @else {\n                      {{ row.amount | number: totalPipesDigits }}\n                    }\n                    {{ row.unit | unitString | translate }}\n                  </td>\n\n                  <td class=\"text-no-wrap\"\n                      [class.text-muted]=\"row.ingredient?.hasMicroPerUnitPrice\">\n                    @if (row.ingredient?.hasMicroPerUnitPrice) {\n                      {{ 'micro-amount'|translate }}\n                      {{ userSettings()['currency']|currencySymbol }}\n                    } @else {\n                      {{ row.price_per_unit | userCurrency: pipesDigits() }}\n                    }\n                    <span [translateParams]=\"{unit:row.unit | unitString | translate}\"\n                          [translate]=\"'per-unit.label'\"></span>\n                  </td>\n\n                  <td class=\"text-bold text-no-wrap\">\n                    @if (row.type !== 'total') {\n                      @if (row.ingredient?.hasMicroTotalPrice) {\n                        {{ 'micro-amount'|translate }}\n                        {{ userSettings()['currency']|currencySymbol }}\n                      } @else {\n                        {{ row.total | userCurrency: pipesDigits() }}\n                      }\n                    } @else {\n                      {{ row.total | userCurrency: totalPipesDigits }}\n                    }\n                  </td>\n                </tr>\n              }\n            </tbody>\n          </table>\n        </lg-table-card>\n      } @else {\n        <lg-flex-column position=\"start\"\n                        size=\"medium\">\n          {{ 'recipe.calculation.empty-state.text' | translate }}\n\n          <lg-button [size]=\"'medium'\"\n                     [routerLink]=\"'/recipes/edit/' + result()?.calculation?.recipeUuid\">\n            {{ 'recipe.calculation.empty-state.btn' | translate }}\n          </lg-button>\n        </lg-flex-column>\n      }\n    </lg-flex-column>\n  </lg-container>\n</lg-fade-in>\n", "import {Component, computed, effect, forwardRef, inject, input, output} from '@angular/core';\nimport {RecipePriceModifier} from '../../../service/models/PriceModifier';\nimport {NumberInputComponent} from '../../../../controls/form/number-input.component';\nimport {ParseMathDirective} from '../../../../../shared/view/directives/parse-math.directive';\nimport {ControlValueAccessor, FormControl, FormGroup, NG_VALUE_ACCESSOR, ReactiveFormsModule} from '@angular/forms';\nimport {UnitGroupItem, UnitSwitcherComponent} from '../../../../../shared/view/ui/unit-switcher.component';\nimport {ControlExtraTemplateDirective} from '../../../../controls/form/control-extra-template.directive';\nimport {SETTINGS} from '../../../../settings/service/providers/settings.token';\nimport {toSignal} from '@angular/core/rxjs-interop';\nimport {CurrencySymbolPipe} from '../../../../../shared/view/pipes/currency-symbol.pipe';\nimport {RecipeCost} from '../../../service/models/RecipeCost';\nimport {FlexRowComponent} from '../../../../../shared/view/layout/flex-row.component';\nimport {matchMediaSignal} from '../../../../../shared/view/signals/match-media.signal';\nimport {mobileBreakpoint} from '../../../../../shared/view/const/breakpoints';\nimport {currencyStringToSymbol} from '../../../../../shared/helpers/assets/currency.helper';\nimport {marker} from '@colsen1991/ngx-translate-extract-marker';\nimport {TranslatePipe} from '@ngx-translate/core';\n\n@Component({\n  selector: 'lg-calculation-price-modifiers',\n  imports: [\n    NumberInputComponent,\n    ParseMathDirective,\n    ReactiveFormsModule,\n    UnitSwitcherComponent,\n    ControlExtraTemplateDirective,\n    CurrencySymbolPipe,\n    FlexRowComponent,\n    TranslatePipe\n  ],\n  template: `\n    <lg-flex-row [formGroup]=\"recipePriceAdditionsForm\">\n      <lg-number-input [moveBeforeAbove]=\"isMobile()\"\n                       [placeholder]=\"'price-modifier.placeholder' | translate\"\n                       formControlName=\"value\"\n                       lgParseMath>\n        <ng-template lgExtraTpl place=\"top\">\n          <div>\n            {{ 'recipe.calculation.price-modifiers.title' | translate }}\n          </div>\n        </ng-template>\n\n        <ng-template lgExtraTpl place=\"before\">\n          <lg-unit-switcher [items]=\"additionalPriceType\"\n                            formControlName=\"type\">\n          </lg-unit-switcher>\n          <lg-unit-switcher [items]=\"additionalPriceAction\"\n                            formControlName=\"action\">\n          </lg-unit-switcher>\n        </ng-template>\n\n\n        @if (roundActionSelected()) {\n          <ng-template lgExtraTpl place=\"after\">\n            {{ userSettings()['currency']|currencySymbol }}\n          </ng-template>\n        } @else {\n          <ng-template lgExtraTpl place=\"after\">\n            <lg-unit-switcher formControlName=\"unit\"\n                              [items]=\"additionalPriceUnit\">\n            </lg-unit-switcher>\n          </ng-template>\n        }\n      </lg-number-input>\n    </lg-flex-row>\n  `,\n  styles: [`\n    :host {\n      width: 100%;\n    }\n  `],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => CalculationPriceModifiersComponent),\n      multi: true,\n    },\n  ]\n})\nexport class CalculationPriceModifiersComponent\n  implements ControlValueAccessor {\n  constructor() {\n  }\n  recipePriceAdditionsForm = new FormGroup({\n    action: new FormControl<'add' | 'round'>('add'),\n    value: new FormControl<number | string>(0),\n    unit: new FormControl<'currency' | 'percent'>('currency'),\n    type: new FormControl<'per_unit' | 'total'>('per_unit'),\n  });\n  recipeCost = input<RecipeCost | null>();\n  values = toSignal(this.recipePriceAdditionsForm.valueChanges);\n  userSettings = inject(SETTINGS);\n  additionalPriceUnit: UnitGroupItem[] = [\n    {\n      label: currencyStringToSymbol(this.userSettings()['currency'] || 'USD'),\n      value: 'currency',\n      style: 'secondary',\n    },\n    {\n      label: '%',\n      value: 'percent',\n      style: 'secondary',\n    },\n  ];\n  additionalPriceAction: UnitGroupItem[] = [\n    {\n      label: marker('price-modifier.add'),\n      value: 'add',\n      style: 'secondary',\n    },\n    {\n      label: marker('price-modifier.round'),\n      value: 'round',\n      style: 'secondary',\n    },\n  ];\n  additionalPriceType: UnitGroupItem[] = [\n    {\n      label: marker('price-modifier.per-unit'),\n      value: 'per_unit',\n      style: 'secondary',\n    },\n    {\n      label: marker('price-modifier.total'),\n      value: 'total',\n      style: 'secondary',\n    },\n  ];\n  onChanged = output<RecipePriceModifier[]>();\n  isMobile = matchMediaSignal(mobileBreakpoint);\n\n  roundActionSelected = computed(() => {\n    return this.values()?.action === 'round';\n  });\n\n  onChangeFn: (...args: any[]) => void = () => {\n  };\n\n  changesEffect = effect(() => {\n    this.onChangeFn(this.values());\n  })\n\n  registerOnChange(fn: any): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  writeValue(obj: any): void {\n    this.recipePriceAdditionsForm.patchValue({\n      action: obj?.action || 'add',\n      value: obj?.value || 0,\n      unit: obj?.unit || 'currency',\n      type: obj?.type || 'per_unit',\n    });\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
