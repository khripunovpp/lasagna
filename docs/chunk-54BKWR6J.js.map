{
  "version": 3,
  "sources": ["src/app/features/settings/view/categories/category-product/list/category-list.component.ts"],
  "sourcesContent": ["import {Component, OnInit, signal} from '@angular/core';\nimport {ButtonComponent} from '../../../../../../shared/view/ui/button.component';\nimport {FlexRowComponent} from '../../../../../../shared/view/layout/flex-row.component';\nimport {MatIcon} from '@angular/material/icon';\nimport {ContainerComponent} from '../../../../../../shared/view/layout/container.component';\nimport {TitleComponent} from '../../../../../../shared/view/layout/title.component';\nimport {CardListComponent} from '../../../../../../shared/view/ui/card/card-list.component';\nimport {CardListItemDirective} from '../../../../../../shared/view/ui/card/card-list-item.directive';\nimport {FadeInComponent} from '../../../../../../shared/view/ui/fade-in.component';\nimport {CategoryProductsRepository} from '../../../../../../shared/service/repositories';\nimport {NotificationsService} from '../../../../../../shared/service/services';\nimport {CategoryProduct} from '../../../../service/models/CategoryProduct';\nimport {TranslatePipe} from '@ngx-translate/core';\nimport {RouterLink} from '@angular/router';\nimport {ExpandDirective} from '../../../../../../shared/view/directives/expand.directive';\n\n@Component({\n  selector: 'lg-category-list',\n  standalone: true,\n  template: `\n    <lg-fade-in>\n      <lg-container>\n        <lg-flex-row [center]=\"true\">\n          <lg-title>\n            {{ 'categories.products.title' | translate }}\n          </lg-title>\n\n          <lg-button [link]=\"'/settings/categories/products/add'\"\n                     [size]=\"'tiny'\"\n                     [outlined]=\"true\"\n                     [style]=\"'default'\">\n            {{ 'add-label' | translate }}\n          </lg-button>\n        </lg-flex-row>\n\n        <lg-card-list>\n          @for (category of categories(); track $index; let i = $index) {\n            <ng-template lgCardListItem>\n              <lg-flex-row [center]=\"true\">\n                <a [routerLink]=\"'/settings/categories/products/edit/' + category.uuid\"\n                   lgExpand>\n                  {{ category.name }}\n                </a>\n\n                <lg-button [style]=\"'danger'\"\n                           [size]=\"'tiny'\"\n                           [icon]=\"true\"\n                           (click)=\"deleteCategory(category)\">\n                  <mat-icon aria-hidden=\"false\" aria-label=\"Delete\"\n                            fontIcon=\"close\"></mat-icon>\n                </lg-button>\n              </lg-flex-row>\n            </ng-template>\n          }\n        </lg-card-list>\n      </lg-container>\n    </lg-fade-in>\n  `,\n  imports: [\n    FlexRowComponent,\n    ButtonComponent,\n    MatIcon,\n    ContainerComponent,\n    TitleComponent,\n    CardListComponent,\n    CardListItemDirective,\n    FadeInComponent,\n    TranslatePipe,\n    RouterLink,\n    ExpandDirective\n  ],\n  styles: [\n    `:host {\n      display: block;\n    }\n    `\n  ]\n})\nexport class CategoryListComponent\n  implements OnInit {\n  constructor(\n    public categoryRepository: CategoryProductsRepository,\n    private _notificationsService: NotificationsService,\n  ) {\n\n  }\n\n  categories = signal<CategoryProduct[]>([])\n\n  deleteCategory(\n    category: CategoryProduct,\n  ) {\n    if (!category.uuid) {\n      return Promise.resolve()\n    }\n    return this.categoryRepository.deleteOne(category.uuid).then(() => {\n      this.loadCategory();\n      this._notificationsService.success('categories.deleted');\n    });\n  }\n\n  async ngOnInit() {\n    await this.loadCategory();\n  }\n\n  loadCategory() {\n    this.categoryRepository.getAll().then((categories) => {\n      const sorted = categories.toSorted((a: CategoryProduct, b: CategoryProduct) => a.name.localeCompare(b.name));\n      this.categories.set(sorted);\n    });\n  }\n\n}\n"],
  "mappings": "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",
  "names": []
}
