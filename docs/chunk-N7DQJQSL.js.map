{
  "version": 3,
  "sources": ["src/app/shared/view/ui/focus-trap.directive.ts", "src/app/shared/service/providers/body-locker.provider.ts", "src/app/shared/view/ui/dialog/dialog.component.ts"],
  "sourcesContent": ["// focus-trap.directive.ts\nimport {AfterViewInit, Directive, ElementRef, HostListener, OnDestroy} from '@angular/core';\n\n@Directive({\n  selector: '[lgFocusTrap]',\n  standalone: true,\n})\nexport class FocusTrapDirective implements AfterViewInit {\n  constructor(\n    private el: ElementRef\n    ) {}\n\n  ngAfterViewInit() {\n    this.trapFocus(this.el.nativeElement);\n  }\n\n  trapFocus(element: HTMLElement) {\n    element.addEventListener('keydown', function(e) {\n      const getActiveElement = () => {\n        if (document.activeElement?.shadowRoot) { return document.activeElement.shadowRoot.activeElement; }\n        else { return document.activeElement; }\n      };\n\n      const isTabPressed = e.keyCode === 9; // isTabPressed\n      if (!isTabPressed) return;\n\n      const focusableEls1 = element.querySelectorAll(\n        'a[href], button, textarea, input[type=\"text\"],' +\n        'input[type=\"radio\"], input[type=\"checkbox\"], select'\n      );\n      const focusableEls = Array.from(focusableEls1).filter( (el: any) => !el.disabled);\n      const firstFocusableEl: any = focusableEls[0];\n      const lastFocusableEl: any = focusableEls[focusableEls.length - 1];\n\n      if ( e.shiftKey ) /* shift + tab */ {\n        if (getActiveElement() === firstFocusableEl) {\n          lastFocusableEl.focus();\n          e.preventDefault();\n        }\n      } else /* tab */ {\n        if (getActiveElement() === lastFocusableEl) {\n          firstFocusableEl.focus();\n          e.preventDefault();\n        }\n      }\n    });\n  }\n}\n", "import {InjectionToken} from '@angular/core';\n\nexport const BODY_LOCKER = new InjectionToken('BODY_LOCKER', {\n  factory: () => {\n    return {\n      lock: () => {\n        document.body.style.overflow = 'hidden';\n      },\n      unlock: () => {\n        document.body.style.overflow = '';\n      }\n    };\n  }\n})\n", "import {Component, effect, inject, input, output, signal} from '@angular/core';\nimport {CardComponent} from '../card/card.component';\nimport {ButtonComponent} from '../layout/button.component';\nimport {FocusTrapDirective} from '../focus-trap.directive';\nimport {BODY_LOCKER} from '../../../service/providers/body-locker.provider';\n\n@Component({\n  selector: 'lg-dialog',\n  standalone: true,\n  template: `\n    <div [style.display]=\"displayed() ? 'flex' : 'none'\"\n         class=\"dialog\" (click)=\"close()\">\n      <div class=\"dialog__container\">\n        <div class=\"dialog__wrap\">\n          <div class=\"dialog__box\" lgFocusTrap>\n            @if (closeButton()) {\n              <button class=\"dialog__close-button\"\n                      aria-label=\"Close dialog\">\n                Close\n              </button>\n            }\n            <lg-card (click)=\"$event.stopPropagation()\">\n              <div class=\"dialog__inner-container\">\n\n                <div class=\"dialog__inner\">\n                  <ng-content></ng-content>\n                </div>\n\n                @if (displayFooter()) {\n                  <div class=\"dialog__footer\">\n                    <lg-button (click)=\"onCancelClick()\"\n                               [style]=\"'secondary'\"\n                               class=\"dialog__cancel-button\">\n                      {{ cancelButtonText() }}\n                    </lg-button>\n\n                    <lg-button (click)=\"onConfirmClick()\"\n                               class=\"dialog__confirm-button\">\n                      {{ confirmButtonText() }}\n                    </lg-button>\n                  </div>\n                }\n              </div>\n            </lg-card>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  imports: [\n    CardComponent,\n    ButtonComponent,\n    FocusTrapDirective\n  ],\n  styles: [`\n    .dialog {\n      display: flex;\n      position: fixed;\n      z-index: 9;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.5);\n      justify-content: center;\n      align-items: center;\n      overflow-y: auto;\n    }\n\n    .dialog__container {\n      width: clamp(300px, 100%, 800px);\n      height: 100%;\n    }\n\n    .dialog__box {\n      width: 100%;\n    }\n\n    .dialog__wrap {\n      padding: 96px 32px 32px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .dialog__box {\n    }\n\n    .dialog__inner-container {\n      display: flex;\n      flex-direction: column;\n      gap: 16px;\n    }\n\n    .dialog__footer {\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      border-top: 1px solid #f5f5f5;\n      padding-top: 16px;\n    }\n\n    .dialog__close-button {\n      appearance: none;\n      border: none;\n      background: #f5f5f5;\n      font-family: inherit;\n      font-size: 16px;\n      line-height: 1;\n      padding: 4px 8px;\n      border-radius: 8px;\n      margin-bottom: 16px;\n      transition: transform 0.2s ease-in-out;\n      cursor: pointer;\n\n      &:hover {\n        transform: scale(0.9);\n      }\n    }\n  `]\n\n})\nexport class DialogComponent {\n  constructor() {\n  }\n\n  displayed = signal(false);\n  closeButton = input(true);\n  cancelButtonText = input('Cancel');\n  confirmButtonText = input('Confirm');\n  closeOnConfirm = input(true);\n  displayFooter = input(true);\n  onCancel = output<void>();\n  onConfirm = output<void>();\n  readonly #_bodyLocker = inject(BODY_LOCKER);\n  displayedEffect = effect(() => {\n    if (this.displayed()) {\n      this.#_bodyLocker.lock();\n    } else {\n      this.#_bodyLocker.unlock();\n    }\n  });\n\n  onEscKeyDown(event: unknown) {\n    console.log(event)\n    this.close();\n  }\n\n  onCancelClick() {\n    this.onCancel.emit();\n    this.close();\n  }\n\n  onConfirmClick() {\n    this.onConfirm.emit();\n    if (!this.closeOnConfirm()) return;\n    this.close();\n  }\n\n  open() {\n    this.displayed.set(true);\n  }\n\n  close() {\n    this.displayed.set(false);\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
