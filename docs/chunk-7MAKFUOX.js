import{a as Ye}from"./chunk-WTE6FR52.js";import{a as Fe,b as Ie}from"./chunk-EHEBAOOV.js";import{a as qe,b as Xe}from"./chunk-YMLJI3TO.js";import"./chunk-SODVWLEX.js";import"./chunk-R6LAS6PV.js";import{a as De,b as $e,c as He}from"./chunk-LT55FNNA.js";import{a as ke}from"./chunk-7FCO3ACG.js";import{a as U}from"./chunk-NVVJOV7R.js";import{e as Ke}from"./chunk-UWATX5ZT.js";import{a as Je}from"./chunk-7EX64CKD.js";import{a as q,b as J}from"./chunk-XEEO3NY2.js";import{a as Ue,b as Qe}from"./chunk-HWJHNQRN.js";import"./chunk-LR2FKNSU.js";import"./chunk-67MQKHDP.js";import"./chunk-RKFCCI7E.js";import{e as H,f as Ne,g as oe,h as V,i as Oe,k as Be,l as Ge,m as Le,n as ze,o as Pe,p as je,q as We}from"./chunk-MQ26JLPX.js";import"./chunk-KPGIGGUF.js";import{d as $}from"./chunk-OIUOAUKL.js";import{a as Q}from"./chunk-FTNH4PRO.js";import{a as W}from"./chunk-PFLOR5BA.js";import{a as Ee,b as Ve,c as j}from"./chunk-42ANHTC5.js";import{b as ye,d as be,f as Se,p as Re,s as Ae,v as Me}from"./chunk-2WRE22FH.js";import{$b as b,Ab as _e,Ac as ve,Cb as N,Db as O,Dc as ie,Eb as a,Fb as r,Gb as I,Hb as xe,Ib as Ce,Jb as R,Kb as y,Nb as f,Ob as c,Pb as B,Qb as G,Xa as o,Xb as ge,Yb as fe,Zb as w,_b as m,ab as k,ac as g,cc as L,dc as z,ec as P,fb as S,fc as Te,hb as ce,ic as he,ka as u,kb as h,la as d,lc as A,na as me,nc as F,oc as D,ra as T,rb as se,sb as p,tb as ue,ub as de,uc as we,vb as v,vc as ee,yb as _,yc as te,zb as x,zc as ne}from"./chunk-7IKCFNVS.js";var tt=["*"],K=class t{constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["lg-table-card"]],ngContentSelectors:tt,decls:4,vars:1,consts:[[3,"flat"],[1,"table"],[1,"table__scroll"]],template:function(e,i){e&1&&(B(),a(0,"lg-card",0)(1,"div",1)(2,"div",2),G(3),r()()()),e&2&&p("flat",!0)},dependencies:[Ve],styles:[`:host{display:flex;width:100%}.table__scroll{overflow-x:auto}table{width:100%;border-collapse:collapse;--border-color: #efefef}table thead tr{border-bottom:1px solid var(--border-color)}table thead th{text-align:left;padding:16px 24px;opacity:.4;font-size:.8em}table tbody tr{border-bottom:1px solid var(--border-color)}table tbody tr:last-child{border-bottom:none}td{padding:16px 24px}
`],encapsulation:2})};var Y=class t{constructor(){}selfAlign="center";static \u0275fac=function(e){return new(e||t)};static \u0275dir=ce({type:t,selectors:[["","lgSelfCenter",""]],hostVars:2,hostBindings:function(e,i){e&2&&ue("align-self",i.selfAlign)}})};var it=(t,n)=>n.value.name&&n.value.amount;function ot(t,n){if(t&1){let e=y();a(0,"section",6)(1,"div",7)(2,"lg-gap-row",8)(3,"small"),m(4,"Apply for all"),r(),a(5,"lg-control",9),I(6,"lg-input",10),r(),a(7,"lg-control",9),I(8,"lg-textarea",11),r(),a(9,"lg-control",9)(10,"lg-number-input",12),f("onInputChange",function(){u(e);let l=c().$index,s=c();return d(s.onTaxValueChange(l))}),r()(),a(11,"lg-control",9)(12,"lg-checkbox",13),f("onCheckboxChanged",function(){u(e);let l=c().$index,s=c();return d(s.onTaxValueChange(l))}),r()(),a(13,"lg-control",9),I(14,"lg-number-input",14),r(),a(15,"lg-button",15),f("click",function(){u(e);let l=c().$index,s=c();return d(s.deleteTxRow(l))}),I(16,"mat-icon",16),r()()()()}if(t&2){let e=c().$index;p("formGroupName",e),o(),de("taxes__row--odd",e%2!==0),o(),p("bottom",!0)("fit",!0),o(3),p("label","Name"),o(),p("placeholder","Name"),o(),p("label","Description"),o(),p("rows",3)("placeholder","Description"),o(),p("label","Value"),o(),p("placeholder","Value"),o(),p("label","Use percentage"),o(),p("customMark","%"),o(),p("label","Amount"),o(),p("disabled",!0)("placeholder","Amount"),o(),v("danger"),p("size","small")("icon",!0)}}function at(t,n){t&1&&h(0,ot,17,21,"ng-template",2)}var M=class t{constructor(){}totalTaxesChanged=te();taxesChanged=te();rows=ne([]);total=ne(0);taxesForm=new oe({rows:new Pe([this._getRowGroup()])});rowsEffect=ee(()=>{this._rowsFormArray.clear(),this.rows().forEach((n,e)=>{this._rowsFormArray.push(this._getRowGroup(n))}),this.taxesForm.updateValueAndValidity(),this._recalculateTaxes()});totalTaxes=T(0);totalEffect=ee(()=>{this._recalculateTaxes()});formValues=this.taxesForm.valueChanges.pipe(U());get _rowsFormArray(){return this.taxesForm.get("rows")}ngOnInit(){this.formValues.subscribe(n=>{this.totalTaxes.set(this._getTotalTaxes()),this.totalTaxesChanged.emit(this.totalTaxes()),this.taxesChanged.emit(this.taxesForm.value.rows)})}onTaxValueChange(n){let e=this._rowsFormArray.at(n),i=this._getAmount(e.value.value,e.value.percentage);e.get("amount")?.patchValue(i.toFixed(2))}deleteTxRow(n){this._rowsFormArray.removeAt(n)}addTxRow(){this._rowsFormArray.push(this._getRowGroup())}_getTotalTaxes(){return this._rowsFormArray.controls.reduce((n,e)=>{let i=parseFloat(e.get("amount")?.value);return n+(isNaN(i)?0:i)},0)}_getAmount(n,e){let i=parseFloat(n.toString());return e?i*this.total():i}_recalculateTaxes(n=!1){this._rowsFormArray.controls.forEach((e,i)=>{let l=this._getAmount(e.get("value")?.value,e.get("percentage")?.value);e.get("amount")?.patchValue(l.toFixed(2),{emitEvent:!n})})}_getRowGroup(n=null){return new oe({name:new V(n?.name||""),description:new V(n?.description||""),value:new V(n?.value||0),amount:new V(0),percentage:new V(n?.percentage||!1)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["lg-taxes-and-fees-list"]],inputs:{rows:[1,"rows"],total:[1,"total"]},outputs:{totalTaxesChanged:"totalTaxesChanged",taxesChanged:"taxesChanged"},decls:17,vars:13,consts:[[3,"formGroup"],["formArrayName","rows"],["lgCardListItem",""],["lgSelfCenter","","lgShrink","",3,"click"],[3,"level"],[3,"center","mobileMode","relaxed"],[1,"taxes",3,"formGroupName"],[1,"taxes__row"],[3,"bottom","fit"],[3,"label"],["formControlName","name",3,"placeholder"],["formControlName","description",3,"rows","placeholder"],["lgParseMath","","formControlName","value",3,"onInputChange","placeholder"],["formControlName","percentage",3,"onCheckboxChanged","customMark"],["formControlName","amount",3,"disabled","placeholder"],["lgSelfCenter","","lgShrink","",3,"click","size","icon"],["aria-hidden","false","aria-label","Example home icon","fontIcon","close"]],template:function(e,i){e&1&&(a(0,"lg-gap-column")(1,"lg-card-list",0),xe(2,1),N(3,at,1,0,null,2,it),Ce(),r(),a(5,"lg-button",3),f("click",function(){return i.addTxRow()}),m(6," Add row "),r(),a(7,"lg-title",4)(8,"lg-gap-row",5),m(9," Total taxes and fees "),a(10,"b"),m(11),r()()(),a(12,"lg-title",4)(13,"lg-gap-row",5),m(14," Total "),a(15,"b"),m(16),r()()()()),e&2&&(o(),p("formGroup",i.taxesForm),o(2),O(i.taxesForm.controls.rows.controls),o(2),v("success"),o(2),p("level",4),o(),p("center",!0)("mobileMode",!0)("relaxed",!0),o(3),b(i.totalTaxes()),o(),p("level",4),o(),p("center",!0)("mobileMode",!0)("relaxed",!0),o(3),b(i.totalTaxes()+i.total()))},dependencies:[He,De,W,We,H,Ne,Be,ze,Ge,Le,Qe,Ue,$e,q,$,ke,Y,Ye,Q,J,j,qe],styles:[".taxes__row--odd[_ngcontent-%COMP%]{--control-bg: #fff}"]})};var lt=["*"];function rt(t,n){t&1&&G(0)}var Z=class t{constructor(){}showed=T(!1);get hidden(){return this.showed()?null:!0}show=()=>{this.showed.set(!0)};hide=()=>{this.showed.set(!1)};static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["lg-view-show"]],hostVars:1,hostBindings:function(e,i){e&2&&se("hidden",i.hidden)},ngContentSelectors:lt,decls:1,vars:1,template:function(e,i){e&1&&(B(),_(0,rt,1,0)),e&2&&x(i.showed()?0:-1)},encapsulation:2})};var Ze=[{name:"VAT",description:"Value-Added Tax applied to ingredient purchases or product sales",value:.23,percentage:!0},{name:"Delivery Fee",description:"Fee charged for delivery services",value:.1,percentage:!1}];var pt=(t,n)=>[t,n];function mt(t,n){t&1&&R(0)}function ct(t,n){t&1&&R(0)}function st(t,n){t&1&&R(0)}function ut(t,n){if(t&1){let e=y();a(0,"lg-gap-row",11)(1,"lg-gap-row",12)(2,"div"),m(3," Calculation outcome: "),r(),a(4,"div")(5,"lg-number-input",13),P("ngModelChange",function(l){u(e);let s=c(2);return z(s.outcome_amount,l)||(s.outcome_amount=l),d(l)}),f("onInputChange",function(l){u(e);let s=c(2);return d(s.onOutcomeChange(l))}),r()(),a(6,"b"),m(7),r()(),a(8,"lg-gap-row",14)(9,"div"),m(10," one "),a(11,"b"),m(12),r()(),a(13,"div"),m(14," costs: "),h(15,mt,1,0,"ng-container",15),m(16," ( "),h(17,ct,1,0,"ng-container",15),m(18," + "),h(19,st,1,0,"ng-container",15),m(20," of taxes and fees) "),r()()()}if(t&2){let e,i,l=c(2),s=w(12),C=w(14),E=w(16);p("fit",!0)("center",!0)("mobileMode",!0),o(),p("size","small")("center",!0),o(4),L("ngModel",l.outcome_amount),p("placeholder","Amount"),o(2),g(" ",(e=l.result())==null||e.recipe==null?null:e.recipe.outcome_unit," "),o(),p("size","small")("mobileMode",!0),o(4),g(" ",(i=l.result())==null||i.recipe==null?null:i.recipe.outcome_unit," "),o(3),p("ngTemplateOutlet",E),o(2),p("ngTemplateOutlet",C),o(2),p("ngTemplateOutlet",s)}}function dt(t,n){t&1&&R(0)}function _t(t,n){t&1&&R(0)}function xt(t,n){t&1&&R(0)}function Ct(t,n){t&1&&R(0)}function gt(t,n){if(t&1){let e=y();a(0,"lg-gap-row",12)(1,"div"),m(2," Calculation outcome: "),r(),a(3,"div")(4,"lg-number-input",13),P("ngModelChange",function(l){u(e);let s=c(2);return z(s.outcome_amount,l)||(s.outcome_amount=l),d(l)}),f("onInputChange",function(l){u(e);let s=c(2);return d(s.onOutcomeChange(l))}),r()(),a(5,"div"),m(6," costs: "),h(7,dt,1,0,"ng-container",15),m(8," ( "),h(9,_t,1,0,"ng-container",15),m(10," + "),h(11,xt,1,0,"ng-container",15),m(12," of taxes and fees) "),r(),a(13,"div"),m(14," per gram: "),h(15,Ct,1,0,"ng-container",15),r()()}if(t&2){let e=c(2),i=w(12),l=w(14),s=w(16),C=w(18);p("size","small")("center",!0),o(4),L("ngModel",e.outcome_amount),p("placeholder","Amount"),o(3),p("ngTemplateOutlet",s),o(2),p("ngTemplateOutlet",l),o(2),p("ngTemplateOutlet",i),o(4),p("ngTemplateOutlet",C)}}function ft(t,n){if(t&1&&(a(0,"lg-gap-row",7),_(1,ut,21,14,"lg-gap-row",11)(2,gt,16,8,"lg-gap-row",12),r()),t&2){let e=c();p("center",!0),o(),x(e.notInGrams()?1:2)}}function Tt(t,n){if(t&1&&(m(0),A(1,"number")),t&2){let e=c(2);g(" ",F(1,1,e.totalTaxes()/e.showedOutcome(),"1.2-2")," ")}}function ht(t,n){if(t&1&&(m(0),A(1,"number")),t&2){let e=c(2);g(" ",F(1,1,e.totalTaxes(),"1.2-2")," ")}}function wt(t,n){if(t&1&&_(0,Tt,2,4)(1,ht,2,4),t&2){let e=c();x(e.notInGrams()?0:1)}}function vt(t,n){if(t&1&&(m(0),A(1,"number")),t&2){let e,i=c(2);g(" ",F(1,1,(((e=i.result())==null?null:e.total)||1)/(i.showedOutcome()||1),"1.2-2")," ")}}function yt(t,n){if(t&1&&(m(0),A(1,"number")),t&2){let e,i=c(2);g(" ",F(1,1,(e=i.result())==null?null:e.total,"1.2-2")," ")}}function bt(t,n){if(t&1&&_(0,vt,2,4)(1,yt,2,4),t&2){let e=c();x(e.notInGrams()?0:1)}}function St(t,n){if(t&1&&(m(0),A(1,"number")),t&2){let e,i=c(2);g(" ",F(1,1,((((e=i.result())==null?null:e.total)||1)+i.totalTaxes())/(i.showedOutcome()||1),"1.2-2")," ")}}function Rt(t,n){if(t&1&&(m(0),A(1,"number")),t&2){let e,i=c(2);g(" ",F(1,1,(((e=i.result())==null?null:e.total)||1)+i.totalTaxes(),"1.2-2")," ")}}function At(t,n){if(t&1&&_(0,St,2,4)(1,Rt,2,4),t&2){let e=c();x(e.notInGrams()?0:1)}}function Ft(t,n){}function It(t,n){if(t&1&&(m(0),A(1,"number")),t&2){let e,i=c(2);g(" ",F(1,1,((((e=i.result())==null?null:e.total)||1)+i.totalTaxes())/i.outcome_amount(),"1.2-2")," ")}}function Et(t,n){if(t&1&&_(0,Ft,0,0)(1,It,2,4),t&2){let e=c();x(e.notInGrams()?0:1)}}function Vt(t,n){if(t&1&&(a(0,"a",22),m(1),r()),t&2){let e=c().$implicit;p("routerLink",he(2,pt,e.type==="recipe-row"?"/recipes/edit":"/edit-product/",e.uuid)),o(),g(" ",e.name," ")}}function Mt(t,n){if(t&1&&m(0),t&2){let e=c().$implicit;g(" ",e.name," ")}}function kt(t,n){if(t&1&&(a(0,"tr",21)(1,"td"),m(2),r(),a(3,"td")(4,"span",21),_(5,Vt,2,5,"a",22)(6,Mt,1,1),r()(),a(7,"td"),m(8),r(),a(9,"td"),m(10),r(),a(11,"td"),m(12),r(),a(13,"td"),m(14),r()()),t&2){let e=n.$implicit,i=n.$index;p("ngClass",e.type),o(2),b(i+1),o(2),p("ngClass","indent-"+e.indent),o(),x(e.type!=="total"?5:6),o(3),b(e.amount),o(2),b(e.unit),o(2),b(e.price_per_gram),o(2),b(e.total)}}function Dt(t,n){if(t&1&&(a(0,"table")(1,"colgroup"),I(2,"col",16)(3,"col",17)(4,"col",18)(5,"col",19)(6,"col",18)(7,"col",20),r(),a(8,"thead")(9,"tr")(10,"th"),m(11,"#"),r(),a(12,"th"),m(13,"Name"),r(),a(14,"th"),m(15,"Amount"),r(),a(16,"th"),m(17,"Unit"),r(),a(18,"th"),m(19,"Price per unit"),r(),a(20,"th"),m(21,"Total"),r()()(),a(22,"tbody"),N(23,kt,15,8,"tr",21,_e),r()()),t&2){let e,i=c();o(23),O((e=i.result())==null?null:e.result)}}function Nt(t,n){t&1&&(a(0,"div"),m(1,"Loading..."),r())}function Ot(t,n){if(t&1){let e=y();a(0,"lg-button",23),f("click",function(){u(e);let l=c();return d(l.saveDefaultTaxTemplate())}),m(1," Save as default template "),r()}t&2&&(v("primary"),p("flat",!0)("size","small"))}function Bt(t,n){if(t&1){let e=y();a(0,"lg-button",23),f("click",function(){u(e),c();let l=w(3);return d(l.show())}),m(1," Apply template "),r()}t&2&&(v("warning"),p("flat",!0)("size","small"))}function Gt(t,n){if(t&1){let e=y();a(0,"lg-gap-row",9),_(1,Bt,2,4,"lg-button",8),a(2,"lg-view-show",null,4)(4,"lg-gap-row",24)(5,"lg-multiselect",25),P("ngModelChange",function(l){u(e);let s=c();return z(s.taxTemplateToApply,l)||(s.taxTemplateToApply=l),d(l)}),r(),a(6,"lg-button",23),f("click",function(){u(e);let l=c();return d(l.loadTaxTemplate())}),m(7," Apply "),r()()()()}if(t&2){let e=w(3),i=c();p("center",!0),o(),x(e.showed()?-1:1),o(3),p("center",!0)("size","small"),o(),L("ngModel",i.taxTemplateToApply),p("autoLoad",!0)("resource","taxTemplates"),o(),v("primary"),p("flat",!0)("size","small")}}var et=class t{constructor(n,e,i,l){this._aRoute=n;this._calculateRecipeService=e;this._formTemplateService=i;this._injector=l;this._aRoute.data.pipe(U()).subscribe(s=>{this.result.set(s.result);let C=s.result?.recipe?.outcome_amount,E=s.result?.recipe?.ingredients?.reduce((re,pe)=>pe.unit!=="gram"?re:re+(+pe.amount||0),0),le=C||E;this.outcome_amount.set(le),this.showedOutcome.set(le),this.loadRecipeTaxTemplate()})}uuid=Xe("uuid");result=T(null);outcome_amount=ie(0);showedOutcome=T(0);totalTaxes=T(0);notInGrams=we(()=>this.result()?.recipe?.outcome_unit&&this.result()?.recipe?.outcome_unit!=="gram");taxesComponent=ve(M);taxRows=T([]);taxTemplateToApply=ie();canApplyTemplates=T(!0);canSaveDefaultTemplate=T(!0);onTaxTemplateChange(n){this.linkTaxTemplate(n.name)}onOutcomeChange=n=>{this._calculateRecipeService.calculateRecipe(this.uuid(),n).then(e=>{this.result.set(e),this.showedOutcome.set(n)})};saveDefaultTaxTemplate(){this._formTemplateService.saveTemplate("tax",{name:"Default Tax Template",createdAt:new Date().toISOString(),id:new Date().toISOString(),data:this.taxesComponent()?.taxesForm.value.rows?.map(n=>({name:n.name,description:n.description,value:n.value,percentage:n.percentage}))||[]}),this.canSaveDefaultTemplate.set(!1)}loadRecipeTemplate(){return this._formTemplateService.getTemplateByName("tax",this._taxTemplateName(this.result()?.recipe))}loadRecipeTaxTemplate(){let n=this.loadRecipeTemplate();if(n){this.taxRows.set(n.data.map(l=>({name:l.name,description:l.description,value:l.value,percentage:l.percentage})));return}let e=this._formTemplateService.getTemplateByName("tax","Default Tax Template");e?this.taxRows.set(e.data.map(l=>({name:l.name,description:l.description,value:l.value,percentage:l.percentage}))):this.taxRows.set(Ze);let i=this._taxTemplateName(this.result()?.recipe);this.saveTaxTemplate(i,this.taxesComponent()?.taxesForm.value.rows??[]),this.linkTaxTemplate(i)}saveTaxTemplate(n,e){this._formTemplateService.saveTemplate("tax",{name:n,createdAt:new Date().toISOString(),id:new Date().toISOString(),data:e.map(i=>({name:i.name,description:i.description,value:i.value,percentage:i.percentage}))||[]})}loadTaxTemplate(){let n=this.taxTemplateToApply()?.name;if(!n||n===this.result()?.recipe?.taxTemplateName)return;let e=this._formTemplateService.getTemplateByName("tax",n);e&&(this.taxRows.set(e.data.map(i=>({name:i.name,description:i.description,value:i.value,percentage:i.percentage}))),this.onTaxTemplateChange(e))}ngOnInit(){}linkTaxTemplate(n){this._calculateRecipeService.linkTaxTemplate(this.uuid(),n).then(()=>{console.log("Tax template linked")})}onTotalTaxesChanged=n=>{this.totalTaxes.set(n)};onTaxesChanged=n=>{this.saveTaxTemplate(this._taxTemplateName(this.result()?.recipe),n)};_taxTemplateName(n){return n.name+" Tax Template"}static \u0275fac=function(e){return new(e||t)(k(Re),k(Fe),k(Ie),k(me))};static \u0275cmp=S({type:t,selectors:[["lg-calculate-recipe"]],viewQuery:function(e,i){e&1&&ge(i.taxesComponent,M,5),e&2&&fe()},inputs:{outcome_amount:[1,"outcome_amount"],taxTemplateToApply:[1,"taxTemplateToApply"]},outputs:{outcome_amount:"outcome_amountChange",taxTemplateToApply:"taxTemplateToApplyChange"},features:[Te([Je])],decls:28,vars:21,consts:[["taxAmount",""],["rawAmount",""],["totalAmount",""],["perGramAmount",""],["taxTemplateForm",""],[3,"center","mobileMode"],[3,"flat","link","size"],[2,"--control-bg","white",3,"center"],[3,"flat","size","style"],[3,"center"],[3,"taxesChanged","totalTaxesChanged","rows","total"],[3,"fit","center","mobileMode"],[3,"size","center"],["lgParseMath","",3,"ngModelChange","onInputChange","ngModel","placeholder"],[3,"size","mobileMode"],[4,"ngTemplateOutlet"],["span","1",2,"width","1%"],["span","1",2,"width","20%"],["span","1",2,"width","5%"],["span","1",2,"width","3%"],["span","1",2,"width","7%"],[3,"ngClass"],[3,"routerLink"],[3,"click","flat","size"],[3,"center","size"],[3,"ngModelChange","ngModel","autoLoad","resource"]],template:function(e,i){if(e&1){let l=y();a(0,"lg-fade-in")(1,"lg-container")(2,"lg-gap-column")(3,"lg-gap-row",5)(4,"lg-title"),m(5),r(),a(6,"lg-button",6),m(7," Edit "),r(),a(8,"lg-button",6),m(9," Back to list "),r()(),_(10,ft,3,2,"lg-gap-row",7),h(11,wt,2,1,"ng-template",null,0,D)(13,bt,2,1,"ng-template",null,1,D)(15,At,2,1,"ng-template",null,2,D)(17,Et,2,1,"ng-template",null,3,D),a(19,"lg-table-card"),_(20,Dt,25,0,"table")(21,Nt,2,0,"div"),r(),a(22,"lg-gap-row",5)(23,"lg-title"),m(24," Taxes and fees "),r(),_(25,Ot,2,4,"lg-button",8),_(26,Gt,8,11,"lg-gap-row",9),r(),a(27,"lg-taxes-and-fees-list",10),f("taxesChanged",function(C){return u(l),d(i.onTaxesChanged(C))})("totalTaxesChanged",function(C){return u(l),d(i.onTotalTaxesChanged(C))}),r()()()()}if(e&2){let l,s,C,E;o(3),p("center",!0)("mobileMode",!0),o(2),g(" ",(l=i.result())==null||l.recipe==null?null:l.recipe.name," cost calculation "),o(),v("primary"),p("flat",!0)("link","/recipes/edit/"+((s=i.result())==null||s.recipe==null?null:s.recipe.uuid))("size","small"),o(2),v("warning"),p("flat",!0)("link","/recipes")("size","small"),o(2),x((C=i.result())!=null&&C.total?10:-1),o(10),x(i.result()?20:21),o(2),p("center",!0)("mobileMode",!0),o(3),x(i.canSaveDefaultTemplate()?25:-1),o(),x(i.canApplyTemplates()?26:-1),o(),p("rows",i.taxRows())("total",((E=i.result())==null?null:E.total)??0)}},dependencies:[Ee,j,K,ye,$,W,Se,q,je,H,Oe,J,Ae,Q,M,be,Z,Ke,Me],styles:[`lg-number-input .lg-number-input{width:100px}
`],encapsulation:2})};export{et as CalculateRecipeComponent};
