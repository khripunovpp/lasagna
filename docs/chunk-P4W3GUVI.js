import{C as E}from"./chunk-XHUSB7AO.js";import{Cb as f,Eb as g,Hb as w,Ib as C,Kb as s,Lb as c,Mc as U,Qb as x,Qc as k,Ub as y,Vb as u,Z as d,_a as o,fc as p,gc as b,ic as m,ka as h,kb as v,kc as I,la as _,ua as l,vc as S}from"./chunk-NHWKWTII.js";var F=(i,e)=>e.value;function z(i,e){i&1&&(s(0,"span",2),m(1,"/"),c())}function A(i,e){if(i&1){let t=x();s(0,"button",1),y("click",function(){let r=h(t),a=r.$implicit,V=r.$index,$=u();return _($.onClickItem(a,V))}),m(1),c(),f(2,z,2,0,"span",2)}if(i&2){let t=e.$implicit,n=e.$index,r=e.$count,a=u();b(t.style||"default"),p("active",a.activeIndex()==n)("unit-switcher__item--active",a.activeIndex()==n),o(),I(" ",t.label," "),o(),g(n!==r-1?2:-1)}}var T=class i{flat=!1;disable=!1;items=k([{label:"gr.",value:"gram",style:"secondary"},{label:"pc.",value:"piece",style:"secondary"}]);activeIndex=l(0);value=l("");effect=U(()=>{let e=this.items()?.findIndex(t=>t.value===this.value())??-1;this.activeIndex.set(e===-1?0:e)});onClickItem(e,t){this.activeIndex.set(t),this.writeValue(e.value),e.onClick?.()}onChange=()=>{};onTouched=()=>{};writeValue(e){this._change(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}onChangeInput(e){this._change(e.target.value)}_change(e){this.value.set(e),this.onChange(this.value())}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["lg-unit-switcher"]],inputs:{flat:"flat",disable:"disable",items:[1,"items"]},features:[S([{provide:E,useExisting:d(()=>i),multi:!0}])],decls:3,vars:2,consts:[[1,"unit-switcher"],[1,"unit-switcher__item",3,"click"],[1,"unit-switcher__item-separator"]],template:function(t,n){t&1&&(s(0,"div",0),w(1,A,3,8,null,null,F),c()),t&2&&(p("disable",n.disable),o(),C(n.items()))},styles:[`.unit-switcher{--unit-switcher-gap: 8px;display:flex;gap:var(--unit-switcher-gap);align-items:center;justify-content:center}.unit-switcher.disable{opacity:.5;pointer-events:none}.unit-switcher__item{display:flex;gap:var(--unit-switcher-gap);align-items:center;justify-content:center;cursor:pointer;padding:var(--unit-switcher-gap);appearance:none;border:none;background:none;color:inherit;font-family:inherit;font-size:.8rem}.unit-switcher__item.active{color:var(--active-color)}.unit-switcher__item.active .unit-switcher__item-separator{color:var(--text-color)}
`],encapsulation:2})};export{T as a};
