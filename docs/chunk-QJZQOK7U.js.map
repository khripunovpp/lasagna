{
  "version": 3,
  "sources": ["src/app/shared/view/ui/portal.component.ts"],
  "sourcesContent": ["import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Renderer2,\n  SimpleChanges\n} from '@angular/core';\nimport {WINDOW} from '../../service/tokens/window.token';\n\n@Component({\n  selector: 'lg-portal',\n  standalone: true,\n  template: '',\n  styles: [\n    `\n      :host {\n        display: flex;\n        height: 100%;\n        width: 100%;\n      }\n    `\n  ]\n})\nexport class PortalComponent\n  implements AfterViewInit, OnDestroy, OnChanges {\n  constructor(\n    private renderer: Renderer2,\n    private _elementRef: ElementRef,\n  ) {\n  }\n\n  @Input() targetElement!: ElementRef | HTMLElement | null;\n  @Input() appendTarget: string = '';\n  @Input() wrapClass: string = '';\n  private portalContainer!: HTMLElement;\n  private readonly _window = inject(WINDOW);\n\n  private get _appendTarget() {\n    if (!this.appendTarget) {\n      return this._elementRef.nativeElement;\n    }\n    return this.appendTarget === 'body'\n      ? this._window?.document.body\n      : this.appendTarget;\n  }\n\n  ngOnChanges(\n    changes: SimpleChanges\n  ) {\n    if (changes['wrapClass'] && this.portalContainer) {\n      if (this.wrapClass) {\n        const classes = this.wrapClass.split(' ');\n        classes.forEach(c => this.renderer.addClass(this.portalContainer, c));\n      } else {\n        this.portalContainer.className = '';\n      }\n    }\n  }\n\n  ngAfterViewInit() {\n    this.portalContainer = this.renderer.createElement('div');\n    this.renderer.appendChild(this._appendTarget, this.portalContainer);\n\n    if (this.targetElement) {\n\n      if (this.wrapClass) {\n        const classes = this.wrapClass.split(' ');\n        classes.forEach(c => this.renderer.addClass(this.portalContainer, c));\n      }\n      this.renderer.appendChild(this.portalContainer, this.targetElement);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.targetElement) {\n      this.renderer.removeChild(this.portalContainer, this.targetElement);\n    }\n    this.renderer.removeChild(this._appendTarget, this.portalContainer);\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AA2BM,IAAO,kBAAP,MAAO,iBAAe;EAGhB;EACA;EAFV,YACU,UACA,aAAuB;AADvB,SAAA,WAAA;AACA,SAAA,cAAA;EAEV;EAES;EACA,eAAuB;EACvB,YAAoB;EACrB;EACS,UAAU,OAAO,MAAM;EAExC,IAAY,gBAAa;AACvB,QAAI,CAAC,KAAK,cAAc;AACtB,aAAO,KAAK,YAAY;IAC1B;AACA,WAAO,KAAK,iBAAiB,SACzB,KAAK,SAAS,SAAS,OACvB,KAAK;EACX;EAEA,YACE,SAAsB;AAEtB,QAAI,QAAQ,WAAW,KAAK,KAAK,iBAAiB;AAChD,UAAI,KAAK,WAAW;AAClB,cAAM,UAAU,KAAK,UAAU,MAAM,GAAG;AACxC,gBAAQ,QAAQ,OAAK,KAAK,SAAS,SAAS,KAAK,iBAAiB,CAAC,CAAC;MACtE,OAAO;AACL,aAAK,gBAAgB,YAAY;MACnC;IACF;EACF;EAEA,kBAAe;AACb,SAAK,kBAAkB,KAAK,SAAS,cAAc,KAAK;AACxD,SAAK,SAAS,YAAY,KAAK,eAAe,KAAK,eAAe;AAElE,QAAI,KAAK,eAAe;AAEtB,UAAI,KAAK,WAAW;AAClB,cAAM,UAAU,KAAK,UAAU,MAAM,GAAG;AACxC,gBAAQ,QAAQ,OAAK,KAAK,SAAS,SAAS,KAAK,iBAAiB,CAAC,CAAC;MACtE;AACA,WAAK,SAAS,YAAY,KAAK,iBAAiB,KAAK,aAAa;IACpE;EACF;EAEA,cAAW;AACT,QAAI,KAAK,eAAe;AACtB,WAAK,SAAS,YAAY,KAAK,iBAAiB,KAAK,aAAa;IACpE;AACA,SAAK,SAAS,YAAY,KAAK,eAAe,KAAK,eAAe;EACpE;;qCAvDW,kBAAe,4BAAA,SAAA,GAAA,4BAAA,UAAA,CAAA;EAAA;yEAAf,kBAAe,WAAA,CAAA,CAAA,WAAA,CAAA,GAAA,QAAA,EAAA,eAAA,iBAAA,cAAA,gBAAA,WAAA,YAAA,GAAA,UAAA,CAAA,8BAAA,GAAA,OAAA,GAAA,MAAA,GAAA,UAAA,SAAA,yBAAA,IAAA,KAAA;EAAA,GAAA,QAAA,CAAA,gIAAA,EAAA,CAAA;;;sEAAf,iBAAe,CAAA;UAd3B;uBACW,aAAW,YACT,MAAI,UACN,IAAE,QAAA,CAAA,uTAAA,EAAA,CAAA;;UAmBX;;UACA;;UACA;;;;6EAVU,iBAAe,EAAA,WAAA,mBAAA,UAAA,8CAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
