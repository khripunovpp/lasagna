import{A as c}from"./chunk-DQ7XQQU4.js";import{W as o,_ as u}from"./chunk-P6BGRGC2.js";import{f as a}from"./chunk-2WH2EVR6.js";var i=class r{constructor(e,t){this._name=e;this._uuid=t}get name(){return String(this._name).trim()}get uuid(){return this._uuid?String(this._uuid).trim():void 0}static fromRaw(e){return typeof e=="string"?new r(e):new r(e?.name||"",e?.uuid||void 0)}static empty(){return new r("")}setName(e){this._name=String(e).trim()}copy(){return new r(this.name,this.uuid)}toDTO(){return{name:this.name,uuid:this.uuid}}update(e){return this._name=e.name||this.name,this._uuid=e.uuid||this.uuid,this}toString(){return String(this.name)}toUUID(){return this.uuid||this.name||""}};var g=class r{constructor(e){this._indexDbService=e}addCategory(e){return this._indexDbService.addData("categoryRecipesStore",e.toDTO(),e.name)}editCategory(e,t){return this._indexDbService.replaceData("categoryRecipesStore",e,t.toDTO())}getOne(e){return a(this,null,function*(){return this._indexDbService.getOne("categoryRecipesStore",e).then(t=>i.fromRaw(t))})}getCategories(){return this._indexDbService.getAll("categoryRecipesStore").then(e=>e.map(t=>i.fromRaw(t)))}getManyCategories(e){return this._indexDbService.getMany("categoryRecipesStore",e).then(t=>t.map(n=>i.fromRaw(n)))}deleteCategory(e){return this._indexDbService.remove("categoryRecipesStore",e)}preloadCategories(){return a(this,null,function*(){if(localStorage.getItem("categoriesRecipesInstalled"))return;if((yield this.getCategories()).length===0){let n=["\u0411\u0438\u0441\u043A\u0432\u0438\u0442\u044B","\u041F\u0435\u0441\u043E\u0447\u043D\u043E\u0435 \u0442\u0435\u0441\u0442\u043E","\u0417\u0430\u0432\u0430\u0440\u043D\u043E\u0435 \u0442\u0435\u0441\u0442\u043E","\u0421\u043B\u043E\u0451\u043D\u043E\u0435 \u0442\u0435\u0441\u0442\u043E","\u0414\u0440\u043E\u0436\u0436\u0435\u0432\u043E\u0435 \u0442\u0435\u0441\u0442\u043E","\u0411\u0440\u0438\u043E\u0448\u044C \u0438 \u0441\u0434\u043E\u0431\u0430","\u041C\u0435\u0440\u0435\u043D\u0433\u0438","\u041A\u0440\u0435\u043C\u044B","\u041D\u0430\u0447\u0438\u043D\u043A\u0438","\u0413\u043B\u0430\u0437\u0443\u0440\u0438 \u0438 \u043F\u043E\u043A\u0440\u044B\u0442\u0438\u044F","\u0422\u043E\u0440\u0442\u044B","\u041F\u0438\u0440\u043E\u0436\u043D\u044B\u0435","\u041A\u0435\u043A\u0441\u044B \u0438 \u043C\u0430\u0444\u0444\u0438\u043D\u044B","\u0427\u0438\u0437\u043A\u0435\u0439\u043A\u0438","\u0422\u0430\u0440\u0442\u044B","\u041C\u0430\u043A\u0430\u0440\u043E\u043D","\u041F\u0435\u0447\u0435\u043D\u044C\u0435","\u0420\u0443\u043B\u0435\u0442\u044B","\u0428\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0438\u0437\u0434\u0435\u043B\u0438\u044F","\u041A\u0430\u0440\u0430\u043C\u0435\u043B\u044C","\u041C\u0443\u0441\u0441\u044B","\u041F\u0430\u043D\u043D\u0430 \u043A\u043E\u0442\u0442\u0430","\u0416\u0435\u043B\u0435 \u0438 \u043A\u043E\u043D\u0444\u0438\u0442\u044E\u0440\u044B","\u0421\u0443\u0444\u043B\u0435","\u0414\u0435\u0441\u0435\u0440\u0442\u044B \u0432 \u0441\u0442\u0430\u043A\u0430\u043D\u0430\u0445","\u0412\u044B\u043F\u0435\u0447\u043A\u0430 \u0431\u0435\u0437 \u0433\u043B\u044E\u0442\u0435\u043D\u0430","\u0412\u044B\u043F\u0435\u0447\u043A\u0430 \u0431\u0435\u0437 \u0441\u0430\u0445\u0430\u0440\u0430","\u0412\u0435\u0433\u0430\u043D\u0441\u043A\u0438\u0435 \u0434\u0435\u0441\u0435\u0440\u0442\u044B","\u0417\u0430\u0432\u0442\u0440\u0430\u043A\u0438","\u0410\u0432\u0442\u043E\u0440\u0441\u043A\u0438\u0435 \u0434\u0435\u0441\u0435\u0440\u0442\u044B"].map((s,d)=>i.fromRaw({uuid:s,name:s}).toDTO());yield this._indexDbService.balkAdd("categoryRecipesStore",n,!1),localStorage.setItem("categoriesRecipesInstalled","true")}})}static \u0275fac=function(t){return new(t||r)(u(c))};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{i as a,g as b};
