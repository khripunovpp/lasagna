{
  "version": 3,
  "sources": ["src/app/shared/view/ui/tabs/tab.directive.ts", "src/app/shared/view/ui/tabs/tabs.component.ts"],
  "sourcesContent": ["import {Directive, Input, TemplateRef} from '@angular/core';\n\n@Directive({\n  selector: 'ng-template[lgTab]',\n  standalone: true,\n})\nexport class TabDirective {\n  constructor(\n    public templateRef: TemplateRef<unknown>\n  ) {\n  }\n\n  @Input({required: true}) label!: string;\n  @Input({required: true}) alias!: string;\n}\n", "import {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  effect,\n  inject, input,\n  QueryList,\n  signal,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {NgTemplateOutlet} from '@angular/common';\nimport {TabDirective} from './tab.directive';\nimport {GapColumnComponent} from '../layout/gap-column.component';\n\nimport {injectQueryParams} from '../../../helpers/route.helpers';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'lg-tabs',\n  standalone: true,\n  imports: [\n    NgTemplateOutlet,\n    GapColumnComponent,\n    ],\n  template: `\n      <div [attr.aria-label]=\"'Tabs'\"\n           [attr.role]=\"'tablist'\"\n           [class.flat]=\"flat()\"\n           class=\"tabs\">\n          <div class=\"tabs__labels\">\n              @for (tab of tabs();track tab.label;let i = $index) {\n                  <button (click)=\"selectTab(i)\"\n                          [class.active]=\"activated()[i]\"\n                          [attr.aria-selected]=\"activated()[i]\"\n                          [attr.aria-controls]=\"'tab-' + i\"\n                          [attr.id]=\"'tab-' + i\">\n                      {{ tab.label }}\n                  </button>\n              }\n          </div>\n\n          <div class=\"tabs__body\">\n              @if (tabs().length > 0) {\n                  @if (activated()[selectedIndex()]) {\n                      <lg-gap-column [size]=\"'small'\">\n                          <ng-container *ngTemplateOutlet=\"tabs()[selectedIndex()].templateRef\">\n                          </ng-container>\n                      </lg-gap-column>\n                  }\n              }\n          </div>\n      </div>\n  `,\n  styles: [`\n    .tabs {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .tabs.flat {\n      gap: 12px;\n    }\n\n    .tabs.flat .tabs__labels {\n      border-radius: 0;\n      border-bottom: none;\n      padding: 0;\n      background-color: transparent;\n    }\n\n    .tabs.flat .tabs__body {\n      border-radius: 0;\n      background-color: transparent;\n      padding: 0;\n    }\n\n    .tabs__labels {\n      display: flex;\n      gap: 8px;\n      padding: 16px;\n      background-color: #eed2f0;\n      border-bottom: 2px solid #ecc9ee;\n      overflow-x: auto;\n      white-space: nowrap;\n      scroll-behavior: smooth;\n      scroll-snap-type: x mandatory;\n      overscroll-behavior-x: contain;\n      -webkit-overflow-scrolling: touch;\n      border-radius: 12px 12px 0 0;\n    }\n\n    .tabs__labels button {\n      background: #fff;\n      border: none;\n      border-radius: 12px;\n      padding: 0.5rem 1rem;\n      cursor: pointer;\n      font-size: 1rem;\n      transition: background-color 0.3s ease;\n      font-family: inherit;\n      text-decoration: none;\n      position: relative;\n      z-index: 1  ;\n    }\n\n    .tabs__labels button:hover {\n      background-color: #f0f0f0;\n    }\n\n    .tabs__labels button:focus {\n      outline: 2px solid #007bff;\n    }\n\n    .tabs__labels button.active {\n      background-color: var(--accent-color);\n      color: #fff;\n    }\n\n    .tabs__body {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n      padding: 24px 16px;\n      background-color: #fff;\n      border-radius: 0 0 12px 12px;\n    }\n\n    .tabs__body > * {\n      flex: 1;\n    }\n  `],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class TabsComponent implements AfterContentInit {\n  @ContentChildren(TabDirective) tabTemplates!: QueryList<TabDirective>;\n\n  readonly router = inject(Router);\n  readonly tabs = signal<TabDirective[]>([]);\n  readonly flat = input(false)\n  readonly silent = input(false)\n  readonly activated = signal<boolean[]>([]);\n  readonly selectedIndex = signal(0);\n  readonly tabQuery = injectQueryParams('tab');\n  readonly tabQueryEffect = effect(() => {\n    const tab = this.tabQuery();\n    if (tab) {\n      const index = this.tabs().findIndex(t => t.alias?.toLowerCase()?.includes(tab.toString().toLowerCase() ?? ''));\n      if (index !== -1) {\n        this.selectTab(index);\n      }\n    }\n  });\n\n  ngAfterContentInit() {\n    const allTabs = this.tabTemplates.toArray();\n    this.tabs.set(allTabs);\n    this.activated.set(allTabs.map((_, i) => i === 0));\n  }\n\n  selectTab(index: number) {\n    this.selectedIndex.set(index);\n    this.activated.update((old) => {\n      return old.map((_, i) => i === index);\n    });\n    if (this.silent()) {\n      return;\n    }\n    this.router.navigate([], {\n      queryParams: {tab: this.tabs()[index].alias},\n      queryParamsHandling: 'merge',\n    });\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
