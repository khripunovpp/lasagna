{
  "version": 3,
  "sources": ["src/app/shared/view/directives/focus-trap.directive.ts", "src/app/shared/service/providers/body-locker.provider.ts"],
  "sourcesContent": ["// focus-trap.directive.ts\nimport {AfterViewInit, Directive, ElementRef, inject} from '@angular/core';\nimport {WINDOW} from '../../service/tokens/window.token';\n\n@Directive({\n  selector: '[lgFocusTrap]',\n  standalone: true,\n})\nexport class FocusTrapDirective implements AfterViewInit {\n  constructor(\n    private el: ElementRef\n  ) {\n  }\n\n  private readonly _window = inject(WINDOW);\n\n  ngAfterViewInit() {\n    this.trapFocus(this.el.nativeElement);\n  }\n\n  trapFocus(element: HTMLElement) {\n    element.addEventListener('keydown', (e) => {\n      const getActiveElement = () => {\n        if (this._window?.document.activeElement?.shadowRoot) {\n          return this._window.document.activeElement.shadowRoot.activeElement;\n        } else {\n          return this._window?.document.activeElement;\n        }\n      };\n\n      const isTabPressed = e.keyCode === 9; // isTabPressed\n      if (!isTabPressed) return;\n\n      const focusableEls1 = element.querySelectorAll(\n        'a[href], button, textarea, input[type=\"text\"],' +\n        'input[type=\"radio\"], input[type=\"checkbox\"], select'\n      );\n      const focusableEls = Array.from(focusableEls1).filter((el: any) => !el.disabled);\n      const firstFocusableEl: any = focusableEls[0];\n      const lastFocusableEl: any = focusableEls[focusableEls.length - 1];\n\n      if (e.shiftKey) /* shift + tab */ {\n        if (getActiveElement() === firstFocusableEl) {\n          lastFocusableEl.focus();\n          e.preventDefault();\n        }\n      } else /* tab */ {\n        if (getActiveElement() === lastFocusableEl) {\n          firstFocusableEl.focus();\n          e.preventDefault();\n        }\n      }\n    });\n  }\n}\n", "import {inject, InjectionToken, PLATFORM_ID} from '@angular/core';\nimport {isPlatformBrowser} from '@angular/common';\n\nexport const BODY_LOCKER = new InjectionToken('BODY_LOCKER', {\n  factory: () => {\n    const isBrowser = isPlatformBrowser(inject(PLATFORM_ID));\n    if (!isBrowser) {\n      return {\n        lock: () => {\n        },\n        unlock: () => {\n        }\n      };\n    }\n\n    return {\n      lock: () => {\n        document.body.style.overflow = 'hidden';\n      },\n      unlock: () => {\n        document.body.style.overflow = '';\n      }\n    };\n  }\n})\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAQM,IAAO,qBAAP,MAAO,oBAAkB;EAEnB;EADV,YACU,IAAc;AAAd,SAAA,KAAA;EAEV;EAEiB,UAAU,OAAO,MAAM;EAExC,kBAAe;AACb,SAAK,UAAU,KAAK,GAAG,aAAa;EACtC;EAEA,UAAU,SAAoB;AAC5B,YAAQ,iBAAiB,WAAW,CAAC,MAAK;AACxC,YAAM,mBAAmB,MAAK;AAC5B,YAAI,KAAK,SAAS,SAAS,eAAe,YAAY;AACpD,iBAAO,KAAK,QAAQ,SAAS,cAAc,WAAW;QACxD,OAAO;AACL,iBAAO,KAAK,SAAS,SAAS;QAChC;MACF;AAEA,YAAM,eAAe,EAAE,YAAY;AACnC,UAAI,CAAC;AAAc;AAEnB,YAAM,gBAAgB,QAAQ,iBAC5B,mGACqD;AAEvD,YAAM,eAAe,MAAM,KAAK,aAAa,EAAE,OAAO,CAAC,OAAY,CAAC,GAAG,QAAQ;AAC/E,YAAM,mBAAwB,aAAa,CAAC;AAC5C,YAAM,kBAAuB,aAAa,aAAa,SAAS,CAAC;AAEjE,UAAI,EAAE,UAA4B;AAChC,YAAI,iBAAgB,MAAO,kBAAkB;AAC3C,0BAAgB,MAAK;AACrB,YAAE,eAAc;QAClB;MACF,OAAiB;AACf,YAAI,iBAAgB,MAAO,iBAAiB;AAC1C,2BAAiB,MAAK;AACtB,YAAE,eAAc;QAClB;MACF;IACF,CAAC;EACH;;qCA7CW,qBAAkB,4BAAA,UAAA,CAAA;EAAA;yEAAlB,qBAAkB,WAAA,CAAA,CAAA,IAAA,eAAA,EAAA,CAAA,EAAA,CAAA;;;sEAAlB,oBAAkB,CAAA;UAJ9B;WAAU;MACT,UAAU;MACV,YAAY;KACb;;;;;ACJM,IAAM,cAAc,IAAI,eAAe,eAAe;EAC3D,SAAS,MAAK;AACZ,UAAM,YAAY,kBAAkB,OAAO,WAAW,CAAC;AACvD,QAAI,CAAC,WAAW;AACd,aAAO;QACL,MAAM,MAAK;QACX;QACA,QAAQ,MAAK;QACb;;IAEJ;AAEA,WAAO;MACL,MAAM,MAAK;AACT,iBAAS,KAAK,MAAM,WAAW;MACjC;MACA,QAAQ,MAAK;AACX,iBAAS,KAAK,MAAM,WAAW;MACjC;;EAEJ;CACD;",
  "names": []
}
