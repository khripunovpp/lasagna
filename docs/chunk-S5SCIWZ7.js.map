{
  "version": 3,
  "sources": ["src/app/features/controls/form/readonly-control.component.ts"],
  "sourcesContent": ["import {Component, ElementRef, forwardRef, Input, input, signal, ViewChild} from '@angular/core';\nimport {ControlValueAccessor, FormsModule, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {TranslatePipe, TranslateService} from '@ngx-translate/core';\n\n@Component({\n  selector: 'lg-readonly-control',\n  standalone: true,\n  template: `\n    <div class=\"lg-readonly-control\">\n      <input #input\n             [disabled]=\"true\"\n             [placeholder]=\"placeholder() | translate\"\n             [readonly]=\"true\"\n             [value]=\"value\"\n             class=\"input\"\n             type=\"text\">\n\n      <div [style.display]=\"noAfter() ? 'none' : 'flex'\"\n           class=\"lg-readonly-control__after\">\n        <ng-content select=\"after\"></ng-content>\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      :host {\n        display: flex;\n        user-select: none;\n        pointer-events: none;\n        width: 100%;\n      }\n\n      .lg-readonly-control {\n        width: 100%;\n        display: flex;\n        border-radius: 12px;\n        gap: 16px;\n        position: relative;\n        opacity: 0.99;\n        border: 1px solid var(--control-bg);\n\n        &::after {\n          content: '';\n          position: absolute;\n          z-index: -1;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: var(--control-bg);\n          border-radius: 12px;\n          opacity: 0.4;\n        }\n      }\n\n      .lg-readonly-control__after {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n        padding: 0 16px;\n        white-space: nowrap;\n        flex: 0 0 auto;\n      }\n\n      .input {\n        border: none;\n        padding: 15px;\n        border-radius: 12px;\n        font-family: inherit;\n        font-size: inherit;\n        background-color: transparent;\n        width: 100%;\n        pointer-events: none;\n        user-select: none;\n      }\n\n      .input::placeholder {\n        color: var(--placeholder);\n      }\n\n      .input:focus {\n        outline: none;\n        box-shadow: var(--focus-shadow);\n      }\n    `\n  ],\n  imports: [\n    FormsModule,\n    TranslatePipe\n  ],\n   providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ReadonlyControlComponent),\n      multi: true\n    }\n  ]\n})\n\nexport class ReadonlyControlComponent\n  implements ControlValueAccessor {\n  constructor(private translate: TranslateService) {}\n\n  @ViewChild('input', {static: true}) input: ElementRef<HTMLInputElement> | undefined;\n  @Input() value: string | number | null | undefined = '';\n  placeholder = input('Enter text here');\n  noAfter = signal(false);\n\n  focus() {\n    this.input?.nativeElement.focus();\n  }\n\n\n  onChange: (value: string) => void = () => {\n  };\n  onTouched: () => void = () => {\n  };\n\n  writeValue(value: string): void {\n    this.value = value;\n  }\n\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  ngAfterViewInit() {\n    const after = this.input?.nativeElement.nextElementSibling;\n    if (after?.childElementCount === 0) {\n      this.noAfter.set(true);\n    }\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGM,IAAO,2BAAP,MAAO,0BAAwB;EAEf;EAApB,YAAoB,WAA2B;AAA3B,SAAA,YAAA;EAA8B;EAEd;EAC3B,QAA4C;EACrD,cAAc,MAAM,mBAAiB,GAAA,YAAA,CAAA,EAAA,WAAA,cAAA,CAAA,IAAA,CAAA,CAAA;EACrC,UAAU,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,UAAA,CAAA,IAAA,CAAA,CAAA;EAEtB,QAAK;AACH,SAAK,OAAO,cAAc,MAAK;EACjC;EAGA,WAAoC,MAAK;EACzC;EACA,YAAwB,MAAK;EAC7B;EAEA,WAAW,OAAa;AACtB,SAAK,QAAQ;EACf;EAEA,iBAAiB,IAAO;AACtB,SAAK,WAAW;EAClB;EAEA,kBAAkB,IAAO;AACvB,SAAK,YAAY;EACnB;EAEA,kBAAe;AACb,UAAM,QAAQ,KAAK,OAAO,cAAc;AACxC,QAAI,OAAO,sBAAsB,GAAG;AAClC,WAAK,QAAQ,IAAI,IAAI;IACvB;EACF;;qCApCW,2BAAwB,4BAAA,gBAAA,CAAA;EAAA;yEAAxB,2BAAwB,WAAA,CAAA,CAAA,qBAAA,CAAA,GAAA,WAAA,SAAA,+BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;;;;;;;0GATvB;IACV;MACE,SAAS;MACT,aAAa,WAAW,MAAM,yBAAwB;MACtD,OAAO;;GAEV,CAAA,GAAA,oBAAA,KAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,SAAA,EAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,QAAA,QAAA,GAAA,SAAA,GAAA,YAAA,eAAA,YAAA,OAAA,GAAA,CAAA,GAAA,4BAAA,CAAA,GAAA,UAAA,SAAA,kCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;;AAxFC,MAAA,4BAAA,GAAA,OAAA,CAAA;AACE,MAAA,uBAAA,GAAA,SAAA,GAAA,CAAA;;AAQA,MAAA,4BAAA,GAAA,OAAA,CAAA;AAEE,MAAA,uBAAA,CAAA;AACF,MAAA,0BAAA,EAAM;;;AAVC,MAAA,oBAAA;AAAA,MAAA,wBAAA,YAAA,IAAA,EAAiB,eAAA,sBAAA,GAAA,GAAA,IAAA,YAAA,CAAA,CAAA,EACwB,YAAA,IAAA,EACxB,SAAA,IAAA,KAAA;AAKnB,MAAA,oBAAA,CAAA;AAAA,MAAA,sBAAA,WAAA,IAAA,QAAA,IAAA,SAAA,MAAA;;;IAsEP;IACA;EAAa,GAAA,QAAA,CAAA,+tCAAA,EAAA,CAAA;;;sEAWJ,0BAAwB,CAAA;UA/FpC;uBACW,uBAAqB,YACnB,MAAI,UACN;;;;;;;;;;;;;;;KAeT,SAgEQ;MACP;MACA;OACD,WACW;MACV;QACE,SAAS;QACT,aAAa,WAAW,MAAK,wBAAyB;QACtD,OAAO;;OAEV,QAAA,CAAA,szCAAA,EAAA,CAAA;;UAOA;WAAU,SAAS,EAAC,QAAQ,KAAI,CAAC;;UACjC;;;;6EALU,0BAAwB,EAAA,WAAA,4BAAA,UAAA,gEAAA,YAAA,IAAA,CAAA;AAAA,GAAA;",
  "names": []
}
