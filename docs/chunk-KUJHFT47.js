import{a as E}from"./chunk-2LD2UU33.js";import{a as g}from"./chunk-UNQ6OZQW.js";import{a as Q,b as U}from"./chunk-HWJHNQRN.js";import{a as L}from"./chunk-B4GE2TBC.js";import"./chunk-CEEQQY3I.js";import{c as M,e as O,f as P,g as B,h as z,j as q,k as Y,n as H,q as J}from"./chunk-MQ26JLPX.js";import{d as u}from"./chunk-4IYXQRQ2.js";import{a as K}from"./chunk-FTNH4PRO.js";import{a as j}from"./chunk-PFLOR5BA.js";import{a as k,b as D,c as G}from"./chunk-42ANHTC5.js";import{p as N,r as V,v as T}from"./chunk-2WRE22FH.js";import{Eb as a,Fb as i,Gb as l,Kb as v,Nb as _,Ob as R,Xa as n,_b as s,ab as c,ac as A,fb as d,fc as w,ka as C,la as y,ra as F,sb as m,vb as h,vc as I,yb as S,zb as b,zc as x}from"./chunk-7IKCFNVS.js";function ee(o,e){if(o&1){let t=v();a(0,"lg-button",3),_("click",function(){C(t);let p=R();return y(p.editCategory(p.value))}),s(1," Edit Category "),i()}}function te(o,e){if(o&1){let t=v();a(0,"lg-button",3),_("click",function(){C(t);let p=R();return y(p.addCategory(p.value))}),s(1," Add Category "),i()}}var f=class o{constructor(e,t,r,p){this._categoryRepository=e;this._selectResourcesService=t;this._router=r;this._notificationsService=p}form=new B({name:new z("",M.required)});uuid=x("");uuidEffect=I(()=>{this.uuid()&&this._categoryRepository.getOne(this.uuid()).then(e=>{this.form.reset(e)})});get value(){return this.form.value}ngOnInit(){}addCategory(e){this._categoryRepository.addCategory(e).then(()=>{this.form.reset({}),this._notificationsService.success("Category added")})}editCategory(e){this._categoryRepository.editCategory(this.uuid(),e).then(()=>{this._notificationsService.success("Category edited")})}static \u0275fac=function(t){return new(t||o)(c(E),c(g),c(V),c(L))};static \u0275cmp=d({type:o,selectors:[["lg-add-category-recipe-form"]],inputs:{uuid:[1,"uuid"]},features:[w([{provide:g,useClass:g}])],decls:6,vars:3,consts:[[3,"formGroup"],["label","Name"],["formControlName","name",3,"placeholder"],[3,"click"]],template:function(t,r){t&1&&(a(0,"form",0)(1,"lg-gap-column")(2,"lg-control",1),l(3,"lg-input",2),i(),S(4,ee,2,0,"lg-button")(5,te,2,0,"lg-button"),i()()),t&2&&(m("formGroup",r.form),n(3),m("placeholder","Your category name"),n(),b(r.uuid()?4:5))},dependencies:[J,q,O,P,Y,H,Q,U,K,u],encapsulation:2})};var W=class o{constructor(e){this._aRoute=e}uuid=F("");ngOnInit(){this._aRoute.params.subscribe(e=>{this.uuid.set(e.uuid)})}static \u0275fac=function(t){return new(t||o)(c(N))};static \u0275cmp=d({type:o,selectors:[["lg-add-category-recipe"]],decls:9,vars:8,consts:[[3,"center"],[3,"flat","link","size"],[3,"uuid"]],template:function(t,r){t&1&&(a(0,"lg-fade-in")(1,"lg-container")(2,"lg-gap-row",0)(3,"lg-title"),s(4),i(),a(5,"lg-button",1),s(6," Back to list "),i()(),a(7,"lg-card"),l(8,"lg-add-category-recipe-form",2),i()()()),t&2&&(n(2),m("center",!0),n(2),A("",r.uuid()?"Edit":"Add"," recipe category"),n(),h("warning"),m("flat",!0)("link","/settings/categories/recipes")("size","small"),n(3),m("uuid",r.uuid()))},dependencies:[k,D,G,f,j,u,T],encapsulation:2})};export{W as AddCategoryRecipeComponent};
