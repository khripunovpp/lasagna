import{a as I}from"./chunk-O43MYOCU.js";import{a as Y}from"./chunk-EIVKJBV7.js";import{a as X}from"./chunk-TBBEROLX.js";import{a as P}from"./chunk-U5RG623K.js";import{a as w}from"./chunk-MUGSSU5U.js";import{a as y}from"./chunk-7C3OD2VZ.js";import"./chunk-4U4Z3QUR.js";import{a as Z}from"./chunk-VPY63KRA.js";import"./chunk-MPFUNZLY.js";import{a as f}from"./chunk-O2QGAP6D.js";import{a as O,l as M,m as k}from"./chunk-F7IPTZBX.js";import"./chunk-JIYA5WDW.js";import{oa as A,z as g}from"./chunk-SCGAETAM.js";import{p as W,q as R}from"./chunk-J6CDYHKM.js";import"./chunk-CABIONZL.js";import"./chunk-EMIJRNYJ.js";import{j as Q,o as U}from"./chunk-ZA7VU5CB.js";import{$a as n,Cc as a,Db as _,Dc as p,Eb as D,Fb as C,Ib as v,Jb as x,Kb as l,Lb as r,Mb as o,Mc as N,Nb as E,Rb as G,Vb as H,Wb as z,ea as b,eb as h,gc as J,hc as K,jc as d,kc as m,la as V,lb as u,lc as c,ma as q,va as S,yc as T}from"./chunk-X5WXA3YI.js";import"./chunk-2RGDSI3Q.js";import"./chunk-FK6H3RFT.js";import"./chunk-C6Q5SG76.js";var ie=e=>["/recipes/edit/",e],ne=(e,i)=>i.recipe.uuid;function oe(e,i){if(e&1&&(r(0,"lg-flex-row",2)(1,"a",4),d(2),o(),r(3,"small",5),d(4),a(5,"timeAgo"),o()()),e&2){let t=i.$implicit;l("center",!0)("size","medium")("mobileMode",!0),n(),l("routerLink",T(8,ie,t.recipe.uuid)),n(),c(" ",t.recipe.name," "),n(2),c(" ",p(5,6,t==null?null:t.updatedAt)," ")}}function re(e,i){e&1&&(r(0,"div",3),d(1),a(2,"translate"),o()),e&2&&(n(),c(" ",p(2,1,"no-recipes")," "))}var B=class e{constructor(i){this._recipesRepository=i}recipes=S([]);ngOnInit(){this._recipesRepository.getLastRecipes().then(i=>{this.recipes.set(i)})}static \u0275fac=function(t){return new(t||e)(h(k))};static \u0275cmp=u({type:e,selectors:[["lg-last-edited-recipes"]],decls:8,vars:6,consts:[[3,"level"],[3,"size"],[3,"center","size","mobileMode"],[1,"last-edited-recipe-name"],[1,"last-edited-recipe",3,"routerLink"],["lgPull","",1,"text-muted","text-cursive"]],template:function(t,s){t&1&&(r(0,"lg-flex-column")(1,"lg-title",0),d(2),a(3,"translate"),o(),r(4,"lg-flex-column",1),v(5,oe,6,10,"lg-flex-row",2,ne,!1,re,3,3,"div",3),o()()),t&2&&(n(),l("level",4),n(),m(p(3,4,"main.last-recipes")),n(2),l("size","medium"),n(),x(s.recipes()))},dependencies:[y,R,f,w,P,I,g],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%}"]})};var ae=e=>["/products/edit/",e],pe=(e,i)=>i.product.uuid;function de(e,i){if(e&1&&(r(0,"lg-flex-row",3)(1,"a",5),d(2),o(),r(3,"small",6),d(4),a(5,"timeAgo"),o()()),e&2){let t=i.$implicit;l("center",!0)("size","medium")("mobileMode",!0),n(),l("routerLink",T(8,ae,t.product.uuid)),n(),c(" ",t.product.name," "),n(2),c(" ",p(5,6,t==null?null:t.updatedAt)," ")}}function le(e,i){e&1&&(r(0,"div",4),d(1),a(2,"translate"),o()),e&2&&(n(),c(" ",p(2,1,"no-products")," "))}var F=class e{constructor(i){this._productsRepository=i}products=S([]);ngOnInit(){this._productsRepository.getLastProducts().then(i=>{this.products.set(i)})}static \u0275fac=function(t){return new(t||e)(h(M))};static \u0275cmp=u({type:e,selectors:[["lg-last-edited-products"]],decls:9,vars:6,consts:[[3,"level"],[1,"last-edited-recipes"],[3,"size"],[3,"center","size","mobileMode"],[1,"last-edited-recipe-name"],[1,"last-edited-product",3,"routerLink"],["lgPull","",1,"text-muted","text-cursive"]],template:function(t,s){t&1&&(r(0,"lg-flex-column")(1,"lg-title",0),d(2),a(3,"translate"),o(),r(4,"div",1)(5,"lg-flex-column",2),v(6,de,6,10,"lg-flex-row",3,pe,!1,le,3,3,"div",4),o()()()),t&2&&(n(),l("level",4),n(),m(p(3,4,"main.last-products")),n(3),l("size","medium"),n(),x(s.products()))},dependencies:[y,R,f,w,P,I,g],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%}"]})};var se=(e,i)=>i.key;function ce(e,i){if(e&1){let t=G();r(0,"div",4)(1,"div",5)(2,"span",6),d(3),a(4,"translate"),o(),r(5,"span",7),d(6),a(7,"translate"),o()(),r(8,"lg-button",8),H("onClick",function(){let te=V(t).$implicit;return q(te.action())}),d(9),a(10,"translate"),a(11,"translate"),a(12,"translate"),o()()}if(e&2){let t=i.$implicit,s=z(2);J("onboarding__step--done",t.done)("onboarding__step--disabled",!t.done&&!s.isCurrentStep(t)),n(3),m(p(4,8,t.label)),n(3),m(p(7,10,t.description)),n(2),l("disabled",!t.done&&!s.isCurrentStep(t)),n(),c(" ",t.done?p(10,12,"onboarding.done"):s.isCurrentStep(t)?p(11,14,"onboarding.go"):p(12,16,"onboarding.unavailable")," ")}}function me(e,i){if(e&1&&(r(0,"section",0)(1,"lg-flex-column")(2,"lg-title",1),d(3),a(4,"translate"),o(),r(5,"lg-flex-column",2),v(6,ce,13,18,"div",3,se),o()()()),e&2){let t=z();n(2),l("level",4),n(),m(p(4,3,"onboarding.title")),n(2),l("size","medium"),n(),x(t.steps())}}var L=class e{_router=b(W);_onboarding=b(O);steps=N(()=>[{key:"settings",label:"onboarding.settings.label",description:"onboarding.settings.description",done:this._onboarding.isSettingsDone(),action:()=>this.goToSettings()},{key:"product",label:"onboarding.product.label",description:"onboarding.product.description",done:this._onboarding.isProductDone(),action:()=>this.goToAddProduct()},{key:"recipe",label:"onboarding.recipe.label",description:"onboarding.recipe.description",done:this._onboarding.isRecipeDone(),action:()=>this.goToAddRecipe()}]);currentStep=N(()=>this.steps().find(i=>!i.done));allDone=this._onboarding.isOnboardingComplete;isCurrentStep(i){return!i.done&&i.key===this.currentStep()?.key}goToSettings(){this._router.navigate(["/settings"])}goToAddProduct(){this._router.navigate(["/products/add"])}goToAddRecipe(){this._router.navigate(["/recipes/add"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["lg-onboarding"]],decls:1,vars:1,consts:[[1,"onboarding"],[3,"level"],[3,"size"],[1,"onboarding__step",3,"onboarding__step--done","onboarding__step--disabled"],[1,"onboarding__step"],[1,"onboarding__step-content"],[1,"onboarding__step-label"],[1,"onboarding__step-desc"],[3,"onClick","disabled"]],template:function(t,s){t&1&&_(0,me,8,5,"section",0),t&2&&C(s.allDone()?-1:0)},dependencies:[U,A,f,y,g],styles:["[_nghost-%COMP%]{display:block}.onboarding[_ngcontent-%COMP%]{--onboarding-bg: var(--color-bg, #fff);--onboarding-border: var(--color-border, #e0e0e0)}.onboarding__step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:var(--color-bg-secondary, #f9f9f9);border-radius:.5rem;padding:1rem;border:1px solid var(--onboarding-border);transition:background .2s}.onboarding__step--done[_ngcontent-%COMP%]{background:var(--color-success-bg, #e6ffe6);opacity:.7}.onboarding__step--disabled[_ngcontent-%COMP%]{background:var(--color-bg-disabled, #f0f0f0);opacity:.5}.onboarding__step-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.onboarding__step-label[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.onboarding__step-desc[_ngcontent-%COMP%]{font-size:.95rem;color:var(--color-text-secondary, #888)}"]})};function ue(e,i){e&1&&E(0,"lg-last-edited-recipes")}function ge(e,i){e&1&&(r(0,"lg-button",1),d(1),a(2,"translate"),o()),e&2&&(n(),c(" ",p(2,1,"main.recipes.button")," "))}function fe(e,i){e&1&&E(0,"lg-last-edited-products")}function be(e,i){e&1&&(r(0,"lg-button",3),d(1),a(2,"translate"),o()),e&2&&(K("success"),n(),c(" ",p(2,3,"main.products.button")," "))}function _e(e,i){e&1&&(r(0,"lg-card"),E(1,"lg-onboarding"),o())}var ee=class e{title="lasagna";_onboardingService=b(O);recipes=b(k).length;products=b(M).length;isOnboardingComplete=this._onboardingService.isOnboardingComplete;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-application"]],decls:15,vars:12,consts:[[3,"mobileMode","top"],["link","/recipes/add"],["link","/products/add",3,"style"],["link","/products/add"]],template:function(t,s){t&1&&(r(0,"lg-fade-in")(1,"lg-container")(2,"lg-title"),d(3),a(4,"translate"),o(),r(5,"lg-flex-row",0)(6,"lg-card"),_(7,ue,1,0,"lg-last-edited-recipes"),a(8,"async"),D(9,ge,3,3,"lg-button",1),o(),r(10,"lg-card"),_(11,fe,1,0,"lg-last-edited-products"),a(12,"async"),D(13,be,3,5,"lg-button",2),o()(),_(14,_e,2,0,"lg-card"),o()()),t&2&&(n(3),m(p(4,6,"main.title")),n(2),l("mobileMode",!0)("top",!0),n(2),C(p(8,8,s.recipes)?7:9),n(4),C(p(12,10,s.products)?11:13),n(3),C(s.isOnboardingComplete()?-1:14))},dependencies:[X,Y,f,Z,B,F,P,g,Q,A,L],styles:[".menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;display:flex;justify-content:center;flex-wrap:wrap;gap:32px}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}"]})};export{ee as ApplicationComponent};
