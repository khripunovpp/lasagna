import{a as _,c as D}from"./chunk-X3KXMY5L.js";import{a as b}from"./chunk-IMBV6HKK.js";import{b as w}from"./chunk-D2BCHPSI.js";import{a as E}from"./chunk-O7CSOEHI.js";import{a as h}from"./chunk-WQFB6RUU.js";import{a as S,b as y,c as x}from"./chunk-A5B4YQGG.js";import{a as C}from"./chunk-4ISSSXDT.js";import{a as k}from"./chunk-PU3XS3SA.js";import"./chunk-SNDQO5FA.js";import{s as u,t as v}from"./chunk-RFFWLM6I.js";import"./chunk-J66PYGJX.js";import{Ab as o,Bb as g,Ib as m,Sa as n,Vb as t,Z as l,ab as f,nb as r,qb as p,zb as e}from"./chunk-MV5CNZ6J.js";import"./chunk-DELOOZDJ.js";import{f as s}from"./chunk-2WH2EVR6.js";var R=class d{constructor(){}transferDataService=l(D);notificationsService=l(w);onBackup(){return s(this,null,function*(){let a=this.notificationsService.loading("Creating backup");try{yield this.transferDataService.exportAll("json"),this.notificationsService.success("Backup created successfully")}catch(i){this.notificationsService.showJsonErrors([JSON.stringify(i)],"Backup failed"),console.error(i)}finally{a.close()}})}onRestore(a){return s(this,null,function*(){let i=this.notificationsService.loading("Restoring backup");try{yield this.transferDataService.restoreAllData(a),this.notificationsService.success("Restore completed successfully")}catch(c){this.notificationsService.showJsonErrors([JSON.stringify(c)],"Restore failed"),console.error(c)}finally{i.close()}})}static \u0275fac=function(i){return new(i||d)};static \u0275cmp=f({type:d,selectors:[["lg-settings"]],decls:27,vars:10,consts:[["lgExpand","","routerLink","/settings/categories/products","routerLinkActive","active"],[3,"center"],["lgExpand","","routerLink","/settings/categories/recipes","routerLinkActive","active"],[3,"level"],[3,"click"],[3,"filesSelected","accept"],[2,"--card-bg","#e78888"],[3,"position"],[1,"text-center","text-inverse"]],template:function(i,c){i&1&&(e(0,"lg-fade-in")(1,"lg-container")(2,"lg-title"),t(3,"Settings"),o(),e(4,"lg-gap-row")(5,"a",0)(6,"lg-card",1),t(7," Products categories "),o()(),e(8,"a",2)(9,"lg-card",1),t(10," Recipes categories "),o()()(),e(11,"lg-title",3),t(12,"Actions"),o(),e(13,"lg-title",3),t(14,"Backup"),o(),e(15,"lg-gap-column")(16,"lg-button",4),m("click",function(){return c.onBackup()}),t(17," Make backup "),o(),e(18,"lg-upload",5),m("filesSelected",function(A){return c.onRestore(A)}),e(19,"lg-card",6)(20,"lg-gap-column",7)(21,"span",8),t(22," Be aware! "),g(23,"br"),t(24," This will override all your current settings. "),o(),e(25,"lg-button"),t(26," Restore backup "),o()()()()()()()),i&2&&(n(6),r("center",!0),n(3),r("center",!0),n(2),r("level",3),n(2),r("level",5),n(3),p("success"),n(2),r("accept",".json"),n(2),r("position","center"),n(5),p("danger"))},dependencies:[y,S,x,k,u,v,h,C,b,E,_],encapsulation:2})};export{R as SettingsComponent};
