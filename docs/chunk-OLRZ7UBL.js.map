{
  "version": 3,
  "sources": ["src/app/features/home/view/storage-quota-warning.component.ts"],
  "sourcesContent": ["import {Component, computed, inject} from '@angular/core';\nimport {StorageQuotaService} from '../service/storage-quota.service';\nimport {RouterLink} from '@angular/router';\nimport {TranslatePipe} from '@ngx-translate/core';\n\n@Component({\n  selector: 'lg-storage-quota-warning',\n  standalone: true,\n  imports: [RouterLink, TranslatePipe],\n  template: `\n    @if (shouldShow()) {\n      <a [queryParams]=\"{tab:'backup'}\"\n         [routerLink]=\"['/settings']\">\n        {{ 'quota.near-limit' | translate:{percent: percentUsed()} }}\n      </a>\n    }\n  `,\n  styles: [`\n    :host {\n      display: contents;\n    }\n\n    a {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      border: 0;\n      padding: 10px 16px;\n      cursor: pointer;\n      border-radius: 0 16px 16px 0;\n      color: var(--text-color-inverse);\n      background: linear-gradient(45deg, #ff6b6b, #ffd93d);\n      background-size: calc(100% + 70px) 100%;\n      box-shadow: 0 2px 6px rgba(0, 0, 0, .15);\n      transition: background-position 0.3s ease;\n      text-decoration: none;\n      white-space: nowrap;\n    }\n\n    a:hover {\n      background-position: -70px 0;\n    }\n\n    .overlay-actions__item--danger {\n      background: var(--button-danger-bg);\n      color: var(--button-danger-text);\n    }\n  `]\n})\nexport class StorageQuotaWarningComponent {\n  private quota = inject(StorageQuotaService).snapshot;\n\n  percentUsed = computed(() => {\n    const total = this.quota().total;\n    if (!total.quotaBytes || !total.usageBytes) return 0;\n    return Math.round((total.usageBytes / total.quotaBytes) * 100);\n  });\n\n  shouldShow = computed(() => {\n    const total = this.quota().total;\n    if (!total.quotaBytes || !total.usageBytes) return false;\n    const percent = (total.usageBytes / total.quotaBytes) * 100;\n    return percent >= 85; // show near limit\n  });\n}\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWM,IAAA,yBAAA,GAAA,KAAA,CAAA;AAEE,IAAA,iBAAA,CAAA;;AACF,IAAA,uBAAA;;;;AAHG,IAAA,qBAAA,eAAA,0BAAA,GAAA,GAAA,CAAA,EAA8B,cAAA,0BAAA,GAAA,GAAA,CAAA;AAE/B,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,sBAAA,GAAA,GAAA,oBAAA,0BAAA,GAAA,KAAA,OAAA,YAAA,CAAA,CAAA,GAAA,GAAA;;;AAoCF,IAAO,+BAAP,MAAO,8BAA4B;EAC/B,QAAQ,OAAO,mBAAmB,EAAE;EAE5C,cAAc,SAAS,MAAK;AAC1B,UAAM,QAAQ,KAAK,MAAK,EAAG;AAC3B,QAAI,CAAC,MAAM,cAAc,CAAC,MAAM;AAAY,aAAO;AACnD,WAAO,KAAK,MAAO,MAAM,aAAa,MAAM,aAAc,GAAG;EAC/D,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,cAAA,CAAA,IAAA,CAAA,CAAA;EAED,aAAa,SAAS,MAAK;AACzB,UAAM,QAAQ,KAAK,MAAK,EAAG;AAC3B,QAAI,CAAC,MAAM,cAAc,CAAC,MAAM;AAAY,aAAO;AACnD,UAAM,UAAW,MAAM,aAAa,MAAM,aAAc;AACxD,WAAO,WAAW;EACpB,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,aAAA,CAAA,IAAA,CAAA,CAAA;;qCAdU,+BAA4B;EAAA;yEAA5B,+BAA4B,WAAA,CAAA,CAAA,0BAAA,CAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,eAAA,YAAA,CAAA,GAAA,UAAA,SAAA,sCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAvCrC,MAAA,8BAAA,GAAA,qDAAA,GAAA,IAAA,KAAA,CAAA;;;AAAA,MAAA,wBAAA,IAAA,WAAA,IAAA,IAAA,EAAA;;oBAFQ,YAAY,aAAa,GAAA,QAAA,CAAA,8yBAAA,EAAA,CAAA;;;sEAyCxB,8BAA4B,CAAA;UA5CxC;uBACW,4BAA0B,YACxB,MAAI,SACP,CAAC,YAAY,aAAa,GAAC,UAC1B;;;;;;;KAOT,QAAA,CAAA,+7BAAA,EAAA,CAAA;;;;6EAiCU,8BAA4B,EAAA,WAAA,gCAAA,UAAA,iEAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
