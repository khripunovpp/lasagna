import{a as I}from"./chunk-SGRQ54KV.js";import{a as Q}from"./chunk-UKFGKW5Z.js";import{a as K}from"./chunk-FV4RUXOV.js";import{a as P}from"./chunk-BW6KPQFF.js";import{a as k}from"./chunk-IJ46JICA.js";import{a as y}from"./chunk-XTIJKHFS.js";import"./chunk-4U4Z3QUR.js";import{a as U}from"./chunk-FMODVMJQ.js";import"./chunk-MPFUNZLY.js";import{a as f}from"./chunk-UEOYHVW7.js";import{a as O,l as M,m as w}from"./chunk-6WYQITK5.js";import"./chunk-NIXUCLGK.js";import{oa as X,z as u}from"./chunk-S7GYMRNG.js";import{p as J,q as R}from"./chunk-JNPSWS74.js";import"./chunk-CABIONZL.js";import"./chunk-EMIJRNYJ.js";import{j as q,o as G}from"./chunk-FO7Q5A2R.js";import{$a as n,Bc as a,Cc as p,Db as _,Eb as C,Hb as v,Ib as x,Jb as l,Kb as o,Lb as r,Lc as B,Mb as E,Qb as V,Ub as W,Vb as A,ea as b,eb as S,fc as H,ic as d,jc as c,kc as m,la as $,lb as g,ma as j,va as h,xc as T}from"./chunk-7BND6AGV.js";import"./chunk-2RGDSI3Q.js";import"./chunk-FK6H3RFT.js";import"./chunk-C6Q5SG76.js";var ee=t=>["/recipes/edit/",t],te=(t,i)=>i.recipe.uuid;function ie(t,i){if(t&1&&(o(0,"lg-flex-row",2)(1,"a",4),d(2),r(),o(3,"small",5),d(4),a(5,"timeAgo"),r()()),t&2){let e=i.$implicit;l("center",!0)("size","medium")("mobileMode",!0),n(),l("routerLink",T(8,ee,e.recipe.uuid)),n(),m(" ",e.recipe.name," "),n(2),m(" ",p(5,6,e==null?null:e.updatedAt)," ")}}function ne(t,i){t&1&&(o(0,"div",3),d(1),a(2,"translate"),r()),t&2&&(n(),m(" ",p(2,1,"no-recipes")," "))}var L=class t{constructor(i){this._recipesRepository=i}recipes=h([]);ngOnInit(){this._recipesRepository.getLastRecipes().then(i=>{this.recipes.set(i)})}static \u0275fac=function(e){return new(e||t)(S(w))};static \u0275cmp=g({type:t,selectors:[["lg-last-edited-recipes"]],decls:8,vars:6,consts:[[3,"level"],[3,"size"],[3,"center","size","mobileMode"],[1,"last-edited-recipe-name"],[1,"last-edited-recipe",3,"routerLink"],["lgPull","",1,"text-muted","text-cursive"]],template:function(e,s){e&1&&(o(0,"lg-flex-column")(1,"lg-title",0),d(2),a(3,"translate"),r(),o(4,"lg-flex-column",1),v(5,ie,6,10,"lg-flex-row",2,te,!1,ne,3,3,"div",3),r()()),e&2&&(n(),l("level",4),n(),c(p(3,4,"main.last-recipes")),n(2),l("size","medium"),n(),x(s.recipes()))},dependencies:[y,R,f,k,P,I,u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%}"]})};var oe=t=>["/products/edit/",t],re=(t,i)=>i.product.uuid;function ae(t,i){if(t&1&&(o(0,"lg-flex-row",3)(1,"a",5),d(2),r(),o(3,"small",6),d(4),a(5,"timeAgo"),r()()),t&2){let e=i.$implicit;l("center",!0)("size","medium")("mobileMode",!0),n(),l("routerLink",T(8,oe,e.product.uuid)),n(),m(" ",e.product.name," "),n(2),m(" ",p(5,6,e==null?null:e.updatedAt)," ")}}function pe(t,i){t&1&&(o(0,"div",4),d(1),a(2,"translate"),r()),t&2&&(n(),m(" ",p(2,1,"no-products")," "))}var D=class t{constructor(i){this._productsRepository=i}products=h([]);ngOnInit(){this._productsRepository.getLastProducts().then(i=>{this.products.set(i)})}static \u0275fac=function(e){return new(e||t)(S(M))};static \u0275cmp=g({type:t,selectors:[["lg-last-edited-products"]],decls:9,vars:6,consts:[[3,"level"],[1,"last-edited-recipes"],[3,"size"],[3,"center","size","mobileMode"],[1,"last-edited-recipe-name"],[1,"last-edited-product",3,"routerLink"],["lgPull","",1,"text-muted","text-cursive"]],template:function(e,s){e&1&&(o(0,"lg-flex-column")(1,"lg-title",0),d(2),a(3,"translate"),r(),o(4,"div",1)(5,"lg-flex-column",2),v(6,ae,6,10,"lg-flex-row",3,re,!1,pe,3,3,"div",4),r()()()),e&2&&(n(),l("level",4),n(),c(p(3,4,"main.last-products")),n(3),l("size","medium"),n(),x(s.products()))},dependencies:[y,R,f,k,P,I,u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%}"]})};var de=(t,i)=>i.key;function le(t,i){if(t&1){let e=V();o(0,"div",5)(1,"div",6)(2,"span",7),d(3),a(4,"translate"),r(),o(5,"span",8),d(6),a(7,"translate"),r()(),o(8,"lg-button",9),W("onClick",function(){let Z=$(e).$implicit;return j(Z.action())}),d(9),a(10,"translate"),a(11,"translate"),a(12,"translate"),r()()}if(t&2){let e=i.$implicit,s=A(2);H("onboarding__step--done",e.done)("onboarding__step--disabled",!e.done&&!s.isCurrentStep(e)),n(3),c(p(4,8,e.label)),n(3),c(p(7,10,e.description)),n(2),l("disabled",!e.done&&!s.isCurrentStep(e)),n(),m(" ",e.done?p(10,12,"onboarding.done"):s.isCurrentStep(e)?p(11,14,"onboarding.go"):p(12,16,"onboarding.unavailable")," ")}}function se(t,i){if(t&1&&(o(0,"section",0)(1,"lg-flex-column")(2,"lg-title",1),d(3),a(4,"translate"),r(),o(5,"p",2),d(6," Hello! Welcome to Lasagna! To get better know the app, please complete the following steps. "),r(),o(7,"lg-flex-column",3),v(8,le,13,18,"div",4,de),r()()()),t&2){let e=A();n(2),l("level",4),n(),c(p(4,3,"onboarding.title")),n(4),l("size","medium"),n(),x(e.steps())}}var F=class t{_router=b(J);_onboarding=b(O);steps=B(()=>[{key:"settings",label:"onboarding.settings.label",description:"onboarding.settings.description",done:this._onboarding.isSettingsDone(),action:()=>this.goToSettings()},{key:"product",label:"onboarding.product.label",description:"onboarding.product.description",done:this._onboarding.isProductDone(),action:()=>this.goToAddProduct()},{key:"recipe",label:"onboarding.recipe.label",description:"onboarding.recipe.description",done:this._onboarding.isRecipeDone(),action:()=>this.goToAddRecipe()}]);currentStep=B(()=>this.steps().find(i=>!i.done));allDone=this._onboarding.isOnboardingComplete;isCurrentStep(i){return!i.done&&i.key===this.currentStep()?.key}goToSettings(){this._router.navigate(["/settings"])}goToAddProduct(){this._router.navigate(["/products/add"])}goToAddRecipe(){this._router.navigate(["/recipes/add"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["lg-onboarding"]],decls:1,vars:1,consts:[[1,"onboarding"],[3,"level"],[1,"no-margin"],[3,"size"],[1,"onboarding__step",3,"onboarding__step--done","onboarding__step--disabled"],[1,"onboarding__step"],[1,"onboarding__step-content"],[1,"onboarding__step-label"],[1,"onboarding__step-desc"],[3,"onClick","disabled"]],template:function(e,s){e&1&&_(0,se,10,5,"section",0),e&2&&C(s.allDone()?-1:0)},dependencies:[G,X,f,y,u],styles:["[_nghost-%COMP%]{display:block}.onboarding[_ngcontent-%COMP%]{--onboarding-bg: var(--color-bg, var(--onboarding-bg));--onboarding-border: var(--color-border, var(--onboarding-border))}.onboarding__step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:var(--color-bg-secondary, var(--onboarding-bg-secondary));border-radius:.5rem;padding:1rem;border:1px solid var(--onboarding-border);transition:background .2s}.onboarding__step--done[_ngcontent-%COMP%]{background:var(--color-success-bg, var(--onboarding-success-bg));opacity:.7}.onboarding__step--disabled[_ngcontent-%COMP%]{background:var(--color-bg-disabled, var(--onboarding-bg-disabled));opacity:.5}.onboarding__step-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.onboarding__step-label[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.onboarding__step-desc[_ngcontent-%COMP%]{font-size:.95rem;color:var(--color-text-secondary, var(--onboarding-text-secondary))}"]})};function ce(t,i){t&1&&(o(0,"lg-card"),E(1,"lg-onboarding"),r())}function me(t,i){t&1&&(o(0,"lg-card"),E(1,"lg-last-edited-recipes"),r())}function ge(t,i){t&1&&(o(0,"lg-card"),E(1,"lg-last-edited-products"),r())}var Y=class t{title="lasagna";_onboardingService=b(O);recipes=b(w).length;products=b(M).length;isOnboardingComplete=this._onboardingService.isOnboardingComplete;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-application"]],decls:11,vars:13,consts:[["cols","2",3,"mobileMode","top","wrap"]],template:function(e,s){e&1&&(o(0,"lg-fade-in")(1,"lg-container")(2,"lg-title"),d(3),a(4,"translate"),r(),_(5,ce,2,0,"lg-card"),o(6,"lg-flex-row",0),_(7,me,2,0,"lg-card"),a(8,"async"),_(9,ge,2,0,"lg-card"),a(10,"async"),r()()()),e&2&&(n(3),c(p(4,7,"main.title")),n(2),C(s.isOnboardingComplete()?-1:5),n(),l("mobileMode",!0)("top",!0)("wrap",!0),n(),C(p(8,9,s.recipes)?7:-1),n(2),C(p(10,11,s.products)?9:-1))},dependencies:[K,Q,f,U,L,D,P,u,q,F],styles:[".menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;display:flex;justify-content:center;flex-wrap:wrap;gap:32px}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}"]})};export{Y as ApplicationComponent};
