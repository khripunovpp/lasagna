import{a as w}from"./chunk-VPI3UFS2.js";import"./chunk-CQDQLFXT.js";import{a as V,c as B,d as G}from"./chunk-4TGB4FSH.js";import{a as P,b as A}from"./chunk-PVSGR3WZ.js";import{a as j}from"./chunk-TG44ZCI4.js";import{a as $}from"./chunk-X6AQQZRC.js";import{a as U}from"./chunk-QC6HSGGS.js";import"./chunk-HLUOBQIS.js";import{a as e}from"./chunk-3EENQPAB.js";import"./chunk-2XBDGHLZ.js";import"./chunk-BZLRTCBN.js";import{a as L,d as M}from"./chunk-T5OOR2YZ.js";import"./chunk-ZDTDYXDD.js";import{a as N}from"./chunk-TTH7B7VT.js";import{a as z,c as F}from"./chunk-XRFFTXPM.js";import{Ea as b,Ga as R,Ha as v,Ia as a,Ja as r,Ka as h,Oa as D,Pa as u,Qa as f,U as C,V as S,Z as x,Zb as E,ab as c,ac as k,bb as y,cb as T,ia as o,la as s,na as I,ra as g,wa as p,za as m}from"./chunk-FL5UAJ26.js";var J=e.object({uuid:e.string().optional(),name:e.string().min(1).optional(),description:e.string().optional(),ingredients:e.array(e.object({name:e.string().min(1).optional(),uuid:e.string().optional(),amount:e.union([e.string(),e.number()]).optional(),product_id:e.string().optional(),recipe_id:e.string().optional(),unit:e.string().optional()})),outcome_amount:e.union([e.string(),e.number()]).optional(),outcome_unit:e.string().optional(),taxTemplateName:e.string().optional(),category_id:e.string().optional()});var q=(i,n)=>n==null?null:n.category;function H(i,n){if(i&1&&(a(0,"span"),c(1),r()),i&2){let t=n.$implicit;o(),y(t==null?null:t.name)}}function K(i,n){if(i&1){let t=D();a(0,"lg-gap-row",0)(1,"div",7)(2,"a",8),c(3),r()(),a(4,"lg-button",9),c(5," Calculate "),r(),a(6,"lg-button",10),u("click",function(){C(t);let d=f().$implicit,_=f(2);return S(_.deleteRecipe(d))}),h(7,"mat-icon",11),r()()}if(i&2){let t=f().$implicit;p("center",!0),o(2),p("routerLink","/recipes/edit/"+t.uuid),o(),y(t.name),o(),m("primary"),p("size","small")("link","/recipes/calculate/"+t.uuid)("flat",!0),o(2),m("danger"),p("size","small")("icon",!0)}}function Q(i,n){i&1&&g(0,K,8,12,"ng-template",6)}function W(i,n){if(i&1&&(a(0,"lg-title",5),c(1),r(),a(2,"lg-card-list"),R(3,Q,1,0,null,6,b),r()),i&2){let t=n.$implicit;p("level",3),o(),T(" ",(t==null?null:t.category)||"Uncategorized"," "),o(2),v(t.recipes)}}function X(i,n){i&1&&(a(0,"lg-gap-row",0)(1,"lg-title",5),c(2," No recipes found "),r()()),i&2&&(p("center",!0),o(),p("level",5))}var O=class i{constructor(n,t,l,d){this._activatedRoute=n;this._recipesRepository=t;this._notificationsService=l;this._transferDataService=d;this._activatedRoute.data.pipe($()).subscribe(_=>{this.recipes.set(_.list)})}recipes=x([]);Stores=L;RecipeDbInputScheme=J;deleteRecipe(n){this._recipesRepository.deleteRecipe(n.uuid).then(()=>{this.loadRecipes(),this._notificationsService.success("Recipe deleted")})}loadRecipes(){this._recipesRepository.getRecipes().then(n=>{this.recipes.set(n)})}exportRecipes(){this._transferDataService.exportTable("recipesStore","json")}static \u0275fac=function(t){return new(t||i)(s(E),s(w),s(U),s(G))};static \u0275cmp=I({type:i,selectors:[["lg-recipes-list"]],decls:13,vars:13,consts:[[3,"center"],[3,"flat","link","size"],[3,"click","flat","size"],[3,"onDone","schema","storeName"],["lgImportRowTpl",""],[3,"level"],["lgCardListItem",""],[1,"expand"],[3,"routerLink"],[3,"size","link","flat"],[3,"click","size","icon"],["aria-hidden","false","aria-label","Example home icon","fontIcon","close"]],template:function(t,l){t&1&&(a(0,"lg-container")(1,"lg-gap-row",0)(2,"lg-title"),c(3," Recipes "),r(),a(4,"lg-button",1),c(5," Add "),r(),a(6,"lg-button",2),u("click",function(){return l.exportRecipes()}),c(7," Export "),r(),a(8,"lg-import",3),u("onDone",function(){return l.loadRecipes()}),g(9,H,2,1,"ng-template",4),r()(),R(10,W,5,2,null,null,q,!1,X,3,2,"lg-gap-row",0),r()),t&2&&(o(),p("center",!0),o(3),m("primary"),p("flat",!0)("link","/recipes/add")("size","small"),o(2),m("info"),p("flat",!0)("size","small"),o(2),p("schema",l.RecipeDbInputScheme)("storeName",l.Stores.RECIPES),o(2),v(l.recipes()))},dependencies:[N,M,k,j,z,F,A,P,B,V],styles:["[_nghost-%COMP%]{display:block}"]})};export{O as RecipesListComponent};
