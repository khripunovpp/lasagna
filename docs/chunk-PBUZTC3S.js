import{a as Qe}from"./chunk-PLSDI45O.js";import{a as Ie}from"./chunk-Q45MNEMI.js";import{a as He,b as Ke}from"./chunk-44CGF4BV.js";import{a as ee}from"./chunk-SWZ37IPE.js";import"./chunk-ABBJH3Q4.js";import{a as Y,b as Z}from"./chunk-6AFDTC2Q.js";import{a as $e,b as Ue,c as Je}from"./chunk-2PNTZ6X2.js";import"./chunk-T3OWWN6A.js";import{a as Q,b as We}from"./chunk-JAG6QPDF.js";import"./chunk-ZD7QV46A.js";import{a as De,b as Ne,e as V,f as Oe,g as ce,h as A,i as U,k as Be,l as Ge,m as Le,n as ze,o as Pe,p as J,q as je}from"./chunk-AJ3UBX7E.js";import{a as q}from"./chunk-MCS5HOGQ.js";import{c as X,d as te}from"./chunk-KZEI6RKT.js";import{a as Ae,b as $}from"./chunk-VLWAUHYT.js";import{$a as c,$b as Ve,Ab as Se,Ca as g,Da as x,Ea as ge,Ga as W,Ha as H,Ia as a,Ib as ke,Ja as r,Ka as F,Kb as Re,L as me,La as xe,M as se,Ma as fe,Mb as Ee,Na as b,Oa as S,Pa as _,Qa as s,Ra as M,Sa as I,U as u,V as d,Vb as Fe,Ya as he,Yb as Me,Z as y,Za as Te,_a as h,ab as k,bb as f,db as O,eb as B,fb as G,gb as we,ia as o,ib as ve,la as j,lb as R,na as w,nb as E,ob as L,pa as ue,ra as T,sb as ye,tb as pe,va as de,wa as p,wb as K,xa as _e,xb as z,ya as Ce,yb as be,za as v}from"./chunk-7BPNVVWP.js";var et=["*"],ne=class n{constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["lg-table-card"]],ngContentSelectors:et,decls:4,vars:1,consts:[[3,"flat"],[1,"table"],[1,"table__scroll"]],template:function(e,i){e&1&&(M(),a(0,"lg-card",0)(1,"div",1)(2,"div",2),I(3),r()()()),e&2&&p("flat",!0)},dependencies:[Ae],styles:[`:host{display:flex;width:100%}.table__scroll{overflow-x:auto}table{width:100%;border-collapse:collapse;--border-color: #efefef}table thead tr{border-bottom:1px solid var(--border-color)}table thead th{text-align:left;padding:16px 24px;opacity:.4;font-size:.8em}table tbody tr{border-bottom:1px solid var(--border-color)}table tbody tr:last-child{border-bottom:none}td{padding:16px 24px}
`],encapsulation:2})};var tt=["*"];function nt(n,t){if(n&1&&c(0),n&2){let e=s();f(" ",e.customMark()," ")}}var oe=class n{constructor(){}value=!1;customMark=z("");onKeydown(t){t.preventDefault(),this.onChangeCheckbox(!this.value)}onCheckboxChanged=K();onChange=()=>{};onTouched=()=>{};writeValue(t){this._change(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onChangeCheckbox(t){this._change(t)}_change(t){this.value=t,this.onChange(this.value),this.onCheckboxChanged.emit(this.value)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["lg-checkbox"]],hostBindings:function(e,i){e&1&&_("keydown.enter",function(m){return i.onKeydown(m)})("keydown.space",function(m){return i.onKeydown(m)})},inputs:{customMark:[1,"customMark"]},outputs:{onCheckboxChanged:"onCheckboxChanged"},features:[we([{provide:De,useExisting:me(()=>n),multi:!0}])],ngContentSelectors:tt,decls:5,vars:2,consts:[["tabindex","0",1,"lg-checkbox"],["type","checkbox",1,"checkbox",3,"ngModelChange","ngModel"],[1,"lg-checkbox__mark"]],template:function(e,i){e&1&&(M(),a(0,"label",0)(1,"input",1),_("ngModelChange",function(m){return i.onChangeCheckbox(m)}),r(),a(2,"span",2),g(3,nt,1,1),r(),I(4),r()),e&2&&(o(),p("ngModel",i.value),o(2),x(i.customMark()?3:-1))},dependencies:[J,Ne,V,U],styles:[`.lg-checkbox{display:flex;border-radius:12px}.lg-checkbox:focus-within{outline-color:var(--active-color)}.lg-checkbox__mark{display:flex;align-items:center;justify-content:center;width:51px;height:51px;border-radius:12px;background-color:var(--control-bg);opacity:.2;cursor:pointer;transition:all .2s ease-in-out}.lg-checkbox__mark:hover{opacity:1}.checkbox{display:none}.checkbox:checked+.lg-checkbox__mark{background-color:var(--control-bg-selected);opacity:1;font-weight:700}
`],encapsulation:2})};var ae=class n{constructor(){}selfAlign="center";static \u0275fac=function(e){return new(e||n)};static \u0275dir=ue({type:n,selectors:[["","lgSelfCenter",""]],hostVars:2,hostBindings:function(e,i){e&2&&_e("align-self",i.selfAlign)}})};var it=(n,t)=>t.value.name;function ot(n,t){if(n&1){let e=S();a(0,"section",6)(1,"div",7)(2,"lg-gap-row",8)(3,"small"),c(4,"Apply for all"),r(),a(5,"lg-control",9),F(6,"lg-input",10),r(),a(7,"lg-control",9),F(8,"lg-textarea",11),r(),a(9,"lg-control",9)(10,"lg-number-input",12),_("onInputChange",function(){u(e);let l=s().$index,m=s();return d(m.onTaxValueChange(l))}),r()(),a(11,"lg-control",9)(12,"lg-checkbox",13),_("onCheckboxChanged",function(){u(e);let l=s().$index,m=s();return d(m.onTaxValueChange(l))}),r()(),a(13,"lg-control",9),F(14,"lg-number-input",14),r(),a(15,"lg-button",15),_("click",function(){u(e);let l=s().$index,m=s();return d(m.deleteTxRow(l))}),F(16,"mat-icon",16),r()()()()}if(n&2){let e=s().$index;p("formGroupName",e),o(),Ce("taxes__row--odd",e%2!==0),o(),p("bottom",!0)("fit",!0),o(3),p("label","Name"),o(),p("placeholder","Name"),o(),p("label","Description"),o(),p("rows",3)("placeholder","Description"),o(),p("label","Value"),o(),p("placeholder","Value"),o(),p("label","Use percentage"),o(),p("customMark","%"),o(),p("label","Amount"),o(),p("disabled",!0)("placeholder","Amount"),o(),v("danger"),p("size","small")("icon",!0)}}function at(n,t){n&1&&T(0,ot,17,21,"ng-template",2)}var N=class n{constructor(){}totalTaxesChanged=K();rows=z([]);total=z(0);taxesForm=new ce({rows:new Pe([this._getRowGroup()])});rowsEffect=pe(()=>{this._rowsFormArray.clear(),this.rows().forEach((t,e)=>{this._rowsFormArray.push(this._getRowGroup(t))})});totalTaxes=y(0);totalEffect=pe(()=>{this._recalculateTaxes()});formValues=this.taxesForm.valueChanges.pipe(ee());get _rowsFormArray(){return this.taxesForm.get("rows")}ngOnInit(){this.formValues.subscribe(t=>{this.totalTaxes.set(this._getTotalTaxes()),this.totalTaxesChanged.emit(this.totalTaxes())})}onTaxValueChange(t){let e=this._rowsFormArray.at(t),i=this._getAmount(e.value.value,e.value.percentage);e.get("amount")?.patchValue(i.toFixed(2))}deleteTxRow(t){this._rowsFormArray.removeAt(t)}addTxRow(){this._rowsFormArray.push(this._getRowGroup())}_getTotalTaxes(){return this._rowsFormArray.controls.reduce((t,e)=>{let i=parseFloat(e.get("amount")?.value);return t+(isNaN(i)?0:i)},0)}_getAmount(t,e){let i=parseFloat(t.toString());return e?i*this.total():i}_recalculateTaxes(t=!1){this._rowsFormArray.controls.forEach((e,i)=>{let l=this._getAmount(e.get("value")?.value,e.get("percentage")?.value);e.get("amount")?.patchValue(l.toFixed(2),{emitEvent:!t})})}_getRowGroup(t=null){return new ce({name:new A(t?.name||""),description:new A(t?.description||""),value:new A(t?.value||0),amount:new A(0),percentage:new A(t?.percentage||!1)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["lg-taxes-and-fees-list"]],inputs:{rows:[1,"rows"],total:[1,"total"]},outputs:{totalTaxesChanged:"totalTaxesChanged"},decls:12,vars:6,consts:[[3,"formGroup"],["formArrayName","rows"],["lgCardListItem",""],[3,"level"],[3,"center","mobileMode","relaxed"],["lgSelfCenter","","lgShrink","",3,"click"],[1,"taxes",3,"formGroupName"],[1,"taxes__row"],[3,"bottom","fit"],[3,"label"],["formControlName","name",3,"placeholder"],["formControlName","description",3,"rows","placeholder"],["lgParseMath","","formControlName","value",3,"onInputChange","placeholder"],["formControlName","percentage",3,"onCheckboxChanged","customMark"],["formControlName","amount",3,"disabled","placeholder"],["lgSelfCenter","","lgShrink","",3,"click","size","icon"],["aria-hidden","false","aria-label","Example home icon","fontIcon","close"]],template:function(e,i){e&1&&(a(0,"lg-gap-column")(1,"lg-card-list",0),xe(2,1),W(3,at,1,0,null,2,it),fe(),r(),a(5,"lg-title",3)(6,"lg-gap-row",4),c(7," Total taxes and fees "),a(8,"b"),c(9),r()()(),a(10,"lg-button",5),_("click",function(){return i.addTxRow()}),c(11," Add tax "),r()()),e&2&&(o(),p("formGroup",i.taxesForm),o(2),H(i.taxesForm.controls.rows.controls),o(2),p("level",4),o(),p("center",!0)("mobileMode",!0)("relaxed",!0),o(3),k(i.totalTaxes()))},dependencies:[Ue,$e,te,je,V,Oe,Be,ze,Ge,Le,We,Q,oe,Y,X,Je,ae,Qe,q,Z,$,He],styles:[".taxes__row--odd[_ngcontent-%COMP%]{--control-bg: #fff}"]})};var lt=["*"];function rt(n,t){n&1&&I(0)}var le=class n{constructor(){}showed=y(!1);get hidden(){return this.showed()?null:!0}show=()=>{this.showed.set(!0)};hide=()=>{this.showed.set(!1)};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["lg-view-show"]],hostVars:1,hostBindings:function(e,i){e&2&&de("hidden",i.hidden)},ngContentSelectors:lt,decls:1,vars:1,template:function(e,i){e&1&&(M(),g(0,rt,1,0)),e&2&&x(i.showed()?0:-1)},encapsulation:2})};var re=class n{constructor(){}getTemplates(t){let e=localStorage.getItem(this.getStorageKey(t));return e?JSON.parse(e):[]}getTemplateById(t,e){return this.getTemplates(t).find(l=>l.id===e)}getTemplateByName(t,e){return this.getTemplates(t).find(l=>l.name===e)}saveTemplate(t,e){let i=this.getTemplates(t);i.push(e),this._storeTemplates(t,i)}deleteTemplate(t,e){let i=this.getTemplates(t).filter(l=>l.id!==e);this._storeTemplates(t,i)}updateTemplate(t,e){let i=this.getTemplates(t).map(l=>l.id===e.id?e:l);this._storeTemplates(t,i)}getStorageKey(t){return`template-${t}`}_storeTemplates(t,e){localStorage.setItem(this.getStorageKey(t),JSON.stringify(e))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var ct=(n,t)=>[n,t];function mt(n,t){n&1&&b(0)}function st(n,t){n&1&&b(0)}function ut(n,t){n&1&&b(0)}function dt(n,t){if(n&1){let e=S();a(0,"lg-gap-row",15)(1,"lg-gap-row",16)(2,"div"),c(3," Calculation outcome: "),r(),a(4,"div")(5,"lg-number-input",17),G("ngModelChange",function(l){u(e);let m=s(2);return B(m.outcome_amount,l)||(m.outcome_amount=l),d(l)}),_("onInputChange",function(l){u(e);let m=s(2);return d(m.onOutcomeChange(l))}),r()(),a(6,"b"),c(7),r()(),a(8,"lg-gap-row",18)(9,"div"),c(10," one "),a(11,"b"),c(12),r()(),a(13,"div"),c(14," costs: "),T(15,mt,1,0,"ng-container",19),c(16," ( "),T(17,st,1,0,"ng-container",19),c(18," + "),T(19,ut,1,0,"ng-container",19),c(20," of taxes and fees) "),r()()()}if(n&2){let e,i,l=s(2),m=h(11),C=h(13),P=h(15);p("fit",!0)("center",!0)("mobileMode",!0),o(),p("size","small")("center",!0),o(4),O("ngModel",l.outcome_amount),p("placeholder","Amount"),o(2),f(" ",(e=l.result())==null||e.recipe==null?null:e.recipe.outcome_unit," "),o(),p("size","small")("mobileMode",!0),o(4),f(" ",(i=l.result())==null||i.recipe==null?null:i.recipe.outcome_unit," "),o(3),p("ngTemplateOutlet",P),o(2),p("ngTemplateOutlet",C),o(2),p("ngTemplateOutlet",m)}}function _t(n,t){n&1&&b(0)}function Ct(n,t){n&1&&b(0)}function gt(n,t){n&1&&b(0)}function xt(n,t){n&1&&b(0)}function ft(n,t){if(n&1){let e=S();a(0,"lg-gap-row",16)(1,"div"),c(2," Calculation outcome: "),r(),a(3,"div")(4,"lg-number-input",17),G("ngModelChange",function(l){u(e);let m=s(2);return B(m.outcome_amount,l)||(m.outcome_amount=l),d(l)}),_("onInputChange",function(l){u(e);let m=s(2);return d(m.onOutcomeChange(l))}),r()(),a(5,"div"),c(6," costs: "),T(7,_t,1,0,"ng-container",19),c(8," ( "),T(9,Ct,1,0,"ng-container",19),c(10," + "),T(11,gt,1,0,"ng-container",19),c(12," of taxes and fees) "),r(),a(13,"div"),c(14," per gram: "),T(15,xt,1,0,"ng-container",19),r()()}if(n&2){let e=s(2),i=h(11),l=h(13),m=h(15),C=h(17);p("size","small")("center",!0),o(4),O("ngModel",e.outcome_amount),p("placeholder","Amount"),o(3),p("ngTemplateOutlet",m),o(2),p("ngTemplateOutlet",l),o(2),p("ngTemplateOutlet",i),o(4),p("ngTemplateOutlet",C)}}function ht(n,t){if(n&1&&(a(0,"lg-gap-row",8),g(1,dt,21,14,"lg-gap-row",15)(2,ft,16,8,"lg-gap-row",16),r()),n&2){let e=s();p("center",!0),o(),x(e.notInGrams()?1:2)}}function Tt(n,t){if(n&1&&(c(0),R(1,"number")),n&2){let e=s(2);f(" ",E(1,1,e.totalTaxes()/e.showedOutcome(),"1.2-2")," ")}}function wt(n,t){if(n&1&&(c(0),R(1,"number")),n&2){let e=s(2);f(" ",E(1,1,e.totalTaxes(),"1.2-2")," ")}}function vt(n,t){if(n&1&&g(0,Tt,2,4)(1,wt,2,4),n&2){let e=s();x(e.notInGrams()?0:1)}}function yt(n,t){if(n&1&&(c(0),R(1,"number")),n&2){let e,i=s(2);f(" ",E(1,1,(((e=i.result())==null?null:e.total)||1)/(i.showedOutcome()||1),"1.2-2")," ")}}function bt(n,t){if(n&1&&(c(0),R(1,"number")),n&2){let e,i=s(2);f(" ",E(1,1,(e=i.result())==null?null:e.total,"1.2-2")," ")}}function St(n,t){if(n&1&&g(0,yt,2,4)(1,bt,2,4),n&2){let e=s();x(e.notInGrams()?0:1)}}function kt(n,t){if(n&1&&(c(0),R(1,"number")),n&2){let e,i=s(2);f(" ",E(1,1,((((e=i.result())==null?null:e.total)||1)+i.totalTaxes())/(i.showedOutcome()||1),"1.2-2")," ")}}function Rt(n,t){if(n&1&&(c(0),R(1,"number")),n&2){let e,i=s(2);f(" ",E(1,1,(((e=i.result())==null?null:e.total)||1)+i.totalTaxes(),"1.2-2")," ")}}function Et(n,t){if(n&1&&g(0,kt,2,4)(1,Rt,2,4),n&2){let e=s();x(e.notInGrams()?0:1)}}function Ft(n,t){}function Mt(n,t){if(n&1&&(c(0),R(1,"number")),n&2){let e,i=s(2);f(" ",E(1,1,((((e=i.result())==null?null:e.total)||1)+i.totalTaxes())/i.outcome_amount(),"1.2-2")," ")}}function It(n,t){if(n&1&&g(0,Ft,0,0)(1,Mt,2,4),n&2){let e=s();x(e.notInGrams()?0:1)}}function Vt(n,t){if(n&1&&(a(0,"a",26),c(1),r()),n&2){let e=s().$implicit;p("routerLink",ve(2,ct,e.type==="recipe-row"?"/edit-recipe/":"/edit-product/",e.uuid)),o(),f(" ",e.name," ")}}function At(n,t){if(n&1&&c(0),n&2){let e=s().$implicit;f(" ",e.name," ")}}function Dt(n,t){if(n&1&&(a(0,"tr",25)(1,"td"),c(2),r(),a(3,"td")(4,"span",25),g(5,Vt,2,5,"a",26)(6,At,1,1),r()(),a(7,"td"),c(8),r(),a(9,"td"),c(10),r(),a(11,"td"),c(12),r(),a(13,"td"),c(14),r()()),n&2){let e=t.$implicit,i=t.$index;p("ngClass",e.type),o(2),k(i+1),o(2),p("ngClass","indent-"+e.indent),o(),x(e.type!=="total"?5:6),o(3),k(e.amount),o(2),k(e.unit),o(2),k(e.price_per_gram),o(2),k(e.total)}}function Nt(n,t){if(n&1&&(a(0,"table")(1,"colgroup"),F(2,"col",20)(3,"col",21)(4,"col",22)(5,"col",23)(6,"col",22)(7,"col",24),r(),a(8,"thead")(9,"tr")(10,"th"),c(11,"#"),r(),a(12,"th"),c(13,"Name"),r(),a(14,"th"),c(15,"Amount"),r(),a(16,"th"),c(17,"Unit"),r(),a(18,"th"),c(19,"Price per unit"),r(),a(20,"th"),c(21,"Total"),r()()(),a(22,"tbody"),W(23,Dt,15,8,"tr",25,ge),r()()),n&2){let e,i=s();o(23),H((e=i.result())==null?null:e.result)}}function Ot(n,t){n&1&&(a(0,"div"),c(1,"Loading..."),r())}function Bt(n,t){if(n&1){let e=S();a(0,"lg-button",13),_("click",function(){u(e),s();let l=h(27);return d(l.show())}),c(1," Save as template "),r()}n&2&&(v("primary"),p("flat",!0)("size","small"))}function Gt(n,t){if(n&1){let e=S();a(0,"lg-button",13),_("click",function(){u(e),s();let l=h(37);return d(l.show())}),c(1," Apply template "),r()}n&2&&(v("warning"),p("flat",!0)("size","small"))}var Xe=class n{constructor(t,e,i){this._aRoute=t;this._calculateRecipeService=e;this._formTemplateService=i;this._aRoute.data.pipe(ee()).subscribe(l=>{this.result.set(l.result),this.outcome_amount.set(l.result?.recipe?.outcome_amount||0),this.showedOutcome.set(l.result?.recipe?.outcome_amount||0),this.loadDefaultTaxTemplate()})}uuid=Ke("uuid");result=y(null);outcome_amount=Se(0);showedOutcome=y(0);totalTaxes=y(0);notInGrams=ye(()=>this.result()?.recipe?.outcome_unit&&this.result()?.recipe?.outcome_unit!=="gram");taxesComponent=be(N);tax_template_name="";taxRows=y([]);onOutcomeChange=t=>{this._calculateRecipeService.calculateRecipe(this.uuid(),t).then(e=>{this.result.set(e),this.showedOutcome.set(t)})};saveTaxTemplate(){this._formTemplateService.saveTemplate("tax",{name:this.tax_template_name,createdAt:new Date().toISOString(),id:new Date().toISOString(),data:this.taxesComponent()?.taxesForm.value.rows?.map(t=>({name:t.name,description:t.description,value:t.value,percentage:t.percentage}))||[]})}saveDefaultTaxTemplate(){this._formTemplateService.saveTemplate("tax",{name:"Default Tax Template",createdAt:new Date().toISOString(),id:new Date().toISOString(),data:this.taxesComponent()?.taxesForm.value.rows?.map(t=>({name:t.name,description:t.description,value:t.value,percentage:t.percentage}))||[]})}loadDefaultTaxTemplate(){let t=this._formTemplateService.getTemplateByName("tax","Default Tax Template");t&&this.taxRows.set(t.data.map(e=>({name:e.name,description:e.description,value:e.value,percentage:e.percentage})))}loadTaxTemplate(){let t=this._formTemplateService.getTemplateByName("tax",this.tax_template_name);t&&this.taxRows.set(t.data.map(e=>({name:e.name,description:e.description,value:e.value,percentage:e.percentage})))}ngOnInit(){}onTotalTaxesChanged=t=>{this.totalTaxes.set(t)};static \u0275fac=function(e){return new(e||n)(j(Fe),j(Ie),j(re))};static \u0275cmp=w({type:n,selectors:[["lg-calculate-recipe"]],viewQuery:function(e,i){e&1&&he(i.taxesComponent,N,5),e&2&&Te()},inputs:{outcome_amount:[1,"outcome_amount"]},outputs:{outcome_amount:"outcome_amountChange"},decls:43,vars:43,consts:[["taxAmount",""],["rawAmount",""],["totalAmount",""],["perGramAmount",""],["taxSaveTemplateForm",""],["taxTemplateForm",""],[3,"center","mobileMode"],[3,"flat","link","size"],[3,"center"],[3,"flat","size","style"],[2,"--control-bg","white"],[3,"center","size"],[3,"ngModelChange","ngModel","placeholder"],[3,"click","flat","size"],[3,"totalTaxesChanged","rows","total"],[2,"--control-bg","white",3,"fit","center","mobileMode"],[3,"size","center"],["lgParseMath","",3,"ngModelChange","onInputChange","ngModel","placeholder"],[3,"size","mobileMode"],[4,"ngTemplateOutlet"],["span","1",2,"width","1%"],["span","1",2,"width","20%"],["span","1",2,"width","5%"],["span","1",2,"width","3%"],["span","1",2,"width","7%"],[3,"ngClass"],["target","_blank",3,"routerLink"]],template:function(e,i){if(e&1){let l=S();a(0,"lg-container")(1,"lg-gap-column")(2,"lg-gap-row",6)(3,"lg-title"),c(4),r(),a(5,"lg-button",7),c(6," Edit "),r(),a(7,"lg-button",7),c(8," Back to list "),r()(),g(9,ht,3,2,"lg-gap-row",8),T(10,vt,2,1,"ng-template",null,0,L)(12,St,2,1,"ng-template",null,1,L)(14,Et,2,1,"ng-template",null,2,L)(16,It,2,1,"ng-template",null,3,L),a(18,"lg-table-card"),g(19,Nt,25,0,"table")(20,Ot,2,0,"div"),r(),a(21,"lg-gap-row",6)(22,"lg-title"),c(23," Taxes and fees "),r(),a(24,"lg-gap-row",8),g(25,Bt,2,4,"lg-button",9),a(26,"lg-view-show",10,4)(28,"lg-gap-row",11)(29,"lg-input",12),G("ngModelChange",function(C){return u(l),B(i.tax_template_name,C)||(i.tax_template_name=C),d(C)}),r(),a(30,"lg-button",13),_("click",function(){return u(l),d(i.saveTaxTemplate())}),c(31," Save "),r()()()(),a(32,"lg-button",13),_("click",function(){return u(l),d(i.saveDefaultTaxTemplate())}),c(33," Save as default template "),r(),a(34,"lg-gap-row",8),g(35,Gt,2,4,"lg-button",9),a(36,"lg-view-show",10,5)(38,"lg-gap-row",11)(39,"lg-input",12),G("ngModelChange",function(C){return u(l),B(i.tax_template_name,C)||(i.tax_template_name=C),d(C)}),r(),a(40,"lg-button",13),_("click",function(){return u(l),d(i.loadTaxTemplate())}),c(41," Apply "),r()()()()(),a(42,"lg-taxes-and-fees-list",14),_("totalTaxesChanged",function(C){return u(l),d(i.onTotalTaxesChanged(C))}),r()()()}if(e&2){let l,m,C,P,Ye=h(27),Ze=h(37);o(2),p("center",!0)("mobileMode",!0),o(2),f(" ",(l=i.result())==null||l.recipe==null?null:l.recipe.name," cost calculation "),o(),v("primary"),p("flat",!0)("link","/edit-recipe/"+((m=i.result())==null||m.recipe==null?null:m.recipe.uuid))("size","small"),o(2),v("warning"),p("flat",!0)("link","/recipes")("size","small"),o(2),x((C=i.result())!=null&&C.total?9:-1),o(10),x(i.result()?19:20),o(2),p("center",!0)("mobileMode",!0),o(3),p("center",!0),o(),x(Ye.showed()?-1:25),o(3),p("center",!0)("size","small"),o(),O("ngModel",i.tax_template_name),p("placeholder","Template name"),o(),v("primary"),p("flat",!0)("size","small"),o(2),v("primary"),p("flat",!0)("size","small"),o(2),p("center",!0),o(),x(Ze.showed()?-1:35),o(3),p("center",!0)("size","small"),o(),O("ngModel",i.tax_template_name),p("placeholder","Template name"),o(),v("primary"),p("flat",!0)("size","small"),o(2),p("rows",i.taxRows())("total",((P=i.result())==null?null:P.total)??0)}},dependencies:[Ve,$,ne,ke,X,te,Ee,Y,J,V,U,Z,Me,q,N,Re,le,Q],styles:[`lg-number-input .lg-number-input{width:100px}
`],encapsulation:2})};export{Xe as CalculateRecipeComponent};
