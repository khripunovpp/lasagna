"use strict";(self.webpackChunklasagna=self.webpackChunklasagna||[]).push([[631],{2933:(P,E,e)=>{e.d(E,{P:()=>m});var d=e(467),t=e(4374),g=e(1007),u=e(6659);let m=(()=>{class s{_indexDbService;constructor(o){this._indexDbService=o}addCategory(o){return this._indexDbService.addData(t.F.CATEGORIES,o)}getOne(o){var _=this;return(0,d.A)(function*(){return _._indexDbService.getOne(t.F.CATEGORIES,o)})()}getCategories(){return this._indexDbService.getAll(t.F.CATEGORIES)}getManyCategories(o){return this._indexDbService.getMany(t.F.CATEGORIES,o)}editCategory(o,_){return this._indexDbService.replaceData(t.F.CATEGORIES,o,_)}deleteCategory(o){return this._indexDbService.remove(t.F.CATEGORIES,o)}static \u0275fac=function(_){return new(_||s)(g.KVO(u.j))};static \u0275prov=g.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},4314:(P,E,e)=>{e.r(E),e.d(E,{CategoryListComponent:()=>y});var d=e(467),t=e(1007),g=e(7782),u=e(7512),m=e(1119),s=e(1072),v=e(553),o=e(5642),_=e(1086),O=e(2933);function C(a,i){if(1&a){const n=t.RV6();t.j41(0,"lg-gap-row",0)(1,"div",2),t.EFF(2),t.k0s(),t.j41(3,"lg-button",3),t.EFF(4," Edit "),t.k0s(),t.j41(5,"lg-button",4),t.bIt("click",function(){const l=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.deleteCategory(l))}),t.nrm(6,"mat-icon",5),t.k0s()()}if(2&a){const n=i.$implicit;t.Y8G("center",!0),t.R7$(2),t.SpI(" ",n.name," "),t.R7$(),t.Aen("primary"),t.Y8G("size","small")("link","/edit-category/"+n.uuid)("flat",!0),t.R7$(2),t.Aen("danger"),t.Y8G("size","small")("icon",!0)}}function D(a,i){1&a&&(t.j41(0,"div"),t.EFF(1,"No categories found"),t.k0s())}let y=(()=>{class a{categoryRepository;constructor(n){this.categoryRepository=n}categories=(0,t.vPA)([]);deleteCategory(n){this.categoryRepository.deleteCategory(n.uuid).then(()=>{this.loadCategory()})}ngOnInit(){var n=this;return(0,d.A)(function*(){yield n.loadCategory()})()}loadCategory(){this.categoryRepository.getCategories().then(n=>{const r=n.toSorted((l,c)=>l.name.localeCompare(c.name));this.categories.set(r)})}static \u0275fac=function(r){return new(r||a)(t.rXU(O.P))};static \u0275cmp=t.VBU({type:a,selectors:[["lg-category-list"]],decls:11,vars:7,consts:[[3,"center"],[3,"flat","link","size"],[1,"expand"],[3,"size","link","flat"],[3,"click","size","icon"],["aria-hidden","false","aria-label","Example home icon","fontIcon","close"]],template:function(r,l){1&r&&(t.j41(0,"lg-container")(1,"lg-gap-row",0)(2,"lg-title"),t.EFF(3," Categories "),t.k0s(),t.j41(4,"lg-button",1),t.EFF(5," Add "),t.k0s()(),t.j41(6,"lg-card")(7,"lg-gap-column"),t.Z7z(8,C,7,11,"lg-gap-row",0,t.Vm6,!1,D,2,0,"div"),t.k0s()()()),2&r&&(t.R7$(),t.Y8G("center",!0),t.R7$(3),t.Aen("primary"),t.Y8G("flat",!0)("link","/add-category")("size","small"),t.R7$(4),t.Dyx(l.categories()))},dependencies:[g.K,u.I,m.Q,s.d,v.i,o.H,_.W],styles:["[_nghost-%COMP%]{display:block}"]})}return a})()},7468:(P,E,e)=>{e.d(E,{p:()=>o});var d=e(1985),t=e(3073),g=e(8750),u=e(9326),m=e(4360),s=e(6450),v=e(8496);function o(..._){const O=(0,u.ms)(_),{args:C,keys:D}=(0,t.D)(_),y=new d.c(a=>{const{length:i}=C;if(!i)return void a.complete();const n=new Array(i);let r=i,l=i;for(let c=0;c<i;c++){let M=!1;(0,g.Tg)(C[c]).subscribe((0,m._)(a,p=>{M||(M=!0,l--),n[c]=p},()=>r--,void 0,()=>{(!r||!M)&&(l||a.next(D?(0,v.e)(D,n):n),a.complete())}))}});return O?y.pipe((0,s.I)(O)):y}}}]);