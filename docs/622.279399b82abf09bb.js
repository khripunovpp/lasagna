"use strict";(self.webpackChunklasagna=self.webpackChunklasagna||[]).push([[622],{622:(k,s,e)=>{e.r(s),e.d(s,{AddProductComponent:()=>G});var t=e(1007),m=e(5642),p=e(553),g=e(1086),n=e(9417),f=e(3333),h=e(7504),v=e(7782),d=e(1119),l=e(416),C=e(8456),i=e(8536),R=e(9895),P=e(7201),a=e(5554);function y(r,$){if(1&r){const o=t.RV6();t.j41(0,"lg-button",11),t.bIt("click",function(){t.eBV(o);const c=t.XpG();return t.Njj(c.editProduct(c.value))}),t.EFF(1," Edit Product "),t.k0s()}}function F(r,$){if(1&r){const o=t.RV6();t.j41(0,"lg-button",11),t.bIt("click",function(){t.eBV(o);const c=t.XpG();return t.Njj(c.addProduct(c.value))}),t.EFF(1," Add Product "),t.k0s()}}let j=(()=>{class r{_productsRepository;_selectResourcesService;_router;constructor(o,u,c){this._productsRepository=o,this._selectResourcesService=u,this._router=c}form=new n.gE({name:new n.MJ("",n.k0.required),amount:new n.MJ(null,n.k0.required),price:new n.MJ(null,n.k0.required),source:new n.MJ(""),category_id:new n.MJ(null,n.k0.required)});uuid=(0,t.hFB)("");uuidEffect=(0,t.QZP)(()=>{this.uuid()&&this._productsRepository.getOne(this.uuid(),o=>{this.form.reset(o)})});get value(){return this.form.value}ngOnInit(){}addProduct(o){this._productsRepository.addProduct((0,i.rh)(o)).then(()=>{this._router.navigate(["/products"])})}editProduct(o){this._productsRepository.editProduct(this.uuid(),(0,i.rh)(o)).then(()=>{this._router.navigate(["/products"])})}ngAfterViewInit(){this._selectResourcesService.load().then(o=>{})}static \u0275fac=function(u){return new(u||r)(t.rXU(P.d),t.rXU(l.n),t.rXU(a.Ix))};static \u0275cmp=t.VBU({type:r,selectors:[["lg-add-product-form"]],inputs:{uuid:[1,"uuid"]},features:[t.Jv_([{provide:l.n,useClass:l.n}])],decls:14,vars:7,consts:[[3,"formGroup"],["label","Name"],["formControlName","name",3,"placeholder"],["label","Amount"],["formControlName","amount",3,"placeholder"],["label","Price per unit"],["formControlName","price",3,"placeholder"],["label","Source"],["formControlName","source",3,"placeholder"],["label","Category"],["formControlName","category_id",3,"resource"],[3,"click"]],template:function(u,c){1&u&&(t.j41(0,"form",0)(1,"lg-gap-column")(2,"lg-control",1),t.nrm(3,"lg-input",2),t.k0s(),t.j41(4,"lg-control",3),t.nrm(5,"lg-number-input",4),t.k0s(),t.j41(6,"lg-control",5),t.nrm(7,"lg-number-input",6),t.k0s(),t.j41(8,"lg-control",7),t.nrm(9,"lg-input",8),t.k0s(),t.j41(10,"lg-control",9),t.nrm(11,"lg-multiselect",10),t.k0s(),t.DNE(12,y,2,0,"lg-button")(13,F,2,0,"lg-button"),t.k0s()()),2&u&&(t.Y8G("formGroup",c.form),t.R7$(3),t.Y8G("placeholder","Your product name"),t.R7$(2),t.Y8G("placeholder","In grams"),t.R7$(2),t.Y8G("placeholder","In your currency"),t.R7$(2),t.Y8G("placeholder","Where do you buy it?"),t.R7$(2),t.Y8G("resource","categories"),t.R7$(),t.vxM(c.uuid()?12:13))},dependencies:[n.X1,n.qT,n.BC,n.cb,n.j4,n.JD,f.S,h.X,v.K,d.Q,C.$,R.N],encapsulation:2})}return r})();var A=e(7512);let G=(()=>{class r{_aRoute;constructor(o){this._aRoute=o}uuid=(0,t.vPA)("");ngOnInit(){this._aRoute.params.subscribe(o=>{this.uuid.set(o.uuid)})}static \u0275fac=function(u){return new(u||r)(t.rXU(a.nX))};static \u0275cmp=t.VBU({type:r,selectors:[["app-add-recipe"]],decls:8,vars:8,consts:[[3,"center"],[3,"flat","link","size"],[3,"uuid"]],template:function(u,c){1&u&&(t.j41(0,"lg-container")(1,"lg-gap-row",0)(2,"lg-title"),t.EFF(3),t.k0s(),t.j41(4,"lg-button",1),t.EFF(5," Back to list "),t.k0s()(),t.j41(6,"lg-card"),t.nrm(7,"lg-add-product-form",2),t.k0s()()),2&u&&(t.R7$(),t.Y8G("center",!0),t.R7$(2),t.SpI("",c.uuid()?"Edit":"Add"," Product"),t.R7$(),t.Aen("warning"),t.Y8G("flat",!0)("link","/products")("size","small"),t.R7$(3),t.Y8G("uuid",c.uuid()))},dependencies:[m.H,p.i,g.W,j,d.Q,A.I],encapsulation:2})}return r})()}}]);