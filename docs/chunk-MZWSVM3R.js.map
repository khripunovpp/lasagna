{
  "version": 3,
  "sources": ["src/app/features/invoices/view/add-invoice/parts/entity-item-selector.component.ts"],
  "sourcesContent": ["import {Component, effect, forwardRef, Input, output, signal, ViewEncapsulation} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {TranslatePipe} from '@ngx-translate/core';\n\n@Component({\n  selector: 'lg-entity-item-selector',\n  standalone: true,\n  template: `\n    <div class=\"entity-item-selector\">\n      <div class=\"entity-item-selector__tabs\">\n        @for (item of items(); track item.slug; let last = $last, first = $first, index = $index) {\n          <button class=\"entity-item-selector__tab\"\n                  [class.active]=\"activeIndex() === index\"\n                  (click)=\"onClickItem(item, index)\">\n            {{ item.title | translate }}\n          </button>\n        }\n      </div>\n      <div class=\"entity-item-selector__body\">\n        @for (item of items(); track item.slug; let last = $last, first = $first, index = $index) {\n          <div class=\"entity-item-selector__part\"\n               (click)=\"onClickItem(item, index)\"\n               [class.active]=\"activeIndex() === index\">\n            <div class=\"entity-item-selector__control\">\n              @if (item.slug === 'custom') {\n                <ng-content select=\"freeStyle\"></ng-content>\n              }\n              @if (item.slug === 'product') {\n                <ng-content select=\"products\"></ng-content>\n              }\n              @if (item.slug === 'recipe') {\n                <ng-content select=\"recipes\"></ng-content>\n              }\n            </div>\n          </div>\n        }\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      .entity-item-selector {\n        display: flex;\n        flex-direction: column;\n        position: relative;\n        padding-top: 27px;\n        --part-color-opacity: 0.5;\n\n        &__tabs {\n          display: flex;\n          flex: 1;\n          gap: 8px;\n          position: absolute;\n          z-index: 1;\n          top: 0;\n          left: 0;\n          width: 100%;\n          white-space: nowrap;\n        }\n\n        &__tab {\n          background-color: var(--part-color);\n          padding: 4px 12px;\n          border-radius: 8px 8px 0 0;\n          cursor: pointer;\n          opacity: var(--part-color-opacity, 0.2);\n          appearance: none;\n          color: inherit;\n          border: none;\n          font-family: inherit;\n          font-weight: 400;\n          font-size: 16px;\n          transform: translateY(8px) scale(0.95);\n          transition: transform 0.2s ease-in-out, opacity 0.2s ease-in-out;\n\n          &.active,\n          &:hover {\n            --part-color-opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n\n          &:focus {\n            outline: none;\n            box-shadow: var(--focus-shadow);\n            --part-color-opacity: 0.7;\n            transform: translateY(0) scale(1);\n          }\n        }\n\n        &__body {\n          background-color: var(--control-bg);\n          border-radius: 0 12px 12px 12px;\n          gap: 16px;\n          position: relative;\n          z-index: 2;\n        }\n\n        &__control {\n          display: none;\n          flex: 1;\n          width: 100%;\n        }\n\n        &__part,\n        &__tab {\n          &:nth-child(1) {\n            --part-color: rgba(105, 185, 255, var(--part-color-opacity, 0.5));\n          }\n\n          &:nth-child(2) {\n            --part-color: rgba(108, 190, 108, var(--part-color-opacity, 0.5));\n          }\n\n          &:nth-child(3) {\n            --part-color: rgba(198, 213, 255, var(--part-color-opacity, 0.5));\n          }\n        }\n\n        &__part {\n          display: flex;\n\n          &.active {\n            flex: 1;\n\n\n            .entity-item-selector__control {\n              display: block;\n            }\n          }\n        }\n      }\n    `\n  ],\n  imports: [TranslatePipe],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => EntityItemSelectorComponent),\n      multi: true\n    }\n  ]\n})\nexport class EntityItemSelectorComponent\n  implements ControlValueAccessor {\n  @Input() flat = false;\n  items = signal<{\n    slug: string\n    title: string\n  }[]>([\n    {\n      slug: 'recipe',\n      title: 'entity-item.selector.recipe',\n    },\n    {\n      slug: 'product',\n      title: 'entity-item.selector.product',\n    },\n  ]);\n  activeIndex = signal<number>(0);\n  value = signal<string>('');\n  onChanged = output<string>();\n  effect = effect(() => {\n    const activeIndex = this.items()?.findIndex(item => item.slug === this.value()) ?? -1;\n    this.activeIndex.set(activeIndex === -1 ? 0 : activeIndex);\n  });\n\n  onClickItem(item: any, index: number) {\n    this.activeIndex.set(index);\n    this.writeValue(item.slug);\n    this.onChanged.emit(item.slug);\n    item.onClick?.();\n  }\n\n  onChange: (value: string) => void = () => {\n  };\n  onTouched: () => void = () => {\n  };\n\n  writeValue(value: string): void {\n    this._change(value);\n  }\n\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  private _change(value: string) {\n    this.value.set(value);\n    this.onChange(this.value());\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWU,IAAA,4BAAA,GAAA,UAAA,CAAA;AAEQ,IAAA,wBAAA,SAAA,SAAA,qEAAA;AAAA,YAAA,SAAA,wBAAA,GAAA;AAAA,YAAA,UAAA,OAAA;AAAA,YAAA,oBAAA,OAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,SAAA,iBAAA,CAAwB;IAAA,CAAA;AACvC,IAAA,iBAAA,CAAA;;AACF,IAAA,0BAAA;;;;;;AAHQ,IAAA,sBAAA,UAAA,OAAA,YAAA,MAAA,iBAAA;AAEN,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,sBAAA,GAAA,GAAA,QAAA,KAAA,GAAA,GAAA;;;;;AAWI,IAAA,uBAAA,CAAA;;;;;AAGA,IAAA,uBAAA,GAAA,CAAA;;;;;AAGA,IAAA,uBAAA,GAAA,CAAA;;;;;;AAXN,IAAA,4BAAA,GAAA,OAAA,CAAA;AACK,IAAA,wBAAA,SAAA,SAAA,kEAAA;AAAA,YAAA,SAAA,wBAAA,GAAA;AAAA,YAAA,UAAA,OAAA;AAAA,YAAA,qBAAA,OAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,SAAA,kBAAA,CAAwB;IAAA,CAAA;AAEpC,IAAA,4BAAA,GAAA,OAAA,CAAA;AACE,IAAA,8BAAA,GAAA,0DAAA,GAAA,CAAA;AAGA,IAAA,8BAAA,GAAA,0DAAA,GAAA,CAAA;AAGA,IAAA,8BAAA,GAAA,0DAAA,GAAA,CAAA;AAGF,IAAA,0BAAA,EAAM;;;;;;AAXH,IAAA,sBAAA,UAAA,OAAA,YAAA,MAAA,kBAAA;AAED,IAAA,oBAAA,CAAA;AAAA,IAAA,wBAAA,QAAA,SAAA,WAAA,IAAA,EAAA;AAGA,IAAA,oBAAA;AAAA,IAAA,wBAAA,QAAA,SAAA,YAAA,IAAA,EAAA;AAGA,IAAA,oBAAA;AAAA,IAAA,wBAAA,QAAA,SAAA,WAAA,IAAA,EAAA;;;AAiHR,IAAO,8BAAP,MAAO,6BAA2B;EAE7B,OAAO;EAChB,QAAQ,OAGH;IACH;MACE,MAAM;MACN,OAAO;;IAET;MACE,MAAM;MACN,OAAO;;KAEV,GAAA,YAAA,CAAA,EAAA,WAAA,QAAA,CAAA,IAAA,CAAA,CAAA;EACD,cAAc,OAAe,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,cAAA,CAAA,IAAA,CAAA,CAAA;EAC9B,QAAQ,OAAe,IAAE,GAAA,YAAA,CAAA,EAAA,WAAA,QAAA,CAAA,IAAA,CAAA,CAAA;EACzB,YAAY,OAAM;EAClB,SAAS,OAAO,MAAK;AACnB,UAAM,cAAc,KAAK,MAAK,GAAI,UAAU,UAAQ,KAAK,SAAS,KAAK,MAAK,CAAE,KAAK;AACnF,SAAK,YAAY,IAAI,gBAAgB,KAAK,IAAI,WAAW;EAC3D,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,SAAA,CAAA,IAAA,CAAA,CAAA;EAED,YAAY,MAAW,OAAa;AAClC,SAAK,YAAY,IAAI,KAAK;AAC1B,SAAK,WAAW,KAAK,IAAI;AACzB,SAAK,UAAU,KAAK,KAAK,IAAI;AAC7B,SAAK,UAAS;EAChB;EAEA,WAAoC,MAAK;EACzC;EACA,YAAwB,MAAK;EAC7B;EAEA,WAAW,OAAa;AACtB,SAAK,QAAQ,KAAK;EACpB;EAEA,iBAAiB,IAAO;AACtB,SAAK,WAAW;EAClB;EAEA,kBAAkB,IAAO;AACvB,SAAK,YAAY;EACnB;EAEQ,QAAQ,OAAa;AAC3B,SAAK,MAAM,IAAI,KAAK;AACpB,SAAK,SAAS,KAAK,MAAK,CAAE;EAC5B;;qCAnDW,8BAA2B;EAAA;yEAA3B,8BAA2B,WAAA,CAAA,CAAA,yBAAA,CAAA,GAAA,QAAA,EAAA,MAAA,OAAA,GAAA,SAAA,EAAA,WAAA,YAAA,GAAA,UAAA,CAAA,6BAR3B;IACT;MACE,SAAS;MACT,aAAa,WAAW,MAAM,4BAA2B;MACzD,OAAO;;GAEV,CAAA,GAAA,oBAAA,KAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,sBAAA,GAAA,CAAA,GAAA,4BAAA,GAAA,CAAA,GAAA,6BAAA,GAAA,QAAA,GAAA,CAAA,GAAA,4BAAA,GAAA,CAAA,GAAA,8BAAA,GAAA,QAAA,GAAA,CAAA,GAAA,6BAAA,GAAA,OAAA,GAAA,CAAA,GAAA,8BAAA,GAAA,OAAA,GAAA,CAAA,GAAA,+BAAA,CAAA,GAAA,UAAA,SAAA,qCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;;AArIC,MAAA,4BAAA,GAAA,OAAA,CAAA,EAAkC,GAAA,OAAA,CAAA;AAE9B,MAAA,2BAAA,GAAA,4CAAA,GAAA,GAAA,UAAA,GAAA,UAAA;AAOF,MAAA,0BAAA;AACA,MAAA,4BAAA,GAAA,OAAA,CAAA;AACE,MAAA,2BAAA,GAAA,4CAAA,GAAA,GAAA,OAAA,GAAA,UAAA;AAiBF,MAAA,0BAAA,EAAM;;;AA1BJ,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,IAAA,MAAA,CAAO;AASP,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,IAAA,MAAA,CAAO;;oBAkHH,aAAa,GAAA,QAAA,CAAA,iuEAAA,GAAA,eAAA,EAAA,CAAA;;;sEAUZ,6BAA2B,CAAA;UA3IvC;uBACW,2BAAyB,YACvB,MAAI,UACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA+BT,SA+FQ,CAAC,aAAa,GAAC,eACT,kBAAkB,MAAI,WAC1B;MACT;QACE,SAAS;QACT,aAAa,WAAW,MAAK,2BAA4B;QACzD,OAAO;;OAEV,QAAA,CAAA,iuEAAA,EAAA,CAAA;cAIQ,MAAI,CAAA;UAAZ;;;;6EAFU,6BAA2B,EAAA,WAAA,+BAAA,UAAA,sFAAA,YAAA,IAAA,CAAA;AAAA,GAAA;",
  "names": []
}
